var $0=Object.defineProperty;var F0=(t,e,n)=>e in t?$0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var I=(t,e,n)=>F0(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function B0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function U0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var i=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return t[s]}})}),n}var tp={exports:{}},da={},np={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=Symbol.for("react.element"),V0=Symbol.for("react.portal"),H0=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),K0=Symbol.for("react.profiler"),Y0=Symbol.for("react.provider"),q0=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),Q0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),J0=Symbol.for("react.lazy"),dd=Symbol.iterator;function Z0(t){return t===null||typeof t!="object"?null:(t=dd&&t[dd]||t["@@iterator"],typeof t=="function"?t:null)}var sp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ip=Object.assign,rp={};function Js(t,e,n){this.props=t,this.context=e,this.refs=rp,this.updater=n||sp}Js.prototype.isReactComponent={};Js.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Js.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function op(){}op.prototype=Js.prototype;function Bc(t,e,n){this.props=t,this.context=e,this.refs=rp,this.updater=n||sp}var Uc=Bc.prototype=new op;Uc.constructor=Bc;ip(Uc,Js.prototype);Uc.isPureReactComponent=!0;var hd=Array.isArray,ap=Object.prototype.hasOwnProperty,Vc={current:null},lp={key:!0,ref:!0,__self:!0,__source:!0};function cp(t,e,n){var s,i={},r=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)ap.call(e,s)&&!lp.hasOwnProperty(s)&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:xr,type:t,key:r,ref:o,props:i,_owner:Vc.current}}function ey(t,e){return{$$typeof:xr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hc(t){return typeof t=="object"&&t!==null&&t.$$typeof===xr}function ty(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fd=/\/+/g;function Ba(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ty(""+t.key):e.toString(36)}function uo(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xr:case V0:o=!0}}if(o)return o=t,i=i(o),t=s===""?"."+Ba(o,0):s,hd(i)?(n="",t!=null&&(n=t.replace(fd,"$&/")+"/"),uo(i,e,n,"",function(c){return c})):i!=null&&(Hc(i)&&(i=ey(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,s=s===""?".":s+":",hd(t))for(var a=0;a<t.length;a++){r=t[a];var l=s+Ba(r,a);o+=uo(r,e,n,l,i)}else if(l=Z0(t),typeof l=="function")for(t=l.call(t),a=0;!(r=t.next()).done;)r=r.value,l=s+Ba(r,a++),o+=uo(r,e,n,l,i);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Er(t,e,n){if(t==null)return t;var s=[],i=0;return uo(t,s,"","",function(r){return e.call(n,r,i++)}),s}function ny(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ke={current:null},ho={transition:null},sy={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:ho,ReactCurrentOwner:Vc};function up(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Er,forEach:function(t,e,n){Er(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Er(t,function(){e++}),e},toArray:function(t){return Er(t,function(e){return e})||[]},only:function(t){if(!Hc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=Js;W.Fragment=H0;W.Profiler=K0;W.PureComponent=Bc;W.StrictMode=W0;W.Suspense=Q0;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sy;W.act=up;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=ip({},t.props),i=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Vc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ap.call(e,l)&&!lp.hasOwnProperty(l)&&(s[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:xr,type:t.type,key:i,ref:r,props:s,_owner:o}};W.createContext=function(t){return t={$$typeof:q0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Y0,_context:t},t.Consumer=t};W.createElement=cp;W.createFactory=function(t){var e=cp.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:G0,render:t}};W.isValidElement=Hc;W.lazy=function(t){return{$$typeof:J0,_payload:{_status:-1,_result:t},_init:ny}};W.memo=function(t,e){return{$$typeof:X0,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=ho.transition;ho.transition={};try{t()}finally{ho.transition=e}};W.unstable_act=up;W.useCallback=function(t,e){return Ke.current.useCallback(t,e)};W.useContext=function(t){return Ke.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Ke.current.useDeferredValue(t)};W.useEffect=function(t,e){return Ke.current.useEffect(t,e)};W.useId=function(){return Ke.current.useId()};W.useImperativeHandle=function(t,e,n){return Ke.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Ke.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Ke.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Ke.current.useMemo(t,e)};W.useReducer=function(t,e,n){return Ke.current.useReducer(t,e,n)};W.useRef=function(t){return Ke.current.useRef(t)};W.useState=function(t){return Ke.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return Ke.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Ke.current.useTransition()};W.version="18.3.1";np.exports=W;var N=np.exports;const dp=B0(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=N,ry=Symbol.for("react.element"),oy=Symbol.for("react.fragment"),ay=Object.prototype.hasOwnProperty,ly=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cy={key:!0,ref:!0,__self:!0,__source:!0};function hp(t,e,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)ay.call(e,s)&&!cy.hasOwnProperty(s)&&(i[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)i[s]===void 0&&(i[s]=e[s]);return{$$typeof:ry,type:t,key:r,ref:o,props:i,_owner:ly.current}}da.Fragment=oy;da.jsx=hp;da.jsxs=hp;tp.exports=da;var d=tp.exports,fp={exports:{}},ct={},pp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,D){var C=T.length;T.push(D);e:for(;0<C;){var A=C-1>>>1,F=T[A];if(0<i(F,D))T[A]=D,T[C]=F,C=A;else break e}}function n(T){return T.length===0?null:T[0]}function s(T){if(T.length===0)return null;var D=T[0],C=T.pop();if(C!==D){T[0]=C;e:for(var A=0,F=T.length,te=F>>>1;A<te;){var U=2*(A+1)-1,Ue=T[U],Te=U+1,hs=T[Te];if(0>i(Ue,C))Te<F&&0>i(hs,Ue)?(T[A]=hs,T[Te]=C,A=Te):(T[A]=Ue,T[U]=C,A=U);else if(Te<F&&0>i(hs,C))T[A]=hs,T[Te]=C,A=Te;else break e}}return D}function i(T,D){var C=T.sortIndex-D.sortIndex;return C!==0?C:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(T){for(var D=n(c);D!==null;){if(D.callback===null)s(c);else if(D.startTime<=T)s(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function w(T){if(v=!1,_(T),!m)if(n(l)!==null)m=!0,G(b);else{var D=n(c);D!==null&&ee(w,D.startTime-T)}}function b(T,D){m=!1,v&&(v=!1,g(j),j=-1),p=!0;var C=f;try{for(_(D),h=n(l);h!==null&&(!(h.expirationTime>D)||T&&!z());){var A=h.callback;if(typeof A=="function"){h.callback=null,f=h.priorityLevel;var F=A(h.expirationTime<=D);D=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(l)&&s(l),_(D)}else s(l);h=n(l)}if(h!==null)var te=!0;else{var U=n(c);U!==null&&ee(w,U.startTime-D),te=!1}return te}finally{h=null,f=C,p=!1}}var k=!1,S=null,j=-1,M=5,O=-1;function z(){return!(t.unstable_now()-O<M)}function $(){if(S!==null){var T=t.unstable_now();O=T;var D=!0;try{D=S(!0,T)}finally{D?re():(k=!1,S=null)}}else k=!1}var re;if(typeof y=="function")re=function(){y($)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,q=xe.port2;xe.port1.onmessage=$,re=function(){q.postMessage(null)}}else re=function(){x($,0)};function G(T){S=T,k||(k=!0,re())}function ee(T,D){j=x(function(){T(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,G(b))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var C=f;f=D;try{return T()}finally{f=C}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var C=f;f=T;try{return D()}finally{f=C}},t.unstable_scheduleCallback=function(T,D,C){var A=t.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?A+C:A):C=A,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=C+F,T={id:u++,callback:D,priorityLevel:T,startTime:C,expirationTime:F,sortIndex:-1},C>A?(T.sortIndex=C,e(c,T),n(l)===null&&T===n(c)&&(v?(g(j),j=-1):v=!0,ee(w,C-A))):(T.sortIndex=F,e(l,T),m||p||(m=!0,G(b))),T},t.unstable_shouldYield=z,t.unstable_wrapCallback=function(T){var D=f;return function(){var C=f;f=D;try{return T.apply(this,arguments)}finally{f=C}}}})(gp);pp.exports=gp;var uy=pp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy=N,lt=uy;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mp=new Set,Wi={};function as(t,e){Fs(t,e),Fs(t+"Capture",e)}function Fs(t,e){for(Wi[t]=e,t=0;t<e.length;t++)mp.add(e[t])}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tl=Object.prototype.hasOwnProperty,hy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pd={},gd={};function fy(t){return Tl.call(gd,t)?!0:Tl.call(pd,t)?!1:hy.test(t)?gd[t]=!0:(pd[t]=!0,!1)}function py(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gy(t,e,n,s){if(e===null||typeof e>"u"||py(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,n,s,i,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ae[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ae[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ae[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ae[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ae[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ae[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ae[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ae[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ae[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wc=/[\-:]([a-z])/g;function Kc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wc,Kc);Ae[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wc,Kc);Ae[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wc,Kc);Ae[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ae[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ae[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yc(t,e,n,s){var i=Ae.hasOwnProperty(e)?Ae[e]:null;(i!==null?i.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gy(e,n,i,s)&&(n=null),s||i===null?fy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,s=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var rn=dy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pr=Symbol.for("react.element"),xs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),qc=Symbol.for("react.strict_mode"),Ml=Symbol.for("react.profiler"),yp=Symbol.for("react.provider"),vp=Symbol.for("react.context"),Gc=Symbol.for("react.forward_ref"),Ol=Symbol.for("react.suspense"),Al=Symbol.for("react.suspense_list"),Qc=Symbol.for("react.memo"),un=Symbol.for("react.lazy"),xp=Symbol.for("react.offscreen"),md=Symbol.iterator;function ri(t){return t===null||typeof t!="object"?null:(t=md&&t[md]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,Ua;function _i(t){if(Ua===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ua=e&&e[1]||""}return`
`+Ua+t}var Va=!1;function Ha(t,e){if(!t||Va)return"";Va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var s=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){s=c}t.call(e.prototype)}else{try{throw Error()}catch(c){s=c}t()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Va=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_i(t):""}function my(t){switch(t.tag){case 5:return _i(t.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 2:case 15:return t=Ha(t.type,!1),t;case 11:return t=Ha(t.type.render,!1),t;case 1:return t=Ha(t.type,!0),t;default:return""}}function Rl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case xs:return"Portal";case Ml:return"Profiler";case qc:return"StrictMode";case Ol:return"Suspense";case Al:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vp:return(t.displayName||"Context")+".Consumer";case yp:return(t._context.displayName||"Context")+".Provider";case Gc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qc:return e=t.displayName||null,e!==null?e:Rl(t.type)||"Memo";case un:e=t._payload,t=t._init;try{return Rl(t(e))}catch{}}return null}function yy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rl(e);case 8:return e===qc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _p(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vy(t){var e=_p(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tr(t){t._valueTracker||(t._valueTracker=vy(t))}function bp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=_p(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Po(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dl(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yd(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=Tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wp(t,e){e=e.checked,e!=null&&Yc(t,"checked",e,!1)}function Ll(t,e){wp(t,e);var n=Tn(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Il(t,e.type,n):e.hasOwnProperty("defaultValue")&&Il(t,e.type,Tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Il(t,e,n){(e!=="number"||Po(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bi=Array.isArray;function Ms(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(bi(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tn(n)}}function kp(t,e){var n=Tn(e.value),s=Tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function _d(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Sp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $l(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Sp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mr,jp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mr=Mr||document.createElement("div"),Mr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ki(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xy=["Webkit","ms","Moz","O"];Object.keys(Ti).forEach(function(t){xy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ti[e]=Ti[t]})});function Cp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ti.hasOwnProperty(t)&&Ti[t]?(""+e).trim():e+"px"}function Np(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=Cp(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}var _y=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(t,e){if(e){if(_y[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Bl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ul=null;function Xc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vl=null,Os=null,As=null;function bd(t){if(t=wr(t)){if(typeof Vl!="function")throw Error(E(280));var e=t.stateNode;e&&(e=ma(e),Vl(t.stateNode,t.type,e))}}function Ep(t){Os?As?As.push(t):As=[t]:Os=t}function Pp(){if(Os){var t=Os,e=As;if(As=Os=null,bd(t),e)for(t=0;t<e.length;t++)bd(e[t])}}function Tp(t,e){return t(e)}function Mp(){}var Wa=!1;function Op(t,e,n){if(Wa)return t(e,n);Wa=!0;try{return Tp(t,e,n)}finally{Wa=!1,(Os!==null||As!==null)&&(Mp(),Pp())}}function Yi(t,e){var n=t.stateNode;if(n===null)return null;var s=ma(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Hl=!1;if(en)try{var oi={};Object.defineProperty(oi,"passive",{get:function(){Hl=!0}}),window.addEventListener("test",oi,oi),window.removeEventListener("test",oi,oi)}catch{Hl=!1}function by(t,e,n,s,i,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Mi=!1,To=null,Mo=!1,Wl=null,wy={onError:function(t){Mi=!0,To=t}};function ky(t,e,n,s,i,r,o,a,l){Mi=!1,To=null,by.apply(wy,arguments)}function Sy(t,e,n,s,i,r,o,a,l){if(ky.apply(this,arguments),Mi){if(Mi){var c=To;Mi=!1,To=null}else throw Error(E(198));Mo||(Mo=!0,Wl=c)}}function ls(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ap(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wd(t){if(ls(t)!==t)throw Error(E(188))}function jy(t){var e=t.alternate;if(!e){if(e=ls(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return wd(i),t;if(r===s)return wd(i),e;r=r.sibling}throw Error(E(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==s)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Rp(t){return t=jy(t),t!==null?Dp(t):null}function Dp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dp(t);if(e!==null)return e;t=t.sibling}return null}var Lp=lt.unstable_scheduleCallback,kd=lt.unstable_cancelCallback,Cy=lt.unstable_shouldYield,Ny=lt.unstable_requestPaint,_e=lt.unstable_now,Ey=lt.unstable_getCurrentPriorityLevel,Jc=lt.unstable_ImmediatePriority,Ip=lt.unstable_UserBlockingPriority,Oo=lt.unstable_NormalPriority,Py=lt.unstable_LowPriority,zp=lt.unstable_IdlePriority,ha=null,zt=null;function Ty(t){if(zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(ha,t,void 0,(t.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:Ay,My=Math.log,Oy=Math.LN2;function Ay(t){return t>>>=0,t===0?32:31-(My(t)/Oy|0)|0}var Or=64,Ar=4194304;function wi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ao(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,i=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=wi(a):(r&=o,r!==0&&(s=wi(r)))}else o=n&~i,o!==0?s=wi(o):r!==0&&(s=wi(r));if(s===0)return 0;if(e!==0&&e!==s&&!(e&i)&&(i=s&-s,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-Ct(e),i=1<<n,s|=t[n],e&=~i;return s}function Ry(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dy(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Ct(r),a=1<<o,l=i[o];l===-1?(!(a&n)||a&s)&&(i[o]=Ry(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}function Kl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $p(){var t=Or;return Or<<=1,!(Or&4194240)&&(Or=64),t}function Ka(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _r(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ct(e),t[e]=n}function Ly(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ct(n),r=1<<i;e[i]=0,s[i]=-1,t[i]=-1,n&=~r}}function Zc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Ct(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}var ie=0;function Fp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bp,eu,Up,Vp,Hp,Yl=!1,Rr=[],bn=null,wn=null,kn=null,qi=new Map,Gi=new Map,fn=[],Iy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sd(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":qi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gi.delete(e.pointerId)}}function ai(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=wr(e),e!==null&&eu(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zy(t,e,n,s,i){switch(e){case"focusin":return bn=ai(bn,t,e,n,s,i),!0;case"dragenter":return wn=ai(wn,t,e,n,s,i),!0;case"mouseover":return kn=ai(kn,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return qi.set(r,ai(qi.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,Gi.set(r,ai(Gi.get(r)||null,t,e,n,s,i)),!0}return!1}function Wp(t){var e=Kn(t.target);if(e!==null){var n=ls(e);if(n!==null){if(e=n.tag,e===13){if(e=Ap(n),e!==null){t.blockedOn=e,Hp(t.priority,function(){Up(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ql(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Ul=s,n.target.dispatchEvent(s),Ul=null}else return e=wr(n),e!==null&&eu(e),t.blockedOn=n,!1;e.shift()}return!0}function jd(t,e,n){fo(t)&&n.delete(e)}function $y(){Yl=!1,bn!==null&&fo(bn)&&(bn=null),wn!==null&&fo(wn)&&(wn=null),kn!==null&&fo(kn)&&(kn=null),qi.forEach(jd),Gi.forEach(jd)}function li(t,e){t.blockedOn===e&&(t.blockedOn=null,Yl||(Yl=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,$y)))}function Qi(t){function e(i){return li(i,t)}if(0<Rr.length){li(Rr[0],t);for(var n=1;n<Rr.length;n++){var s=Rr[n];s.blockedOn===t&&(s.blockedOn=null)}}for(bn!==null&&li(bn,t),wn!==null&&li(wn,t),kn!==null&&li(kn,t),qi.forEach(e),Gi.forEach(e),n=0;n<fn.length;n++)s=fn[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<fn.length&&(n=fn[0],n.blockedOn===null);)Wp(n),n.blockedOn===null&&fn.shift()}var Rs=rn.ReactCurrentBatchConfig,Ro=!0;function Fy(t,e,n,s){var i=ie,r=Rs.transition;Rs.transition=null;try{ie=1,tu(t,e,n,s)}finally{ie=i,Rs.transition=r}}function By(t,e,n,s){var i=ie,r=Rs.transition;Rs.transition=null;try{ie=4,tu(t,e,n,s)}finally{ie=i,Rs.transition=r}}function tu(t,e,n,s){if(Ro){var i=ql(t,e,n,s);if(i===null)nl(t,e,s,Do,n),Sd(t,s);else if(zy(i,t,e,n,s))s.stopPropagation();else if(Sd(t,s),e&4&&-1<Iy.indexOf(t)){for(;i!==null;){var r=wr(i);if(r!==null&&Bp(r),r=ql(t,e,n,s),r===null&&nl(t,e,s,Do,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else nl(t,e,s,null,n)}}var Do=null;function ql(t,e,n,s){if(Do=null,t=Xc(s),t=Kn(t),t!==null)if(e=ls(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ap(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Do=t,null}function Kp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ey()){case Jc:return 1;case Ip:return 4;case Oo:case Py:return 16;case zp:return 536870912;default:return 16}default:return 16}}var mn=null,nu=null,po=null;function Yp(){if(po)return po;var t,e=nu,n=e.length,s,i="value"in mn?mn.value:mn.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===i[r-s];s++);return po=i.slice(t,1<s?1-s:void 0)}function go(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Dr(){return!0}function Cd(){return!1}function ut(t){function e(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Dr:Cd,this.isPropagationStopped=Cd,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dr)},persist:function(){},isPersistent:Dr}),e}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=ut(Zs),br=me({},Zs,{view:0,detail:0}),Uy=ut(br),Ya,qa,ci,fa=me({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ci&&(ci&&t.type==="mousemove"?(Ya=t.screenX-ci.screenX,qa=t.screenY-ci.screenY):qa=Ya=0,ci=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),Nd=ut(fa),Vy=me({},fa,{dataTransfer:0}),Hy=ut(Vy),Wy=me({},br,{relatedTarget:0}),Ga=ut(Wy),Ky=me({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),Yy=ut(Ky),qy=me({},Zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gy=ut(qy),Qy=me({},Zs,{data:0}),Ed=ut(Qy),Xy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ev(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zy[t])?!!e[t]:!1}function iu(){return ev}var tv=me({},br,{key:function(t){if(t.key){var e=Xy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(t){return t.type==="keypress"?go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nv=ut(tv),sv=me({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=ut(sv),iv=me({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),rv=ut(iv),ov=me({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),av=ut(ov),lv=me({},fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cv=ut(lv),uv=[9,13,27,32],ru=en&&"CompositionEvent"in window,Oi=null;en&&"documentMode"in document&&(Oi=document.documentMode);var dv=en&&"TextEvent"in window&&!Oi,qp=en&&(!ru||Oi&&8<Oi&&11>=Oi),Td=" ",Md=!1;function Gp(t,e){switch(t){case"keyup":return uv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bs=!1;function hv(t,e){switch(t){case"compositionend":return Qp(e);case"keypress":return e.which!==32?null:(Md=!0,Td);case"textInput":return t=e.data,t===Td&&Md?null:t;default:return null}}function fv(t,e){if(bs)return t==="compositionend"||!ru&&Gp(t,e)?(t=Yp(),po=nu=mn=null,bs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qp&&e.locale!=="ko"?null:e.data;default:return null}}var pv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Od(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pv[t.type]:e==="textarea"}function Xp(t,e,n,s){Ep(s),e=Lo(e,"onChange"),0<e.length&&(n=new su("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ai=null,Xi=null;function gv(t){lg(t,0)}function pa(t){var e=Ss(t);if(bp(e))return t}function mv(t,e){if(t==="change")return e}var Jp=!1;if(en){var Qa;if(en){var Xa="oninput"in document;if(!Xa){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),Xa=typeof Ad.oninput=="function"}Qa=Xa}else Qa=!1;Jp=Qa&&(!document.documentMode||9<document.documentMode)}function Rd(){Ai&&(Ai.detachEvent("onpropertychange",Zp),Xi=Ai=null)}function Zp(t){if(t.propertyName==="value"&&pa(Xi)){var e=[];Xp(e,Xi,t,Xc(t)),Op(gv,e)}}function yv(t,e,n){t==="focusin"?(Rd(),Ai=e,Xi=n,Ai.attachEvent("onpropertychange",Zp)):t==="focusout"&&Rd()}function vv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pa(Xi)}function xv(t,e){if(t==="click")return pa(e)}function _v(t,e){if(t==="input"||t==="change")return pa(e)}function bv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Et=typeof Object.is=="function"?Object.is:bv;function Ji(t,e){if(Et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Tl.call(e,i)||!Et(t[i],e[i]))return!1}return!0}function Dd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,e){var n=Dd(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dd(n)}}function eg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tg(){for(var t=window,e=Po();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Po(t.document)}return e}function ou(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wv(t){var e=tg(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eg(n.ownerDocument.documentElement,n)){if(s!==null&&ou(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!t.extend&&r>s&&(i=s,s=r,r=i),i=Ld(n,r);var o=Ld(n,s);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kv=en&&"documentMode"in document&&11>=document.documentMode,ws=null,Gl=null,Ri=null,Ql=!1;function Id(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ql||ws==null||ws!==Po(s)||(s=ws,"selectionStart"in s&&ou(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ri&&Ji(Ri,s)||(Ri=s,s=Lo(Gl,"onSelect"),0<s.length&&(e=new su("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ws)))}function Lr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionend:Lr("Transition","TransitionEnd")},Ja={},ng={};en&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function ga(t){if(Ja[t])return Ja[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ng)return Ja[t]=e[n];return t}var sg=ga("animationend"),ig=ga("animationiteration"),rg=ga("animationstart"),og=ga("transitionend"),ag=new Map,zd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){ag.set(t,e),as(e,[t])}for(var Za=0;Za<zd.length;Za++){var el=zd[Za],Sv=el.toLowerCase(),jv=el[0].toUpperCase()+el.slice(1);An(Sv,"on"+jv)}An(sg,"onAnimationEnd");An(ig,"onAnimationIteration");An(rg,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(og,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);as("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));as("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));as("onBeforeInput",["compositionend","keypress","textInput","paste"]);as("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));as("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));as("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function $d(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,Sy(s,e,void 0,t),t.currentTarget=null}function lg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;$d(i,a,c),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;$d(i,a,c),r=l}}}if(Mo)throw t=Wl,Mo=!1,Wl=null,t}function ce(t,e){var n=e[tc];n===void 0&&(n=e[tc]=new Set);var s=t+"__bubble";n.has(s)||(cg(e,t,2,!1),n.add(s))}function tl(t,e,n){var s=0;e&&(s|=4),cg(n,t,s,e)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Zi(t){if(!t[Ir]){t[Ir]=!0,mp.forEach(function(n){n!=="selectionchange"&&(Cv.has(n)||tl(n,!1,t),tl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ir]||(e[Ir]=!0,tl("selectionchange",!1,e))}}function cg(t,e,n,s){switch(Kp(e)){case 1:var i=Fy;break;case 4:i=By;break;default:i=tu}n=i.bind(null,e,n,t),i=void 0,!Hl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nl(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kn(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue e}a=a.parentNode}}s=s.return}Op(function(){var c=r,u=Xc(n),h=[];e:{var f=ag.get(t);if(f!==void 0){var p=su,m=t;switch(t){case"keypress":if(go(n)===0)break e;case"keydown":case"keyup":p=nv;break;case"focusin":m="focus",p=Ga;break;case"focusout":m="blur",p=Ga;break;case"beforeblur":case"afterblur":p=Ga;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rv;break;case sg:case ig:case rg:p=Yy;break;case og:p=av;break;case"scroll":p=Uy;break;case"wheel":p=cv;break;case"copy":case"cut":case"paste":p=Gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pd}var v=(e&4)!==0,x=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=c,_;y!==null;){_=y;var w=_.stateNode;if(_.tag===5&&w!==null&&(_=w,g!==null&&(w=Yi(y,g),w!=null&&v.push(er(y,w,_)))),x)break;y=y.return}0<v.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ul&&(m=n.relatedTarget||n.fromElement)&&(Kn(m)||m[tn]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Kn(m):null,m!==null&&(x=ls(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=Nd,w="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Pd,w="onPointerLeave",g="onPointerEnter",y="pointer"),x=p==null?f:Ss(p),_=m==null?f:Ss(m),f=new v(w,y+"leave",p,n,u),f.target=x,f.relatedTarget=_,w=null,Kn(u)===c&&(v=new v(g,y+"enter",m,n,u),v.target=_,v.relatedTarget=x,w=v),x=w,p&&m)t:{for(v=p,g=m,y=0,_=v;_;_=fs(_))y++;for(_=0,w=g;w;w=fs(w))_++;for(;0<y-_;)v=fs(v),y--;for(;0<_-y;)g=fs(g),_--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=fs(v),g=fs(g)}v=null}else v=null;p!==null&&Fd(h,f,p,v,!1),m!==null&&x!==null&&Fd(h,x,m,v,!0)}}e:{if(f=c?Ss(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var b=mv;else if(Od(f))if(Jp)b=_v;else{b=vv;var k=yv}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=xv);if(b&&(b=b(t,c))){Xp(h,b,n,u);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Il(f,"number",f.value)}switch(k=c?Ss(c):window,t){case"focusin":(Od(k)||k.contentEditable==="true")&&(ws=k,Gl=c,Ri=null);break;case"focusout":Ri=Gl=ws=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,Id(h,n,u);break;case"selectionchange":if(kv)break;case"keydown":case"keyup":Id(h,n,u)}var S;if(ru)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else bs?Gp(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(qp&&n.locale!=="ko"&&(bs||j!=="onCompositionStart"?j==="onCompositionEnd"&&bs&&(S=Yp()):(mn=u,nu="value"in mn?mn.value:mn.textContent,bs=!0)),k=Lo(c,j),0<k.length&&(j=new Ed(j,t,null,n,u),h.push({event:j,listeners:k}),S?j.data=S:(S=Qp(n),S!==null&&(j.data=S)))),(S=dv?hv(t,n):fv(t,n))&&(c=Lo(c,"onBeforeInput"),0<c.length&&(u=new Ed("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=S))}lg(h,e)})}function er(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lo(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=Yi(t,n),r!=null&&s.unshift(er(t,r,i)),r=Yi(t,e),r!=null&&s.push(er(t,r,i))),t=t.return}return s}function fs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fd(t,e,n,s,i){for(var r=e._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,i?(l=Yi(n,r),l!=null&&o.unshift(er(n,l,a))):i||(l=Yi(n,r),l!=null&&o.push(er(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Nv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function Bd(t){return(typeof t=="string"?t:""+t).replace(Nv,`
`).replace(Ev,"")}function zr(t,e,n){if(e=Bd(e),Bd(t)!==e&&n)throw Error(E(425))}function Io(){}var Xl=null,Jl=null;function Zl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,Pv=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,Tv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(t){return Ud.resolve(null).then(t).catch(Mv)}:ec;function Mv(t){setTimeout(function(){throw t})}function sl(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){t.removeChild(i),Qi(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Qi(e)}function Sn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ei=Math.random().toString(36).slice(2),It="__reactFiber$"+ei,tr="__reactProps$"+ei,tn="__reactContainer$"+ei,tc="__reactEvents$"+ei,Ov="__reactListeners$"+ei,Av="__reactHandles$"+ei;function Kn(t){var e=t[It];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tn]||n[It]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vd(t);t!==null;){if(n=t[It])return n;t=Vd(t)}return e}t=n,n=t.parentNode}return null}function wr(t){return t=t[It]||t[tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function ma(t){return t[tr]||null}var nc=[],js=-1;function Rn(t){return{current:t}}function de(t){0>js||(t.current=nc[js],nc[js]=null,js--)}function ae(t,e){js++,nc[js]=t.current,t.current=e}var Mn={},Fe=Rn(Mn),et=Rn(!1),es=Mn;function Bs(t,e){var n=t.type.contextTypes;if(!n)return Mn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=e[r];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tt(t){return t=t.childContextTypes,t!=null}function zo(){de(et),de(Fe)}function Hd(t,e,n){if(Fe.current!==Mn)throw Error(E(168));ae(Fe,e),ae(et,n)}function ug(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in e))throw Error(E(108,yy(t)||"Unknown",i));return me({},n,s)}function $o(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mn,es=Fe.current,ae(Fe,t),ae(et,et.current),!0}function Wd(t,e,n){var s=t.stateNode;if(!s)throw Error(E(169));n?(t=ug(t,e,es),s.__reactInternalMemoizedMergedChildContext=t,de(et),de(Fe),ae(Fe,t)):de(et),ae(et,n)}var Kt=null,ya=!1,il=!1;function dg(t){Kt===null?Kt=[t]:Kt.push(t)}function Rv(t){ya=!0,dg(t)}function Dn(){if(!il&&Kt!==null){il=!0;var t=0,e=ie;try{var n=Kt;for(ie=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Kt=null,ya=!1}catch(i){throw Kt!==null&&(Kt=Kt.slice(t+1)),Lp(Jc,Dn),i}finally{ie=e,il=!1}}return null}var Cs=[],Ns=0,Fo=null,Bo=0,ht=[],ft=0,ts=null,qt=1,Gt="";function Fn(t,e){Cs[Ns++]=Bo,Cs[Ns++]=Fo,Fo=t,Bo=e}function hg(t,e,n){ht[ft++]=qt,ht[ft++]=Gt,ht[ft++]=ts,ts=t;var s=qt;t=Gt;var i=32-Ct(s)-1;s&=~(1<<i),n+=1;var r=32-Ct(e)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,qt=1<<32-Ct(e)+i|n<<i|s,Gt=r+t}else qt=1<<r|n<<i|s,Gt=t}function au(t){t.return!==null&&(Fn(t,1),hg(t,1,0))}function lu(t){for(;t===Fo;)Fo=Cs[--Ns],Cs[Ns]=null,Bo=Cs[--Ns],Cs[Ns]=null;for(;t===ts;)ts=ht[--ft],ht[ft]=null,Gt=ht[--ft],ht[ft]=null,qt=ht[--ft],ht[ft]=null}var at=null,ot=null,he=!1,jt=null;function fg(t,e){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,at=t,ot=Sn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,at=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ts!==null?{id:qt,overflow:Gt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,at=t,ot=null,!0):!1;default:return!1}}function sc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ic(t){if(he){var e=ot;if(e){var n=e;if(!Kd(t,e)){if(sc(t))throw Error(E(418));e=Sn(n.nextSibling);var s=at;e&&Kd(t,e)?fg(s,n):(t.flags=t.flags&-4097|2,he=!1,at=t)}}else{if(sc(t))throw Error(E(418));t.flags=t.flags&-4097|2,he=!1,at=t}}}function Yd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;at=t}function $r(t){if(t!==at)return!1;if(!he)return Yd(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zl(t.type,t.memoizedProps)),e&&(e=ot)){if(sc(t))throw pg(),Error(E(418));for(;e;)fg(t,e),e=Sn(e.nextSibling)}if(Yd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=Sn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=at?Sn(t.stateNode.nextSibling):null;return!0}function pg(){for(var t=ot;t;)t=Sn(t.nextSibling)}function Us(){ot=at=null,he=!1}function cu(t){jt===null?jt=[t]:jt.push(t)}var Dv=rn.ReactCurrentBatchConfig;function ui(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var s=n.stateNode}if(!s)throw Error(E(147,t));var i=s,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function Fr(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qd(t){var e=t._init;return e(t._payload)}function gg(t){function e(g,y){if(t){var _=g.deletions;_===null?(g.deletions=[y],g.flags|=16):_.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function s(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=En(g,y),g.index=0,g.sibling=null,g}function r(g,y,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<y?(g.flags|=2,y):_):(g.flags|=2,y)):(g.flags|=1048576,y)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,y,_,w){return y===null||y.tag!==6?(y=dl(_,g.mode,w),y.return=g,y):(y=i(y,_),y.return=g,y)}function l(g,y,_,w){var b=_.type;return b===_s?u(g,y,_.props.children,w,_.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===un&&qd(b)===y.type)?(w=i(y,_.props),w.ref=ui(g,y,_),w.return=g,w):(w=wo(_.type,_.key,_.props,null,g.mode,w),w.ref=ui(g,y,_),w.return=g,w)}function c(g,y,_,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=hl(_,g.mode,w),y.return=g,y):(y=i(y,_.children||[]),y.return=g,y)}function u(g,y,_,w,b){return y===null||y.tag!==7?(y=Xn(_,g.mode,w,b),y.return=g,y):(y=i(y,_),y.return=g,y)}function h(g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=dl(""+y,g.mode,_),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pr:return _=wo(y.type,y.key,y.props,null,g.mode,_),_.ref=ui(g,null,y),_.return=g,_;case xs:return y=hl(y,g.mode,_),y.return=g,y;case un:var w=y._init;return h(g,w(y._payload),_)}if(bi(y)||ri(y))return y=Xn(y,g.mode,_,null),y.return=g,y;Fr(g,y)}return null}function f(g,y,_,w){var b=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:a(g,y,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pr:return _.key===b?l(g,y,_,w):null;case xs:return _.key===b?c(g,y,_,w):null;case un:return b=_._init,f(g,y,b(_._payload),w)}if(bi(_)||ri(_))return b!==null?null:u(g,y,_,w,null);Fr(g,_)}return null}function p(g,y,_,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(_)||null,a(y,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pr:return g=g.get(w.key===null?_:w.key)||null,l(y,g,w,b);case xs:return g=g.get(w.key===null?_:w.key)||null,c(y,g,w,b);case un:var k=w._init;return p(g,y,_,k(w._payload),b)}if(bi(w)||ri(w))return g=g.get(_)||null,u(y,g,w,b,null);Fr(y,w)}return null}function m(g,y,_,w){for(var b=null,k=null,S=y,j=y=0,M=null;S!==null&&j<_.length;j++){S.index>j?(M=S,S=null):M=S.sibling;var O=f(g,S,_[j],w);if(O===null){S===null&&(S=M);break}t&&S&&O.alternate===null&&e(g,S),y=r(O,y,j),k===null?b=O:k.sibling=O,k=O,S=M}if(j===_.length)return n(g,S),he&&Fn(g,j),b;if(S===null){for(;j<_.length;j++)S=h(g,_[j],w),S!==null&&(y=r(S,y,j),k===null?b=S:k.sibling=S,k=S);return he&&Fn(g,j),b}for(S=s(g,S);j<_.length;j++)M=p(S,g,j,_[j],w),M!==null&&(t&&M.alternate!==null&&S.delete(M.key===null?j:M.key),y=r(M,y,j),k===null?b=M:k.sibling=M,k=M);return t&&S.forEach(function(z){return e(g,z)}),he&&Fn(g,j),b}function v(g,y,_,w){var b=ri(_);if(typeof b!="function")throw Error(E(150));if(_=b.call(_),_==null)throw Error(E(151));for(var k=b=null,S=y,j=y=0,M=null,O=_.next();S!==null&&!O.done;j++,O=_.next()){S.index>j?(M=S,S=null):M=S.sibling;var z=f(g,S,O.value,w);if(z===null){S===null&&(S=M);break}t&&S&&z.alternate===null&&e(g,S),y=r(z,y,j),k===null?b=z:k.sibling=z,k=z,S=M}if(O.done)return n(g,S),he&&Fn(g,j),b;if(S===null){for(;!O.done;j++,O=_.next())O=h(g,O.value,w),O!==null&&(y=r(O,y,j),k===null?b=O:k.sibling=O,k=O);return he&&Fn(g,j),b}for(S=s(g,S);!O.done;j++,O=_.next())O=p(S,g,j,O.value,w),O!==null&&(t&&O.alternate!==null&&S.delete(O.key===null?j:O.key),y=r(O,y,j),k===null?b=O:k.sibling=O,k=O);return t&&S.forEach(function($){return e(g,$)}),he&&Fn(g,j),b}function x(g,y,_,w){if(typeof _=="object"&&_!==null&&_.type===_s&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Pr:e:{for(var b=_.key,k=y;k!==null;){if(k.key===b){if(b=_.type,b===_s){if(k.tag===7){n(g,k.sibling),y=i(k,_.props.children),y.return=g,g=y;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===un&&qd(b)===k.type){n(g,k.sibling),y=i(k,_.props),y.ref=ui(g,k,_),y.return=g,g=y;break e}n(g,k);break}else e(g,k);k=k.sibling}_.type===_s?(y=Xn(_.props.children,g.mode,w,_.key),y.return=g,g=y):(w=wo(_.type,_.key,_.props,null,g.mode,w),w.ref=ui(g,y,_),w.return=g,g=w)}return o(g);case xs:e:{for(k=_.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(g,y.sibling),y=i(y,_.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=hl(_,g.mode,w),y.return=g,g=y}return o(g);case un:return k=_._init,x(g,y,k(_._payload),w)}if(bi(_))return m(g,y,_,w);if(ri(_))return v(g,y,_,w);Fr(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,_),y.return=g,g=y):(n(g,y),y=dl(_,g.mode,w),y.return=g,g=y),o(g)):n(g,y)}return x}var Vs=gg(!0),mg=gg(!1),Uo=Rn(null),Vo=null,Es=null,uu=null;function du(){uu=Es=Vo=null}function hu(t){var e=Uo.current;de(Uo),t._currentValue=e}function rc(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Ds(t,e){Vo=t,uu=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ze=!0),t.firstContext=null)}function vt(t){var e=t._currentValue;if(uu!==t)if(t={context:t,memoizedValue:e,next:null},Es===null){if(Vo===null)throw Error(E(308));Es=t,Vo.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return e}var Yn=null;function fu(t){Yn===null?Yn=[t]:Yn.push(t)}function yg(t,e,n,s){var i=e.interleaved;return i===null?(n.next=n,fu(e)):(n.next=i.next,i.next=n),e.interleaved=n,nn(t,s)}function nn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var dn=!1;function pu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jn(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,J&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,nn(t,n)}return i=s.interleaved,i===null?(e.next=e,fu(s)):(e.next=i.next,i.next=e),s.interleaved=e,nn(t,n)}function mo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Zc(t,n)}}function Gd(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ho(t,e,n,s){var i=t.updateQueue;dn=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var h=i.baseState;o=0,u=c=l=null,a=r;do{var f=a.lane,p=a.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(f=e,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=me({},h,f);break e;case 2:dn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);ss|=o,t.lanes=o,t.memoizedState=h}}function Qd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(E(191,i));i.call(s)}}}var kr={},$t=Rn(kr),nr=Rn(kr),sr=Rn(kr);function qn(t){if(t===kr)throw Error(E(174));return t}function gu(t,e){switch(ae(sr,e),ae(nr,t),ae($t,kr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$l(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$l(e,t)}de($t),ae($t,e)}function Hs(){de($t),de(nr),de(sr)}function xg(t){qn(sr.current);var e=qn($t.current),n=$l(e,t.type);e!==n&&(ae(nr,t),ae($t,n))}function mu(t){nr.current===t&&(de($t),de(nr))}var fe=Rn(0);function Wo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rl=[];function yu(){for(var t=0;t<rl.length;t++)rl[t]._workInProgressVersionPrimary=null;rl.length=0}var yo=rn.ReactCurrentDispatcher,ol=rn.ReactCurrentBatchConfig,ns=0,ge=null,Se=null,Ee=null,Ko=!1,Di=!1,ir=0,Lv=0;function Re(){throw Error(E(321))}function vu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Et(t[n],e[n]))return!1;return!0}function xu(t,e,n,s,i,r){if(ns=r,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yo.current=t===null||t.memoizedState===null?Fv:Bv,t=n(s,i),Di){r=0;do{if(Di=!1,ir=0,25<=r)throw Error(E(301));r+=1,Ee=Se=null,e.updateQueue=null,yo.current=Uv,t=n(s,i)}while(Di)}if(yo.current=Yo,e=Se!==null&&Se.next!==null,ns=0,Ee=Se=ge=null,Ko=!1,e)throw Error(E(300));return t}function _u(){var t=ir!==0;return ir=0,t}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ge.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function xt(){if(Se===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Ee===null?ge.memoizedState:Ee.next;if(e!==null)Ee=e,Se=t;else{if(t===null)throw Error(E(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ee===null?ge.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function rr(t,e){return typeof e=="function"?e(t):e}function al(t){var e=xt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var s=Se,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((ns&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=s):l=l.next=h,ge.lanes|=u,ss|=u}c=c.next}while(c!==null&&c!==r);l===null?o=s:l.next=a,Et(s,e.memoizedState)||(Ze=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=l,n.lastRenderedState=s}if(t=n.interleaved,t!==null){i=t;do r=i.lane,ge.lanes|=r,ss|=r,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ll(t){var e=xt(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=t(r,o.action),o=o.next;while(o!==i);Et(r,e.memoizedState)||(Ze=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function _g(){}function bg(t,e){var n=ge,s=xt(),i=e(),r=!Et(s.memoizedState,i);if(r&&(s.memoizedState=i,Ze=!0),s=s.queue,bu(Sg.bind(null,n,s,t),[t]),s.getSnapshot!==e||r||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,or(9,kg.bind(null,n,s,i,e),void 0,null),Pe===null)throw Error(E(349));ns&30||wg(n,e,i)}return i}function wg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kg(t,e,n,s){e.value=n,e.getSnapshot=s,jg(e)&&Cg(t)}function Sg(t,e,n){return n(function(){jg(e)&&Cg(t)})}function jg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Et(t,n)}catch{return!0}}function Cg(t){var e=nn(t,1);e!==null&&Nt(e,t,1,-1)}function Xd(t){var e=Rt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:t},e.queue=t,t=t.dispatch=$v.bind(null,ge,t),[e.memoizedState,t]}function or(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function Ng(){return xt().memoizedState}function vo(t,e,n,s){var i=Rt();ge.flags|=t,i.memoizedState=or(1|e,n,void 0,s===void 0?null:s)}function va(t,e,n,s){var i=xt();s=s===void 0?null:s;var r=void 0;if(Se!==null){var o=Se.memoizedState;if(r=o.destroy,s!==null&&vu(s,o.deps)){i.memoizedState=or(e,n,r,s);return}}ge.flags|=t,i.memoizedState=or(1|e,n,r,s)}function Jd(t,e){return vo(8390656,8,t,e)}function bu(t,e){return va(2048,8,t,e)}function Eg(t,e){return va(4,2,t,e)}function Pg(t,e){return va(4,4,t,e)}function Tg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Mg(t,e,n){return n=n!=null?n.concat([t]):null,va(4,4,Tg.bind(null,e,t),n)}function wu(){}function Og(t,e){var n=xt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&vu(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function Ag(t,e){var n=xt();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&vu(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Rg(t,e,n){return ns&21?(Et(n,e)||(n=$p(),ge.lanes|=n,ss|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ze=!0),t.memoizedState=n)}function Iv(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var s=ol.transition;ol.transition={};try{t(!1),e()}finally{ie=n,ol.transition=s}}function Dg(){return xt().memoizedState}function zv(t,e,n){var s=Nn(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Lg(t))Ig(e,n);else if(n=yg(t,e,n,s),n!==null){var i=We();Nt(n,t,s,i),zg(n,e,s)}}function $v(t,e,n){var s=Nn(t),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lg(t))Ig(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,Et(a,o)){var l=e.interleaved;l===null?(i.next=i,fu(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=yg(t,e,i,s),n!==null&&(i=We(),Nt(n,t,s,i),zg(n,e,s))}}function Lg(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function Ig(t,e){Di=Ko=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zg(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Zc(t,n)}}var Yo={readContext:vt,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Fv={readContext:vt,useCallback:function(t,e){return Rt().memoizedState=[t,e===void 0?null:e],t},useContext:vt,useEffect:Jd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vo(4194308,4,Tg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vo(4194308,4,t,e)},useInsertionEffect:function(t,e){return vo(4,2,t,e)},useMemo:function(t,e){var n=Rt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Rt();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=zv.bind(null,ge,t),[s.memoizedState,t]},useRef:function(t){var e=Rt();return t={current:t},e.memoizedState=t},useState:Xd,useDebugValue:wu,useDeferredValue:function(t){return Rt().memoizedState=t},useTransition:function(){var t=Xd(!1),e=t[0];return t=Iv.bind(null,t[1]),Rt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=ge,i=Rt();if(he){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),Pe===null)throw Error(E(349));ns&30||wg(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,Jd(Sg.bind(null,s,r,t),[t]),s.flags|=2048,or(9,kg.bind(null,s,r,n,e),void 0,null),n},useId:function(){var t=Rt(),e=Pe.identifierPrefix;if(he){var n=Gt,s=qt;n=(s&~(1<<32-Ct(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=ir++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Lv++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Bv={readContext:vt,useCallback:Og,useContext:vt,useEffect:bu,useImperativeHandle:Mg,useInsertionEffect:Eg,useLayoutEffect:Pg,useMemo:Ag,useReducer:al,useRef:Ng,useState:function(){return al(rr)},useDebugValue:wu,useDeferredValue:function(t){var e=xt();return Rg(e,Se.memoizedState,t)},useTransition:function(){var t=al(rr)[0],e=xt().memoizedState;return[t,e]},useMutableSource:_g,useSyncExternalStore:bg,useId:Dg,unstable_isNewReconciler:!1},Uv={readContext:vt,useCallback:Og,useContext:vt,useEffect:bu,useImperativeHandle:Mg,useInsertionEffect:Eg,useLayoutEffect:Pg,useMemo:Ag,useReducer:ll,useRef:Ng,useState:function(){return ll(rr)},useDebugValue:wu,useDeferredValue:function(t){var e=xt();return Se===null?e.memoizedState=t:Rg(e,Se.memoizedState,t)},useTransition:function(){var t=ll(rr)[0],e=xt().memoizedState;return[t,e]},useMutableSource:_g,useSyncExternalStore:bg,useId:Dg,unstable_isNewReconciler:!1};function wt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oc(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xa={isMounted:function(t){return(t=t._reactInternals)?ls(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=We(),i=Nn(t),r=Jt(s,i);r.payload=e,n!=null&&(r.callback=n),e=jn(t,r,i),e!==null&&(Nt(e,t,i,s),mo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=We(),i=Nn(t),r=Jt(s,i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=jn(t,r,i),e!==null&&(Nt(e,t,i,s),mo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=We(),s=Nn(t),i=Jt(n,s);i.tag=2,e!=null&&(i.callback=e),e=jn(t,i,s),e!==null&&(Nt(e,t,s,n),mo(e,t,s))}};function Zd(t,e,n,s,i,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,o):e.prototype&&e.prototype.isPureReactComponent?!Ji(n,s)||!Ji(i,r):!0}function $g(t,e,n){var s=!1,i=Mn,r=e.contextType;return typeof r=="object"&&r!==null?r=vt(r):(i=tt(e)?es:Fe.current,s=e.contextTypes,r=(s=s!=null)?Bs(t,i):Mn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xa,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function eh(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&xa.enqueueReplaceState(e,e.state,null)}function ac(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pu(t);var r=e.contextType;typeof r=="object"&&r!==null?i.context=vt(r):(r=tt(e)?es:Fe.current,i.context=Bs(t,r)),i.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(oc(t,e,r,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xa.enqueueReplaceState(i,i.state,null),Ho(t,n,i,s),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ws(t,e){try{var n="",s=e;do n+=my(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:i,digest:null}}function cl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Vv=typeof WeakMap=="function"?WeakMap:Map;function Fg(t,e,n){n=Jt(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Go||(Go=!0,vc=s),lc(t,e)},n}function Bg(t,e,n){n=Jt(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var i=e.value;n.payload=function(){return s(i)},n.callback=function(){lc(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){lc(t,e),typeof s!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function th(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Vv;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||(i.add(n),t=sx.bind(null,t,e,n),e.then(t,t))}function nh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sh(t,e,n,s,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jt(-1,1),e.tag=2,jn(n,e,1))),n.lanes|=1),t)}var Hv=rn.ReactCurrentOwner,Ze=!1;function He(t,e,n,s){e.child=t===null?mg(e,null,n,s):Vs(e,t.child,n,s)}function ih(t,e,n,s,i){n=n.render;var r=e.ref;return Ds(e,i),s=xu(t,e,n,s,r,i),n=_u(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(he&&n&&au(e),e.flags|=1,He(t,e,s,i),e.child)}function rh(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!Tu(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,Ug(t,e,r,s,i)):(t=wo(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(o,s)&&t.ref===e.ref)return sn(t,e,i)}return e.flags|=1,t=En(r,s),t.ref=e.ref,t.return=e,e.child=t}function Ug(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(Ji(r,s)&&t.ref===e.ref)if(Ze=!1,e.pendingProps=s=r,(t.lanes&i)!==0)t.flags&131072&&(Ze=!0);else return e.lanes=t.lanes,sn(t,e,i)}return cc(t,e,n,s,i)}function Vg(t,e,n){var s=e.pendingProps,i=s.children,r=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Ts,rt),rt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Ts,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,ae(Ts,rt),rt|=s}else r!==null?(s=r.baseLanes|n,e.memoizedState=null):s=n,ae(Ts,rt),rt|=s;return He(t,e,i,n),e.child}function Hg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cc(t,e,n,s,i){var r=tt(n)?es:Fe.current;return r=Bs(e,r),Ds(e,i),n=xu(t,e,n,s,r,i),s=_u(),t!==null&&!Ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sn(t,e,i)):(he&&s&&au(e),e.flags|=1,He(t,e,n,i),e.child)}function oh(t,e,n,s,i){if(tt(n)){var r=!0;$o(e)}else r=!1;if(Ds(e,i),e.stateNode===null)xo(t,e),$g(e,n,s),ac(e,n,s,i),s=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vt(c):(c=tt(n)?es:Fe.current,c=Bs(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&eh(e,o,s,c),dn=!1;var f=e.memoizedState;o.state=f,Ho(e,s,o,i),l=e.memoizedState,a!==s||f!==l||et.current||dn?(typeof u=="function"&&(oc(e,n,u,s),l=e.memoizedState),(a=dn||Zd(e,n,a,s,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,vg(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wt(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vt(l):(l=tt(n)?es:Fe.current,l=Bs(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&eh(e,o,s,l),dn=!1,f=e.memoizedState,o.state=f,Ho(e,s,o,i);var m=e.memoizedState;a!==h||f!==m||et.current||dn?(typeof p=="function"&&(oc(e,n,p,s),m=e.memoizedState),(c=dn||Zd(e,n,c,s,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=m),o.props=s,o.state=m,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return uc(t,e,n,s,r,i)}function uc(t,e,n,s,i,r){Hg(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return i&&Wd(e,n,!1),sn(t,e,r);s=e.stateNode,Hv.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=Vs(e,t.child,null,r),e.child=Vs(e,null,a,r)):He(t,e,a,r),e.memoizedState=s.state,i&&Wd(e,n,!0),e.child}function Wg(t){var e=t.stateNode;e.pendingContext?Hd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hd(t,e.context,!1),gu(t,e.containerInfo)}function ah(t,e,n,s,i){return Us(),cu(i),e.flags|=256,He(t,e,n,s),e.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function hc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kg(t,e,n){var s=e.pendingProps,i=fe.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(fe,i&1),t===null)return ic(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,r?(s=e.mode,r=e.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=wa(o,s,0,null),t=Xn(t,s,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=hc(n),e.memoizedState=dc,t):ku(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Wv(t,e,o,s,a,i,n);if(r){r=s.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&e.child!==i?(s=e.child,s.childLanes=0,s.pendingProps=l,e.deletions=null):(s=En(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=En(a,r):(r=Xn(r,o,n,null),r.flags|=2),r.return=e,s.return=e,s.sibling=r,e.child=s,s=r,r=e.child,o=t.child.memoizedState,o=o===null?hc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=dc,s}return r=t.child,t=r.sibling,s=En(r,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function ku(t,e){return e=wa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Br(t,e,n,s){return s!==null&&cu(s),Vs(e,t.child,null,n),t=ku(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wv(t,e,n,s,i,r,o){if(n)return e.flags&256?(e.flags&=-257,s=cl(Error(E(422))),Br(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=s.fallback,i=e.mode,s=wa({mode:"visible",children:s.children},i,0,null),r=Xn(r,i,o,null),r.flags|=2,s.return=e,r.return=e,s.sibling=r,e.child=s,e.mode&1&&Vs(e,t.child,null,o),e.child.memoizedState=hc(o),e.memoizedState=dc,r);if(!(e.mode&1))return Br(t,e,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(E(419)),s=cl(r,s,void 0),Br(t,e,o,s)}if(a=(o&t.childLanes)!==0,Ze||a){if(s=Pe,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,nn(t,i),Nt(s,t,i,-1))}return Pu(),s=cl(Error(E(421))),Br(t,e,o,s)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ix.bind(null,t),i._reactRetry=e,null):(t=r.treeContext,ot=Sn(i.nextSibling),at=e,he=!0,jt=null,t!==null&&(ht[ft++]=qt,ht[ft++]=Gt,ht[ft++]=ts,qt=t.id,Gt=t.overflow,ts=e),e=ku(e,s.children),e.flags|=4096,e)}function lh(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),rc(t.return,e,n)}function ul(t,e,n,s,i){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function Yg(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(He(t,e,s.children,n),s=fe.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lh(t,n,e);else if(t.tag===19)lh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ae(fe,s),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ul(e,!1,i,n,r);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ul(e,!0,n,null,r);break;case"together":ul(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ss|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=En(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=En(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kv(t,e,n){switch(e.tag){case 3:Wg(e),Us();break;case 5:xg(e);break;case 1:tt(e.type)&&$o(e);break;case 4:gu(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,i=e.memoizedProps.value;ae(Uo,s._currentValue),s._currentValue=i;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(ae(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?Kg(t,e,n):(ae(fe,fe.current&1),t=sn(t,e,n),t!==null?t.sibling:null);ae(fe,fe.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return Yg(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(fe,fe.current),s)break;return null;case 22:case 23:return e.lanes=0,Vg(t,e,n)}return sn(t,e,n)}var qg,fc,Gg,Qg;qg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fc=function(){};Gg=function(t,e,n,s){var i=t.memoizedProps;if(i!==s){t=e.stateNode,qn($t.current);var r=null;switch(n){case"input":i=Dl(t,i),s=Dl(t,s),r=[];break;case"select":i=me({},i,{value:void 0}),s=me({},s,{value:void 0}),r=[];break;case"textarea":i=zl(t,i),s=zl(t,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=Io)}Fl(n,s);var o;n=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wi.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(a=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ce("scroll",t),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};Qg=function(t,e,n,s){n!==s&&(e.flags|=4)};function di(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Yv(t,e,n){var s=e.pendingProps;switch(lu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return tt(e.type)&&zo(),De(e),null;case 3:return s=e.stateNode,Hs(),de(et),de(Fe),yu(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&($r(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jt!==null&&(bc(jt),jt=null))),fc(t,e),De(e),null;case 5:mu(e);var i=qn(sr.current);if(n=e.type,t!==null&&e.stateNode!=null)Gg(t,e,n,s,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(E(166));return De(e),null}if(t=qn($t.current),$r(e)){s=e.stateNode,n=e.type;var r=e.memoizedProps;switch(s[It]=e,s[tr]=r,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",s),ce("close",s);break;case"iframe":case"object":case"embed":ce("load",s);break;case"video":case"audio":for(i=0;i<ki.length;i++)ce(ki[i],s);break;case"source":ce("error",s);break;case"img":case"image":case"link":ce("error",s),ce("load",s);break;case"details":ce("toggle",s);break;case"input":yd(s,r),ce("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},ce("invalid",s);break;case"textarea":xd(s,r),ce("invalid",s)}Fl(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&zr(s.textContent,a,t),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&zr(s.textContent,a,t),i=["children",""+a]):Wi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",s)}switch(n){case"input":Tr(s),vd(s,r,!0);break;case"textarea":Tr(s),_d(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=Io)}s=i,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Sp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[It]=e,t[tr]=s,qg(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bl(n,s),n){case"dialog":ce("cancel",t),ce("close",t),i=s;break;case"iframe":case"object":case"embed":ce("load",t),i=s;break;case"video":case"audio":for(i=0;i<ki.length;i++)ce(ki[i],t);i=s;break;case"source":ce("error",t),i=s;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=s;break;case"details":ce("toggle",t),i=s;break;case"input":yd(t,s),i=Dl(t,s),ce("invalid",t);break;case"option":i=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},i=me({},s,{value:void 0}),ce("invalid",t);break;case"textarea":xd(t,s),i=zl(t,s),ce("invalid",t);break;default:i=s}Fl(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?Np(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jp(t,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ki(t,l):typeof l=="number"&&Ki(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Wi.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ce("scroll",t):l!=null&&Yc(t,r,l,o))}switch(n){case"input":Tr(t),vd(t,s,!1);break;case"textarea":Tr(t),_d(t);break;case"option":s.value!=null&&t.setAttribute("value",""+Tn(s.value));break;case"select":t.multiple=!!s.multiple,r=s.value,r!=null?Ms(t,!!s.multiple,r,!1):s.defaultValue!=null&&Ms(t,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Io)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)Qg(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(E(166));if(n=qn(sr.current),qn($t.current),$r(e)){if(s=e.stateNode,n=e.memoizedProps,s[It]=e,(r=s.nodeValue!==n)&&(t=at,t!==null))switch(t.tag){case 3:zr(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zr(s.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[It]=e,e.stateNode=s}return De(e),null;case 13:if(de(fe),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&ot!==null&&e.mode&1&&!(e.flags&128))pg(),Us(),e.flags|=98560,r=!1;else if(r=$r(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(E(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(E(317));r[It]=e}else Us(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),r=!1}else jt!==null&&(bc(jt),jt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?je===0&&(je=3):Pu())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return Hs(),fc(t,e),t===null&&Zi(e.stateNode.containerInfo),De(e),null;case 10:return hu(e.type._context),De(e),null;case 17:return tt(e.type)&&zo(),De(e),null;case 19:if(de(fe),r=e.memoizedState,r===null)return De(e),null;if(s=(e.flags&128)!==0,o=r.rendering,o===null)if(s)di(r,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wo(t),o!==null){for(e.flags|=128,di(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)r=n,t=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(fe,fe.current&1|2),e.child}t=t.sibling}r.tail!==null&&_e()>Ks&&(e.flags|=128,s=!0,di(r,!1),e.lanes=4194304)}else{if(!s)if(t=Wo(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),di(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!he)return De(e),null}else 2*_e()-r.renderingStartTime>Ks&&n!==1073741824&&(e.flags|=128,s=!0,di(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=_e(),e.sibling=null,n=fe.current,ae(fe,s?n&1|2:n&1),e):(De(e),null);case 22:case 23:return Eu(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?rt&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function qv(t,e){switch(lu(e),e.tag){case 1:return tt(e.type)&&zo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hs(),de(et),de(Fe),yu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mu(e),null;case 13:if(de(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(fe),null;case 4:return Hs(),null;case 10:return hu(e.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var Ur=!1,Ie=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,R=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){ye(t,e,s)}else n.current=null}function pc(t,e,n){try{n()}catch(s){ye(t,e,s)}}var ch=!1;function Qv(t,e){if(Xl=Ro,t=tg(),ou(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==r||s!==0&&h.nodeType!==3||(l=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===r&&++u===s&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jl={focusedElem:t,selectionRange:n},Ro=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:wt(e.type,v),x);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){ye(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return m=ch,ch=!1,m}function Li(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&t)===t){var r=i.destroy;i.destroy=void 0,r!==void 0&&pc(e,n,r)}i=i.next}while(i!==s)}}function _a(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function gc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xg(t){var e=t.alternate;e!==null&&(t.alternate=null,Xg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[It],delete e[tr],delete e[tc],delete e[Ov],delete e[Av])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jg(t){return t.tag===5||t.tag===3||t.tag===4}function uh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Io));else if(s!==4&&(t=t.child,t!==null))for(mc(t,e,n),t=t.sibling;t!==null;)mc(t,e,n),t=t.sibling}function yc(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(yc(t,e,n),t=t.sibling;t!==null;)yc(t,e,n),t=t.sibling}var Me=null,kt=!1;function on(t,e,n){for(n=n.child;n!==null;)Zg(t,e,n),n=n.sibling}function Zg(t,e,n){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 5:Ie||Ps(n,e);case 6:var s=Me,i=kt;Me=null,on(t,e,n),Me=s,kt=i,Me!==null&&(kt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(kt?(t=Me,n=n.stateNode,t.nodeType===8?sl(t.parentNode,n):t.nodeType===1&&sl(t,n),Qi(t)):sl(Me,n.stateNode));break;case 4:s=Me,i=kt,Me=n.stateNode.containerInfo,kt=!0,on(t,e,n),Me=s,kt=i;break;case 0:case 11:case 14:case 15:if(!Ie&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&pc(n,e,o),i=i.next}while(i!==s)}on(t,e,n);break;case 1:if(!Ie&&(Ps(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){ye(n,e,a)}on(t,e,n);break;case 21:on(t,e,n);break;case 22:n.mode&1?(Ie=(s=Ie)||n.memoizedState!==null,on(t,e,n),Ie=s):on(t,e,n);break;default:on(t,e,n)}}function dh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gv),e.forEach(function(s){var i=rx.bind(null,t,s);n.has(s)||(n.add(s),s.then(i,i))})}}function bt(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Me=a.stateNode,kt=!1;break e;case 3:Me=a.stateNode.containerInfo,kt=!0;break e;case 4:Me=a.stateNode.containerInfo,kt=!0;break e}a=a.return}if(Me===null)throw Error(E(160));Zg(r,o,i),Me=null,kt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ye(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)em(e,t),e=e.sibling}function em(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),Tt(t),s&4){try{Li(3,t,t.return),_a(3,t)}catch(v){ye(t,t.return,v)}try{Li(5,t,t.return)}catch(v){ye(t,t.return,v)}}break;case 1:bt(e,t),Tt(t),s&512&&n!==null&&Ps(n,n.return);break;case 5:if(bt(e,t),Tt(t),s&512&&n!==null&&Ps(n,n.return),t.flags&32){var i=t.stateNode;try{Ki(i,"")}catch(v){ye(t,t.return,v)}}if(s&4&&(i=t.stateNode,i!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&wp(i,r),Bl(a,o);var c=Bl(a,r);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Np(i,h):u==="dangerouslySetInnerHTML"?jp(i,h):u==="children"?Ki(i,h):Yc(i,u,h,c)}switch(a){case"input":Ll(i,r);break;case"textarea":kp(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?Ms(i,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?Ms(i,!!r.multiple,r.defaultValue,!0):Ms(i,!!r.multiple,r.multiple?[]:"",!1))}i[tr]=r}catch(v){ye(t,t.return,v)}}break;case 6:if(bt(e,t),Tt(t),s&4){if(t.stateNode===null)throw Error(E(162));i=t.stateNode,r=t.memoizedProps;try{i.nodeValue=r}catch(v){ye(t,t.return,v)}}break;case 3:if(bt(e,t),Tt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Qi(e.containerInfo)}catch(v){ye(t,t.return,v)}break;case 4:bt(e,t),Tt(t);break;case 13:bt(e,t),Tt(t),i=t.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(Cu=_e())),s&4&&dh(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ie=(c=Ie)||u,bt(e,t),Ie=c):bt(e,t),Tt(t),s&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(R=t,u=t.child;u!==null;){for(h=R=u;R!==null;){switch(f=R,p=f.child,f.tag){case 0:case 11:case 14:case 15:Li(4,f,f.return);break;case 1:Ps(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){ye(s,n,v)}}break;case 5:Ps(f,f.return);break;case 22:if(f.memoizedState!==null){fh(h);continue}}p!==null?(p.return=f,R=p):fh(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Cp("display",o))}catch(v){ye(t,t.return,v)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(v){ye(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bt(e,t),Tt(t),s&4&&dh(t);break;case 21:break;default:bt(e,t),Tt(t)}}function Tt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jg(n)){var s=n;break e}n=n.return}throw Error(E(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ki(i,""),s.flags&=-33);var r=uh(t);yc(t,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=uh(t);mc(t,a,o);break;default:throw Error(E(161))}}catch(l){ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xv(t,e,n){R=t,tm(t)}function tm(t,e,n){for(var s=(t.mode&1)!==0;R!==null;){var i=R,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||Ur;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ie;a=Ur;var c=Ie;if(Ur=o,(Ie=l)&&!c)for(R=i;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?ph(i):l!==null?(l.return=o,R=l):ph(i);for(;r!==null;)R=r,tm(r),r=r.sibling;R=i,Ur=a,Ie=c}hh(t)}else i.subtreeFlags&8772&&r!==null?(r.return=i,R=r):hh(t)}}function hh(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ie||_a(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!Ie)if(n===null)s.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wt(e.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Qd(e,r,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qd(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Qi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Ie||e.flags&512&&gc(e)}catch(f){ye(e,e.return,f)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function fh(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function ph(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_a(4,e)}catch(l){ye(e,n,l)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var i=e.return;try{s.componentDidMount()}catch(l){ye(e,i,l)}}var r=e.return;try{gc(e)}catch(l){ye(e,r,l)}break;case 5:var o=e.return;try{gc(e)}catch(l){ye(e,o,l)}}}catch(l){ye(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var Jv=Math.ceil,qo=rn.ReactCurrentDispatcher,Su=rn.ReactCurrentOwner,mt=rn.ReactCurrentBatchConfig,J=0,Pe=null,we=null,Oe=0,rt=0,Ts=Rn(0),je=0,ar=null,ss=0,ba=0,ju=0,Ii=null,Qe=null,Cu=0,Ks=1/0,Ht=null,Go=!1,vc=null,Cn=null,Vr=!1,yn=null,Qo=0,zi=0,xc=null,_o=-1,bo=0;function We(){return J&6?_e():_o!==-1?_o:_o=_e()}function Nn(t){return t.mode&1?J&2&&Oe!==0?Oe&-Oe:Dv.transition!==null?(bo===0&&(bo=$p()),bo):(t=ie,t!==0||(t=window.event,t=t===void 0?16:Kp(t.type)),t):1}function Nt(t,e,n,s){if(50<zi)throw zi=0,xc=null,Error(E(185));_r(t,n,s),(!(J&2)||t!==Pe)&&(t===Pe&&(!(J&2)&&(ba|=n),je===4&&pn(t,Oe)),nt(t,s),n===1&&J===0&&!(e.mode&1)&&(Ks=_e()+500,ya&&Dn()))}function nt(t,e){var n=t.callbackNode;Dy(t,e);var s=Ao(t,t===Pe?Oe:0);if(s===0)n!==null&&kd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&kd(n),e===1)t.tag===0?Rv(gh.bind(null,t)):dg(gh.bind(null,t)),Tv(function(){!(J&6)&&Dn()}),n=null;else{switch(Fp(s)){case 1:n=Jc;break;case 4:n=Ip;break;case 16:n=Oo;break;case 536870912:n=zp;break;default:n=Oo}n=cm(n,nm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nm(t,e){if(_o=-1,bo=0,J&6)throw Error(E(327));var n=t.callbackNode;if(Ls()&&t.callbackNode!==n)return null;var s=Ao(t,t===Pe?Oe:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Xo(t,s);else{e=s;var i=J;J|=2;var r=im();(Pe!==t||Oe!==e)&&(Ht=null,Ks=_e()+500,Qn(t,e));do try{tx();break}catch(a){sm(t,a)}while(!0);du(),qo.current=r,J=i,we!==null?e=0:(Pe=null,Oe=0,e=je)}if(e!==0){if(e===2&&(i=Kl(t),i!==0&&(s=i,e=_c(t,i))),e===1)throw n=ar,Qn(t,0),pn(t,s),nt(t,_e()),n;if(e===6)pn(t,s);else{if(i=t.current.alternate,!(s&30)&&!Zv(i)&&(e=Xo(t,s),e===2&&(r=Kl(t),r!==0&&(s=r,e=_c(t,r))),e===1))throw n=ar,Qn(t,0),pn(t,s),nt(t,_e()),n;switch(t.finishedWork=i,t.finishedLanes=s,e){case 0:case 1:throw Error(E(345));case 2:Bn(t,Qe,Ht);break;case 3:if(pn(t,s),(s&130023424)===s&&(e=Cu+500-_e(),10<e)){if(Ao(t,0)!==0)break;if(i=t.suspendedLanes,(i&s)!==s){We(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ec(Bn.bind(null,t,Qe,Ht),e);break}Bn(t,Qe,Ht);break;case 4:if(pn(t,s),(s&4194240)===s)break;for(e=t.eventTimes,i=-1;0<s;){var o=31-Ct(s);r=1<<o,o=e[o],o>i&&(i=o),s&=~r}if(s=i,s=_e()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Jv(s/1960))-s,10<s){t.timeoutHandle=ec(Bn.bind(null,t,Qe,Ht),s);break}Bn(t,Qe,Ht);break;case 5:Bn(t,Qe,Ht);break;default:throw Error(E(329))}}}return nt(t,_e()),t.callbackNode===n?nm.bind(null,t):null}function _c(t,e){var n=Ii;return t.current.memoizedState.isDehydrated&&(Qn(t,e).flags|=256),t=Xo(t,e),t!==2&&(e=Qe,Qe=n,e!==null&&bc(e)),t}function bc(t){Qe===null?Qe=t:Qe.push.apply(Qe,t)}function Zv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Et(r(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pn(t,e){for(e&=~ju,e&=~ba,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ct(e),s=1<<n;t[n]=-1,e&=~s}}function gh(t){if(J&6)throw Error(E(327));Ls();var e=Ao(t,0);if(!(e&1))return nt(t,_e()),null;var n=Xo(t,e);if(t.tag!==0&&n===2){var s=Kl(t);s!==0&&(e=s,n=_c(t,s))}if(n===1)throw n=ar,Qn(t,0),pn(t,e),nt(t,_e()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bn(t,Qe,Ht),nt(t,_e()),null}function Nu(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(Ks=_e()+500,ya&&Dn())}}function is(t){yn!==null&&yn.tag===0&&!(J&6)&&Ls();var e=J;J|=1;var n=mt.transition,s=ie;try{if(mt.transition=null,ie=1,t)return t()}finally{ie=s,mt.transition=n,J=e,!(J&6)&&Dn()}}function Eu(){rt=Ts.current,de(Ts)}function Qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pv(n)),we!==null)for(n=we.return;n!==null;){var s=n;switch(lu(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&zo();break;case 3:Hs(),de(et),de(Fe),yu();break;case 5:mu(s);break;case 4:Hs();break;case 13:de(fe);break;case 19:de(fe);break;case 10:hu(s.type._context);break;case 22:case 23:Eu()}n=n.return}if(Pe=t,we=t=En(t.current,null),Oe=rt=e,je=0,ar=null,ju=ba=ss=0,Qe=Ii=null,Yn!==null){for(e=0;e<Yn.length;e++)if(n=Yn[e],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}Yn=null}return t}function sm(t,e){do{var n=we;try{if(du(),yo.current=Yo,Ko){for(var s=ge.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}Ko=!1}if(ns=0,Ee=Se=ge=null,Di=!1,ir=0,Su.current=null,n===null||n.return===null){je=1,ar=e,we=null;break}e:{var r=t,o=n.return,a=n,l=e;if(e=Oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=nh(o);if(p!==null){p.flags&=-257,sh(p,o,a,r,e),p.mode&1&&th(r,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){th(r,c,e),Pu();break e}l=Error(E(426))}}else if(he&&a.mode&1){var x=nh(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),sh(x,o,a,r,e),cu(Ws(l,a));break e}}r=l=Ws(l,a),je!==4&&(je=2),Ii===null?Ii=[r]:Ii.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=Fg(r,l,e);Gd(r,g);break e;case 1:a=l;var y=r.type,_=r.stateNode;if(!(r.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Cn===null||!Cn.has(_)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=Bg(r,a,e);Gd(r,w);break e}}r=r.return}while(r!==null)}om(n)}catch(b){e=b,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function im(){var t=qo.current;return qo.current=Yo,t===null?Yo:t}function Pu(){(je===0||je===3||je===2)&&(je=4),Pe===null||!(ss&268435455)&&!(ba&268435455)||pn(Pe,Oe)}function Xo(t,e){var n=J;J|=2;var s=im();(Pe!==t||Oe!==e)&&(Ht=null,Qn(t,e));do try{ex();break}catch(i){sm(t,i)}while(!0);if(du(),J=n,qo.current=s,we!==null)throw Error(E(261));return Pe=null,Oe=0,je}function ex(){for(;we!==null;)rm(we)}function tx(){for(;we!==null&&!Cy();)rm(we)}function rm(t){var e=lm(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?om(t):we=e,Su.current=null}function om(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qv(n,e),n!==null){n.flags&=32767,we=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,we=null;return}}else if(n=Yv(n,e,rt),n!==null){we=n;return}if(e=e.sibling,e!==null){we=e;return}we=e=t}while(e!==null);je===0&&(je=5)}function Bn(t,e,n){var s=ie,i=mt.transition;try{mt.transition=null,ie=1,nx(t,e,n,s)}finally{mt.transition=i,ie=s}return null}function nx(t,e,n,s){do Ls();while(yn!==null);if(J&6)throw Error(E(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(Ly(t,r),t===Pe&&(we=Pe=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vr||(Vr=!0,cm(Oo,function(){return Ls(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=mt.transition,mt.transition=null;var o=ie;ie=1;var a=J;J|=4,Su.current=null,Qv(t,n),em(n,t),wv(Jl),Ro=!!Xl,Jl=Xl=null,t.current=n,Xv(n),Ny(),J=a,ie=o,mt.transition=r}else t.current=n;if(Vr&&(Vr=!1,yn=t,Qo=i),r=t.pendingLanes,r===0&&(Cn=null),Ty(n.stateNode),nt(t,_e()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Go)throw Go=!1,t=vc,vc=null,t;return Qo&1&&t.tag!==0&&Ls(),r=t.pendingLanes,r&1?t===xc?zi++:(zi=0,xc=t):zi=0,Dn(),null}function Ls(){if(yn!==null){var t=Fp(Qo),e=mt.transition,n=ie;try{if(mt.transition=null,ie=16>t?16:t,yn===null)var s=!1;else{if(t=yn,yn=null,Qo=0,J&6)throw Error(E(331));var i=J;for(J|=4,R=t.current;R!==null;){var r=R,o=r.child;if(R.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(R=c;R!==null;){var u=R;switch(u.tag){case 0:case 11:case 15:Li(8,u,r)}var h=u.child;if(h!==null)h.return=u,R=h;else for(;R!==null;){u=R;var f=u.sibling,p=u.return;if(Xg(u),u===c){R=null;break}if(f!==null){f.return=p,R=f;break}R=p}}}var m=r.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}R=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,R=o;else e:for(;R!==null;){if(r=R,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Li(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,R=g;break e}R=r.return}}var y=t.current;for(R=y;R!==null;){o=R;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,R=_;else e:for(o=y;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_a(9,a)}}catch(b){ye(a,a.return,b)}if(a===o){R=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,R=w;break e}R=a.return}}if(J=i,Dn(),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(ha,t)}catch{}s=!0}return s}finally{ie=n,mt.transition=e}}return!1}function mh(t,e,n){e=Ws(n,e),e=Fg(t,e,1),t=jn(t,e,1),e=We(),t!==null&&(_r(t,1,e),nt(t,e))}function ye(t,e,n){if(t.tag===3)mh(t,t,n);else for(;e!==null;){if(e.tag===3){mh(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cn===null||!Cn.has(s))){t=Ws(n,t),t=Bg(e,t,1),e=jn(e,t,1),t=We(),e!==null&&(_r(e,1,t),nt(e,t));break}}e=e.return}}function sx(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=We(),t.pingedLanes|=t.suspendedLanes&n,Pe===t&&(Oe&n)===n&&(je===4||je===3&&(Oe&130023424)===Oe&&500>_e()-Cu?Qn(t,0):ju|=n),nt(t,e)}function am(t,e){e===0&&(t.mode&1?(e=Ar,Ar<<=1,!(Ar&130023424)&&(Ar=4194304)):e=1);var n=We();t=nn(t,e),t!==null&&(_r(t,e,n),nt(t,n))}function ix(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),am(t,n)}function rx(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(E(314))}s!==null&&s.delete(e),am(t,n)}var lm;lm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||et.current)Ze=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ze=!1,Kv(t,e,n);Ze=!!(t.flags&131072)}else Ze=!1,he&&e.flags&1048576&&hg(e,Bo,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;xo(t,e),t=e.pendingProps;var i=Bs(e,Fe.current);Ds(e,n),i=xu(null,e,s,t,i,n);var r=_u();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tt(s)?(r=!0,$o(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pu(e),i.updater=xa,e.stateNode=i,i._reactInternals=e,ac(e,s,t,n),e=uc(null,e,s,!0,r,n)):(e.tag=0,he&&r&&au(e),He(null,e,i,n),e=e.child),e;case 16:s=e.elementType;e:{switch(xo(t,e),t=e.pendingProps,i=s._init,s=i(s._payload),e.type=s,i=e.tag=ax(s),t=wt(s,t),i){case 0:e=cc(null,e,s,t,n);break e;case 1:e=oh(null,e,s,t,n);break e;case 11:e=ih(null,e,s,t,n);break e;case 14:e=rh(null,e,s,wt(s.type,t),n);break e}throw Error(E(306,s,""))}return e;case 0:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:wt(s,i),cc(t,e,s,i,n);case 1:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:wt(s,i),oh(t,e,s,i,n);case 3:e:{if(Wg(e),t===null)throw Error(E(387));s=e.pendingProps,r=e.memoizedState,i=r.element,vg(t,e),Ho(e,s,null,n);var o=e.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=Ws(Error(E(423)),e),e=ah(t,e,s,n,i);break e}else if(s!==i){i=Ws(Error(E(424)),e),e=ah(t,e,s,n,i);break e}else for(ot=Sn(e.stateNode.containerInfo.firstChild),at=e,he=!0,jt=null,n=mg(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Us(),s===i){e=sn(t,e,n);break e}He(t,e,s,n)}e=e.child}return e;case 5:return xg(e),t===null&&ic(e),s=e.type,i=e.pendingProps,r=t!==null?t.memoizedProps:null,o=i.children,Zl(s,i)?o=null:r!==null&&Zl(s,r)&&(e.flags|=32),Hg(t,e),He(t,e,o,n),e.child;case 6:return t===null&&ic(e),null;case 13:return Kg(t,e,n);case 4:return gu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Vs(e,null,s,n):He(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:wt(s,i),ih(t,e,s,i,n);case 7:return He(t,e,e.pendingProps,n),e.child;case 8:return He(t,e,e.pendingProps.children,n),e.child;case 12:return He(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,i=e.pendingProps,r=e.memoizedProps,o=i.value,ae(Uo,s._currentValue),s._currentValue=o,r!==null)if(Et(r.value,o)){if(r.children===i.children&&!et.current){e=sn(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=Jt(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),rc(r.return,n,e),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(E(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),rc(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}He(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps.children,Ds(e,n),i=vt(i),s=s(i),e.flags|=1,He(t,e,s,n),e.child;case 14:return s=e.type,i=wt(s,e.pendingProps),i=wt(s.type,i),rh(t,e,s,i,n);case 15:return Ug(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:wt(s,i),xo(t,e),e.tag=1,tt(s)?(t=!0,$o(e)):t=!1,Ds(e,n),$g(e,s,i),ac(e,s,i,n),uc(null,e,s,!0,t,n);case 19:return Yg(t,e,n);case 22:return Vg(t,e,n)}throw Error(E(156,e.tag))};function cm(t,e){return Lp(t,e)}function ox(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(t,e,n,s){return new ox(t,e,n,s)}function Tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ax(t){if(typeof t=="function")return Tu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gc)return 11;if(t===Qc)return 14}return 2}function En(t,e){var n=t.alternate;return n===null?(n=pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wo(t,e,n,s,i,r){var o=2;if(s=t,typeof t=="function")Tu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _s:return Xn(n.children,i,r,e);case qc:o=8,i|=8;break;case Ml:return t=pt(12,n,e,i|2),t.elementType=Ml,t.lanes=r,t;case Ol:return t=pt(13,n,e,i),t.elementType=Ol,t.lanes=r,t;case Al:return t=pt(19,n,e,i),t.elementType=Al,t.lanes=r,t;case xp:return wa(n,i,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yp:o=10;break e;case vp:o=9;break e;case Gc:o=11;break e;case Qc:o=14;break e;case un:o=16,s=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=pt(o,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function Xn(t,e,n,s){return t=pt(7,t,s,e),t.lanes=n,t}function wa(t,e,n,s){return t=pt(22,t,s,e),t.elementType=xp,t.lanes=n,t.stateNode={isHidden:!1},t}function dl(t,e,n){return t=pt(6,t,null,e),t.lanes=n,t}function hl(t,e,n){return e=pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lx(t,e,n,s,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mu(t,e,n,s,i,r,o,a,l){return t=new lx(t,e,n,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=pt(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pu(r),t}function cx(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function um(t){if(!t)return Mn;t=t._reactInternals;e:{if(ls(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if(tt(n))return ug(t,n,e)}return e}function dm(t,e,n,s,i,r,o,a,l){return t=Mu(n,s,!0,t,i,r,o,a,l),t.context=um(null),n=t.current,s=We(),i=Nn(n),r=Jt(s,i),r.callback=e??null,jn(n,r,i),t.current.lanes=i,_r(t,i,s),nt(t,s),t}function ka(t,e,n,s){var i=e.current,r=We(),o=Nn(i);return n=um(n),e.context===null?e.context=n:e.pendingContext=n,e=Jt(r,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=jn(i,e,o),t!==null&&(Nt(t,i,o,r),mo(t,i,o)),o}function Jo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ou(t,e){yh(t,e),(t=t.alternate)&&yh(t,e)}function ux(){return null}var hm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Au(t){this._internalRoot=t}Sa.prototype.render=Au.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ka(t,e,null,null)};Sa.prototype.unmount=Au.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;is(function(){ka(null,t,null,null)}),e[tn]=null}};function Sa(t){this._internalRoot=t}Sa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<fn.length&&e!==0&&e<fn[n].priority;n++);fn.splice(n,0,t),n===0&&Wp(t)}};function Ru(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ja(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vh(){}function dx(t,e,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=Jo(o);r.call(c)}}var o=dm(e,s,t,0,null,!1,!1,"",vh);return t._reactRootContainer=o,t[tn]=o.current,Zi(t.nodeType===8?t.parentNode:t),is(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var c=Jo(l);a.call(c)}}var l=Mu(t,0,!1,null,null,!1,!1,"",vh);return t._reactRootContainer=l,t[tn]=l.current,Zi(t.nodeType===8?t.parentNode:t),is(function(){ka(e,l,n,s)}),l}function Ca(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=Jo(o);a.call(l)}}ka(e,o,t,i)}else o=dx(n,e,t,i,s);return Jo(o)}Bp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wi(e.pendingLanes);n!==0&&(Zc(e,n|1),nt(e,_e()),!(J&6)&&(Ks=_e()+500,Dn()))}break;case 13:is(function(){var s=nn(t,1);if(s!==null){var i=We();Nt(s,t,1,i)}}),Ou(t,1)}};eu=function(t){if(t.tag===13){var e=nn(t,134217728);if(e!==null){var n=We();Nt(e,t,134217728,n)}Ou(t,134217728)}};Up=function(t){if(t.tag===13){var e=Nn(t),n=nn(t,e);if(n!==null){var s=We();Nt(n,t,e,s)}Ou(t,e)}};Vp=function(){return ie};Hp=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};Vl=function(t,e,n){switch(e){case"input":if(Ll(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=ma(s);if(!i)throw Error(E(90));bp(s),Ll(s,i)}}}break;case"textarea":kp(t,n);break;case"select":e=n.value,e!=null&&Ms(t,!!n.multiple,e,!1)}};Tp=Nu;Mp=is;var hx={usingClientEntryPoint:!1,Events:[wr,Ss,ma,Ep,Pp,Nu]},hi={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fx={bundleType:hi.bundleType,version:hi.version,rendererPackageName:hi.rendererPackageName,rendererConfig:hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rp(t),t===null?null:t.stateNode},findFiberByHostInstance:hi.findFiberByHostInstance||ux,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hr.isDisabled&&Hr.supportsFiber)try{ha=Hr.inject(fx),zt=Hr}catch{}}ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hx;ct.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ru(e))throw Error(E(200));return cx(t,e,null,n)};ct.createRoot=function(t,e){if(!Ru(t))throw Error(E(299));var n=!1,s="",i=hm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mu(t,1,!1,null,null,n,!1,s,i),t[tn]=e.current,Zi(t.nodeType===8?t.parentNode:t),new Au(e)};ct.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Rp(e),t=t===null?null:t.stateNode,t};ct.flushSync=function(t){return is(t)};ct.hydrate=function(t,e,n){if(!ja(e))throw Error(E(200));return Ca(null,t,e,!0,n)};ct.hydrateRoot=function(t,e,n){if(!Ru(t))throw Error(E(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=hm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dm(e,null,t,1,n??null,i,!1,r,o),t[tn]=e.current,Zi(t),s)for(t=0;t<s.length;t++)n=s[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sa(e)};ct.render=function(t,e,n){if(!ja(e))throw Error(E(200));return Ca(null,t,e,!1,n)};ct.unmountComponentAtNode=function(t){if(!ja(t))throw Error(E(40));return t._reactRootContainer?(is(function(){Ca(null,null,t,!1,function(){t._reactRootContainer=null,t[tn]=null})}),!0):!1};ct.unstable_batchedUpdates=Nu;ct.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!ja(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Ca(t,e,n,!1,s)};ct.version="18.3.1-next-f1338f8080-20240426";function fm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fm)}catch(t){console.error(t)}}fm(),fp.exports=ct;var px=fp.exports,pm,xh=px;pm=xh.createRoot,xh.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(t,e)=>{const n=N.forwardRef(({color:s="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:l,...c},u)=>N.createElement("svg",{ref:u,...gx,width:i,height:i,stroke:s,strokeWidth:o?Number(r)*24/Number(i):r,className:["lucide",`lucide-${mx(t)}`,a].join(" "),...c},[...e.map(([h,f])=>N.createElement(h,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=B("AArrowDown",[["path",{d:"M3.5 13h6",key:"p1my2r"}],["path",{d:"m2 16 4.5-9 4.5 9",key:"ndf0b3"}],["path",{d:"M18 7v9",key:"pknjwm"}],["path",{d:"m14 12 4 4 4-4",key:"buelq4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=B("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=B("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=B("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=B("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=B("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=B("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=B("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=B("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=B("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=B("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=B("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=B("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=B("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=B("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=B("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vx="modulepreload",Hx=function(t){return"/"+t},_h={},qs=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Hx(l),l in _h)return;_h[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Vx,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},Wx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qs(async()=>{const{default:s}=await Promise.resolve().then(()=>ti);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class zu extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class Kx extends zu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yx extends zu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class qx extends zu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Sc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Sc||(Sc={}));var Gx=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class Qx{constructor(e,{headers:n={},customFetch:s,region:i=Sc.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=Wx(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var s;return Gx(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new Kx(m)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new Yx(u);if(!u.ok)throw new qx(u);let f=((s=u.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Xe={},$u={},Ea={},Sr={},Pa={},Ta={},Xx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gs=Xx();const Jx=Gs.fetch,vm=Gs.fetch.bind(Gs),xm=Gs.Headers,Zx=Gs.Request,e_=Gs.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:xm,Request:Zx,Response:e_,default:vm,fetch:Jx},Symbol.toStringTag,{value:"Module"})),t_=U0(ti);var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});let n_=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ma.default=n_;var _m=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ta,"__esModule",{value:!0});const s_=_m(t_),i_=_m(Ma);let r_=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=s_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l;let c=null,u=null,h=null,f=r.status,p=r.statusText;if(r.ok){if(this.method!=="HEAD"){const g=await r.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=g:u=JSON.parse(g))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),x=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const v=await r.text();try{c=JSON.parse(v),Array.isArray(c)&&r.status===404&&(u=[],c=null,f=200,p="OK")}catch{r.status===404&&v===""?(f=204,p="No Content"):c={message:v}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new i_.default(c)}return{error:c,data:u,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,n)}};Ta.default=r_;var o_=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pa,"__esModule",{value:!0});const a_=o_(Ta);let l_=class extends a_.default{select(e){let n=!1;const s=(e??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,n,{foreignTable:s,referencedTable:i=s}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Pa.default=l_;var c_=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sr,"__esModule",{value:!0});const u_=c_(Pa);let d_=class extends u_.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:s,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${r}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(e,n,s){return this.url.searchParams.append(e,`not.${n}.${s}`),this}or(e,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,n,s){return this.url.searchParams.append(e,`${n}.${s}`),this}};Sr.default=d_;var h_=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ea,"__esModule",{value:!0});const fi=h_(Sr);let f_=class{constructor(e,{headers:n={},schema:s,fetch:i}){this.url=e,this.headers=n,this.schema=s,this.fetch=i}select(e,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new fi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:s=!0}={}){const i="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),s||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:r=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new fi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const s="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new fi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new fi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ea.default=f_;var Oa={},Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});Aa.version=void 0;Aa.version="0.0.0-automated";Object.defineProperty(Oa,"__esModule",{value:!0});Oa.DEFAULT_HEADERS=void 0;const p_=Aa;Oa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${p_.version}`};var bm=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($u,"__esModule",{value:!0});const g_=bm(Ea),m_=bm(Sr),y_=Oa;let v_=class wm{constructor(e,{headers:n={},schema:s,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},y_.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=i}from(e){const n=new URL(`${this.url}/${e}`);return new g_.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:s=!1,get:i=!1,count:r}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;s||i?(o=s?"HEAD":"GET",Object.entries(n).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return r&&(c.Prefer=`count=${r}`),new m_.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};$u.default=v_;var ni=yt&&yt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const km=ni($u);Xe.PostgrestClient=km.default;const Sm=ni(Ea);Xe.PostgrestQueryBuilder=Sm.default;const jm=ni(Sr);Xe.PostgrestFilterBuilder=jm.default;const Cm=ni(Pa);Xe.PostgrestTransformBuilder=Cm.default;const Nm=ni(Ta);Xe.PostgrestBuilder=Nm.default;const Em=ni(Ma);Xe.PostgrestError=Em.default;var x_=Xe.default={PostgrestClient:km.default,PostgrestQueryBuilder:Sm.default,PostgrestFilterBuilder:jm.default,PostgrestTransformBuilder:Cm.default,PostgrestBuilder:Nm.default,PostgrestError:Em.default};const{PostgrestClient:__,PostgrestQueryBuilder:dj,PostgrestFilterBuilder:hj,PostgrestTransformBuilder:fj,PostgrestBuilder:pj,PostgrestError:gj}=x_,b_="2.11.2",w_={"X-Client-Info":`realtime-js/${b_}`},k_="1.0.0",Pm=1e4,S_=1e3;var Is;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Is||(Is={}));var it;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(it||(it={}));var St;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(St||(St={}));var jc;(function(t){t.websocket="websocket"})(jc||(jc={}));var Wn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wn||(Wn={}));class j_{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const i=n.getUint8(1),r=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+i));o=o+i;const l=s.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Tm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const bh=(t,e,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((r,o)=>(r[o]=C_(o,t,e,i),r),{})},C_=(t,e,n,s)=>{const i=e.find(a=>a.name===t),r=i==null?void 0:i.type,o=n[t];return r&&!s.includes(r)?Mm(r,o):Cc(o)},Mm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return T_(e,n)}switch(t){case oe.bool:return N_(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return E_(e);case oe.json:case oe.jsonb:return P_(e);case oe.timestamp:return M_(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Cc(e);default:return Cc(e)}},Cc=t=>t,N_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},E_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},P_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},T_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let r;const o=t.slice(1,n);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>Mm(e,a))}return t},M_=t=>typeof t=="string"?t.replace(" ","T"):t,Om=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class fl{constructor(e,n,s={},i=Pm){this.channel=e,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wh||(wh={}));class $i{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$i.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=$i.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=$i.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,i){const r=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const f=u.map(x=>x.presence_ref),p=h.map(x=>x.presence_ref),m=u.filter(x=>p.indexOf(x.presence_ref)<0),v=h.filter(x=>f.indexOf(x.presence_ref)<0);m.length>0&&(a[c]=m),v.length>0&&(l[c]=v)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},s,i)}static syncDiff(e,n,s,i){const{joins:r,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(p=>p.presence_ref),f=u.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const i=e[s];return"metas"in i?n[s]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(kh||(kh={}));var Sh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Sh||(Sh={}));var Wt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wt||(Wt={}));class Fu{constructor(e,n={config:{}},s){this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new fl(this,St.join,this.params,this.timeout),this.rejoinTimer=new Tm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(St.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new $i(this),this.broadcastEndpointURL=Om(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:o,private:a}}=this.params;this._onError(u=>e==null?void 0:e(Wt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(Wt.CLOSED));const l={},c={broadcast:r,presence:o,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){e==null||e(Wt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let v=0;v<p;v++){const x=f[v],{filter:{event:g,schema:y,table:_,filter:w}}=x,b=u&&u[v];if(b&&b.event===g&&b.schema===y&&b.table===_&&b.filter===w)m.push(Object.assign(Object.assign({},x),{id:b.id}));else{this.unsubscribe(),e==null||e(Wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Wt.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(Wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this._on(e,n,s)}async send(e,n={}){var s,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=it.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(St.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const i=new fl(this,St.leave,{},e);i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,n,s){const i=new AbortController,r=setTimeout(()=>i.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(r),o}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new fl(this,e,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=St;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let f=this._onMessage(o,n,s);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,v,x;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(p=>p.callback(f,s)):(r=this.bindings[o])===null||r===void 0||r.filter(p=>{var m,v,x,g,y,_;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const w=p.id,b=(m=p.filter)===null||m===void 0?void 0:m.event;return w&&((v=n.ids)===null||v===void 0?void 0:v.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(y=(g=p==null?void 0:p.filter)===null||g===void 0?void 0:g.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return w==="*"||w===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:v,table:x,commit_timestamp:g,type:y,errors:_}=m;f=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:g,eventType:y,new:{},old:{},errors:_}),this._getPayloadRecords(m))}p.callback(f,s)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const i=e.toLocaleLowerCase(),r={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&Fu.isEqual(i.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(St.close,{},e)}_onError(e){this._on(St.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=bh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=bh(e.columns,e.old_record)),n}}const O_=()=>{},A_=typeof WebSocket<"u",R_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D_{constructor(e,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=w_,this.params={},this.timeout=Pm,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=O_,this.conn=null,this.sendBuffer=[],this.serializer=new j_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>qs(async()=>{const{default:l}=await Promise.resolve().then(()=>ti);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${jc.websocket}`,this.httpEndpoint=Om(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(r,o)=>o(JSON.stringify(r)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Tm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(A_){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new L_(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),qs(async()=>{const{default:e}=await import("./browser-DFF10Ver.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:k_}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Is.connecting:return Wn.Connecting;case Is.open:return Wn.Open;case Is.closing:return Wn.Closing;default:return Wn.Closed}}isConnected(){return this.connectionState()===Wn.Open}channel(e,n={config:{}}){const s=new Fu(`realtime:${e}`,n,this);return this.channels.push(s),s}push(e){const{topic:n,event:s,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${s} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let s=null;try{s=JSON.parse(atob(n.split(".")[1]))}catch{}if(s&&s.exp&&!(Math.floor(Date.now()/1e3)-s.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${s.exp}`);this.accessTokenValue=n,this.channels.forEach(i=>{n&&i.updateJoinPayload({access_token:n}),i.joinedOnce&&i._isJoined()&&i._push(St.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(S_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:s,event:i,payload:r,ref:o}=n;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${s} ${i} ${o&&"("+o+")"||""}`,r),this.channels.filter(a=>a._isMember(s)).forEach(a=>a._trigger(i,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(St.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${s}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([R_],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class L_{constructor(e,n,s){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Is.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=s.close}}class Bu extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ne(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class I_ extends Bu{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nc extends Bu{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var z_=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const Am=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qs(async()=>{const{default:s}=await Promise.resolve().then(()=>ti);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},$_=()=>z_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qs(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),Ec=t=>{if(Array.isArray(t))return t.map(n=>Ec(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=Ec(s)}),e};var cs=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const pl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),F_=(t,e,n)=>cs(void 0,void 0,void 0,function*(){const s=yield $_();t instanceof s&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{e(new I_(pl(i),t.status||500))}).catch(i=>{e(new Nc(pl(i),i))}):e(new Nc(pl(t),t))}),B_=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function jr(t,e,n,s,i,r){return cs(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,B_(e,s,i,r)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>F_(l,a,s))})})}function ea(t,e,n,s){return cs(this,void 0,void 0,function*(){return jr(t,"GET",e,n,s)})}function hn(t,e,n,s,i){return cs(this,void 0,void 0,function*(){return jr(t,"POST",e,s,i,n)})}function U_(t,e,n,s,i){return cs(this,void 0,void 0,function*(){return jr(t,"PUT",e,s,i,n)})}function V_(t,e,n,s){return cs(this,void 0,void 0,function*(){return jr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Rm(t,e,n,s,i){return cs(this,void 0,void 0,function*(){return jr(t,"DELETE",e,s,i,n)})}var qe=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const H_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class W_{constructor(e,n={},s,i){this.url=e,this.headers=n,this.bucketId=s,this.fetch=Am(i)}uploadOrUpdate(e,n,s,i){return qe(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},jh),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:r,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(r){if(Ne(r))return{data:null,error:r};throw r}})}upload(e,n,s){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,i){return qe(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:jh.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:r,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ne(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return qe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const r=yield hn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new Bu("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}update(e,n,s){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return qe(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}copy(e,n,s){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield hn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,s){return qe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield hn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,s){return qe(this,void 0,void 0,function*(){try{const i=yield hn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}download(e,n){return qe(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ea(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}})}info(e){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield ea(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ec(s),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}exists(e){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield V_(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ne(s)&&s instanceof Nc){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),i=[],r=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&i.push(r);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}list(e,n,s){return qe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},H_),n),{prefix:e||""});return{data:yield hn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Ne(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const K_="2.7.1",Y_={"X-Client-Info":`storage-js/${K_}`};var ps=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class q_{constructor(e,n={},s){this.url=e,this.headers=Object.assign(Object.assign({},Y_),n),this.fetch=Am(s)}listBuckets(){return ps(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ne(e))return{data:null,error:e};throw e}})}getBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return ps(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return ps(this,void 0,void 0,function*(){try{return{data:yield U_(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ne(s))return{data:null,error:s};throw s}})}emptyBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}deleteBucket(e){return ps(this,void 0,void 0,function*(){try{return{data:yield Rm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}}class G_ extends q_{constructor(e,n={},s){super(e,n,s)}from(e){return new W_(this.url,this.headers,e,this.fetch)}}const Q_="2.48.1";let Si="";typeof Deno<"u"?Si="deno":typeof document<"u"?Si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Si="react-native":Si="node";const X_={"X-Client-Info":`supabase-js-${Si}/${Q_}`},J_={headers:X_},Z_={schema:"public"},eb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tb={};var nb=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};const sb=t=>{let e;return t?e=t:typeof fetch>"u"?e=vm:e=fetch,(...n)=>e(...n)},ib=()=>typeof Headers>"u"?xm:Headers,rb=(t,e,n)=>{const s=sb(n),i=ib();return(r,o)=>nb(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(r,Object.assign(Object.assign({},o),{headers:c}))})};var ob=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};function ab(t){return t.replace(/\/$/,"")}function lb(t,e){const{db:n,auth:s,realtime:i,global:r}=t,{db:o,auth:a,realtime:l,global:c}=e,u={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},a),s),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),r),accessToken:()=>ob(this,void 0,void 0,function*(){return""})};return t.accessToken?u.accessToken=t.accessToken:delete u.accessToken,u}const Dm="2.67.3",cb="http://localhost:9999",ub="supabase.auth.token",db={"X-Client-Info":`gotrue-js/${Dm}`},Ch=10,Pc="X-Supabase-Api-Version",Lm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function hb(t){return Math.round(Date.now()/1e3)+t}function fb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ot=()=>typeof window<"u"&&typeof document<"u",Ln={tested:!1,writable:!1},Fi=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ln.tested)return Ln.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ln.tested=!0,Ln.writable=!0}catch{Ln.tested=!0,Ln.writable=!1}return Ln.writable};function pb(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return n.searchParams.forEach((s,i)=>{e[i]=s}),e}const Im=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>qs(async()=>{const{default:s}=await Promise.resolve().then(()=>ti);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},gb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",zm=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Wr=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kr=async(t,e)=>{await t.removeItem(e)};function mb(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",s,i,r,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),s=o<<2|a>>4,i=(a&15)<<4|l>>2,r=(l&3)<<6|c,n=n+String.fromCharCode(s),l!=64&&i!=0&&(n=n+String.fromCharCode(i)),c!=64&&r!=0&&(n=n+String.fromCharCode(r));return n}class Ra{constructor(){this.promise=new Ra.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ra.promiseConstructor=Promise;function Nh(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const s=n[1];return JSON.parse(mb(s))}async function yb(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vb(t,e){return new Promise((s,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){s(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function xb(t){return("0"+t.toString(16)).substr(-2)}function _b(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let r=0;r<56;r++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(e),Array.from(e,xb).join("")}async function bb(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}function wb(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await bb(t);return wb(n)}async function gs(t,e,n=!1){const s=_b();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await zm(t,`${e}-code-verifier`,i);const r=await kb(s);return[r,s===r?"plain":"s256"]}const Sb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jb(t){const e=t.headers.get(Pc);if(!e||!e.match(Sb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class Uu extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Cb extends Uu{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Nb(t){return V(t)&&t.name==="AuthApiError"}class $m extends Uu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class us extends Uu{constructor(e,n,s,i){super(e,s,i),this.name=n,this.status=s}}class ln extends us{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Eb(t){return V(t)&&t.name==="AuthSessionMissingError"}class gl extends us{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yr extends us{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class qr extends us{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Pb(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class Eh extends us{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tc extends us{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ml(t){return V(t)&&t.name==="AuthRetryableFetchError"}class Ph extends us{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}var Tb=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};const Un=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mb=[502,503,504];async function Th(t){var e;if(!gb(t))throw new Tc(Un(t),0);if(Mb.includes(t.status))throw new Tc(Un(t),t.status);let n;try{n=await t.json()}catch(r){throw new $m(Un(r),r)}let s;const i=jb(t);if(i&&i.getTime()>=Lm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Ph(Un(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ln}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new Ph(Un(n),t.status,n.weak_password.reasons);throw new Cb(Un(n),t.status||500,s)}const Ob=(t,e,n,s)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function Q(t,e,n,s){var i;const r=Object.assign({},s==null?void 0:s.headers);r[Pc]||(r[Pc]=Lm["2024-01-01"].name),s!=null&&s.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const o=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ab(t,e,n+a,{headers:r,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function Ab(t,e,n,s,i,r){const o=Ob(e,s,i,r);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Tc(Un(l),0)}if(a.ok||await Th(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await Th(l)}}function cn(t){var e;let n=null;Ib(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=hb(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function Mh(t){const e=cn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function gn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Rb(t){return{data:t,error:null}}function Db(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r}=t,o=Tb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:s,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Lb(t){return t}function Ib(t){return t.access_token&&t.refresh_token&&t.expires_in}var zb=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n};class $b{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Im(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:gn})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=zb(e,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Db,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:gn})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:Lb});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(m.split(";")[1].split("=")[1]);c[`${x}Page`]=v}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:gn})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:gn})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:gn})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){try{const{data:n,error:s}=await Q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}const Fb={getItem:t=>Fi()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Fi()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Fi()&&globalThis.localStorage.removeItem(t)}};function Oh(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Bb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ms={debug:!!(globalThis&&Fi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ub extends Fm{}async function Vb(t,e,n){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ub(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ms.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Bb();const Hb={url:cb,storageKey:ub,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:db,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},pi=30*1e3,Ah=3;async function Rh(t,e,n){return await n()}class ur{constructor(e){var n,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ur.nextInstanceID,ur.nextInstanceID+=1,this.instanceID>0&&Ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Hb),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $b({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Im(i.fetch),this.lock=i.lock||Rh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Vb:this.lock=Rh,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Fi()?this.storage=Fb:(this.memoryStorage={},this.storage=Oh(this.memoryStorage)):(this.memoryStorage={},this.storage=Oh(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Dm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=pb(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),Ot()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),Pb(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new $m("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,i;try{const r=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:cn}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var n,s,i;try{let r;if("email"in e){const{email:u,password:h,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await gs(this.storage,this.storageKey)),r=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:cn})}else if("phone"in e){const{phone:u,password:h,options:f}=e;r=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:cn})}else throw new Yr("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(V(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let n;if("email"in e){const{email:r,password:o,options:a}=e;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mh})}else if("phone"in e){const{phone:r,password:o,options:a}=e;n=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mh})}else throw new Yr("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new gl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await Wr(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:r,error:o}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:cn});if(await Kr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new gl}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(V(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:n,provider:s,token:i,access_token:r,nonce:o}=e,a=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:cn}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await gs(this.storage,this.storageKey));const{error:h}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Yr("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,s;try{let i,r;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,r=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:cn});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var n,s,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await gs(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:Rb})}catch(r){if(V(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new ln;const{error:i}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:i,options:r}=e,{error:o}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:i,options:r}=e,{data:o,error:a}=await Q(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Yr("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:gn}):await this._useSession(async n=>{var s,i,r;const{data:o,error:a}=n;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ln}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:gn})})}catch(n){if(V(n))return Eb(n)&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:i,error:r}=s;if(r)throw r;if(!i.session)throw new ln;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await gs(this.storage,this.storageKey));const{data:c,error:u}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:gn});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}_decodeJWT(e){return Nh(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ln;const n=Date.now()/1e3;let s=n,i=!0,r=null;const o=Nh(e.access_token);if(o.exp&&(s=o.exp,i=s<=n),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new ln;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ot())throw new qr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new qr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Eh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new qr("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Eh("No code detected.");const{data:y,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new qr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const p=f-u;p*1e3<=pi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:v,error:x}=await this._getUser(r);if(x)throw x;const g={provider_token:s,provider_refresh_token:i,access_token:r,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(s){if(V(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Wr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{error:r};const o=(s=i.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Nb(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=fb(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,i;try{const{data:{session:r},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await gs(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(V(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:s,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:f}=r;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Ot()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(V(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)throw o;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await vb(async i=>(i>0&&await yb(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:cn})),(i,r)=>{const o=200*Math.pow(2,i);return r&&ml(r)&&Date.now()+o-s<pi})}catch(s){if(this._debug(n,"error",s),V(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),Ot()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Wr(this.storage,this.storageKey);if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=Math.round(Date.now()/1e3),r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)<i+Ch;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${Ch}s`),r){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ml(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new ln;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ra;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new ln;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),V(r)){const o={session:null,error:r};return ml(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,s=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await zm(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Kr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-e)/pi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${pi}ms, refresh threshold is ${Ah} ticks`),i<=Ah&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,o]=await gs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(s!=null&&s.queryParams){const r=new URLSearchParams(s.queryParams);i.push(r.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await Q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,i;const{data:r,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;if(r)return{data:null,error:r};const{data:o,error:a}=await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:r}=n;return r?{data:null,error:r}:await Q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(e==null?void 0:e.factors)||[],i=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}ur.nextInstanceID=0;const Wb=ur;class Kb extends Wb{constructor(e){super(e)}}var Yb=function(t,e,n,s){function i(r){return r instanceof n?r:new n(function(o){o(r)})}return new(n||(n=Promise))(function(r,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})};class qb{constructor(e,n,s){var i,r,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=ab(e);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Z_,realtime:tb,auth:Object.assign(Object.assign({},eb),{storageKey:l}),global:J_},u=lb(s??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=rb(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new __(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Qx(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new G_(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Yb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:r,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kb({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:r,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new D_(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gb=(t,e,n)=>new qb(t,e,n),Qb="https://jmawsyiobdzfrblnprxn.supabase.co",Xb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImptYXdzeWlvYmR6ZnJibG5wcnhuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg5MDgyMjYsImV4cCI6MjA1NDQ4NDIyNn0.iVZOtEKuIgr84YydNKabkYfm_6mGbGyUag_F7Q8JzYg",ne=Gb(Qb,Xb);ne.from("messages").select("*").limit(1).then(({data:t,error:e})=>{e?console.error("Supabase connection error:",e):console.log("Supabase connection successful")});function Jb({onClose:t,onAssign:e,officers:n,taskSummary:s,crimeNumber:i}){const[r,o]=N.useState(""),[a,l]=N.useState(null),c=n.filter(h=>h.name.toLowerCase().includes(r.toLowerCase())||h.officer_id.toLowerCase().includes(r.toLowerCase())||h.rank.toLowerCase().includes(r.toLowerCase())||h.division.toLowerCase().includes(r.toLowerCase())),u=()=>{a&&(e(a),t())};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Assign Task"}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Crime: ",i]})]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:d.jsx("p",{className:"text-sm text-gray-600",children:s})}),d.jsxs("div",{className:"relative mb-4",children:[d.jsx("input",{type:"text",placeholder:"Search officers by name, ID, rank, or division...",value:r,onChange:h=>o(h.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx(Ys,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),d.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.length===0?d.jsx("div",{className:"text-center py-4 text-gray-500",children:"No officers found matching your search"}):d.jsx("div",{className:"space-y-2",children:c.map(h=>d.jsxs("div",{onClick:()=>l(h.officer_id),className:`flex items-center justify-between p-3 rounded-lg cursor-pointer ${a===h.officer_id?"bg-blue-50 border-2 border-blue-500":"hover:bg-gray-50 border-2 border-transparent"}`,children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:h.image_url,alt:h.name,className:"w-10 h-10 rounded-full"}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:h.name}),d.jsx("p",{className:"text-sm text-gray-500",children:h.officer_id}),d.jsxs("p",{className:"text-xs text-gray-400",children:[h.rank,"  ",h.division]})]})]}),a===h.officer_id&&d.jsx(bx,{className:"w-5 h-5 text-blue-600"})]},h.id))})})]}),d.jsxs("div",{className:"p-4 border-t flex justify-end space-x-3",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),d.jsx("button",{onClick:u,disabled:!a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Assign Task"})]})]})})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Cr(t){return t+.5|0}const vn=(t,e,n)=>Math.max(Math.min(t,n),e);function ji(t){return vn(Cr(t*2.55),0,255)}function Pn(t){return vn(Cr(t*255),0,255)}function Yt(t){return vn(Cr(t/2.55)/100,0,1)}function Dh(t){return vn(Cr(t*100),0,100)}const dt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Mc=[..."0123456789ABCDEF"],Zb=t=>Mc[t&15],ew=t=>Mc[(t&240)>>4]+Mc[t&15],Gr=t=>(t&240)>>4===(t&15),tw=t=>Gr(t.r)&&Gr(t.g)&&Gr(t.b)&&Gr(t.a);function nw(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&dt[t[1]]*17,g:255&dt[t[2]]*17,b:255&dt[t[3]]*17,a:e===5?dt[t[4]]*17:255}:(e===7||e===9)&&(n={r:dt[t[1]]<<4|dt[t[2]],g:dt[t[3]]<<4|dt[t[4]],b:dt[t[5]]<<4|dt[t[6]],a:e===9?dt[t[7]]<<4|dt[t[8]]:255})),n}const sw=(t,e)=>t<255?e(t):"";function iw(t){var e=tw(t)?Zb:ew;return t?"#"+e(t.r)+e(t.g)+e(t.b)+sw(t.a,e):void 0}const rw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bm(t,e,n){const s=e*Math.min(n,1-n),i=(r,o=(r+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function ow(t,e,n){const s=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function aw(t,e,n){const s=Bm(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)s[i]*=1-e-n,s[i]+=e;return s}function lw(t,e,n,s,i){return t===i?(e-n)/s+(e<n?6:0):e===i?(n-t)/s+2:(t-e)/s+4}function Vu(t){const n=t.r/255,s=t.g/255,i=t.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=lw(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function Hu(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(Pn)}function Wu(t,e,n){return Hu(Bm,t,e,n)}function cw(t,e,n){return Hu(aw,t,e,n)}function uw(t,e,n){return Hu(ow,t,e,n)}function Um(t){return(t%360+360)%360}function dw(t){const e=rw.exec(t);let n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?ji(+e[5]):Pn(+e[5]));const i=Um(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=cw(i,r,o):e[1]==="hsv"?s=uw(i,r,o):s=Wu(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function hw(t,e){var n=Vu(t);n[0]=Um(n[0]+e),n=Wu(n),t.r=n[0],t.g=n[1],t.b=n[2]}function fw(t){if(!t)return;const e=Vu(t),n=e[0],s=Dh(e[1]),i=Dh(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${i}%, ${Yt(t.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const Lh={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ih={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pw(){const t={},e=Object.keys(Ih),n=Object.keys(Lh);let s,i,r,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,Lh[r]);r=parseInt(Ih[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let Qr;function gw(t){Qr||(Qr=pw(),Qr.transparent=[0,0,0,0]);const e=Qr[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const mw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function yw(t){const e=mw.exec(t);let n=255,s,i,r;if(e){if(e[7]!==s){const o=+e[7];n=e[8]?ji(o):vn(o*255,0,255)}return s=+e[1],i=+e[3],r=+e[5],s=255&(e[2]?ji(s):vn(s,0,255)),i=255&(e[4]?ji(i):vn(i,0,255)),r=255&(e[6]?ji(r):vn(r,0,255)),{r:s,g:i,b:r,a:n}}}function vw(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Yt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const yl=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ys=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function xw(t,e,n){const s=ys(Yt(t.r)),i=ys(Yt(t.g)),r=ys(Yt(t.b));return{r:Pn(yl(s+n*(ys(Yt(e.r))-s))),g:Pn(yl(i+n*(ys(Yt(e.g))-i))),b:Pn(yl(r+n*(ys(Yt(e.b))-r))),a:t.a+n*(e.a-t.a)}}function Xr(t,e,n){if(t){let s=Vu(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=Wu(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function Vm(t,e){return t&&Object.assign(e||{},t)}function zh(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Pn(t[3]))):(e=Vm(t,{r:0,g:0,b:0,a:1}),e.a=Pn(e.a)),e}function _w(t){return t.charAt(0)==="r"?yw(t):dw(t)}class dr{constructor(e){if(e instanceof dr)return e;const n=typeof e;let s;n==="object"?s=zh(e):n==="string"&&(s=nw(e)||gw(e)||_w(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=Vm(this._rgb);return e&&(e.a=Yt(e.a)),e}set rgb(e){this._rgb=zh(e)}rgbString(){return this._valid?vw(this._rgb):void 0}hexString(){return this._valid?iw(this._rgb):void 0}hslString(){return this._valid?fw(this._rgb):void 0}mix(e,n){if(e){const s=this.rgb,i=e.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=xw(this._rgb,e._rgb,n)),this}clone(){return new dr(this.rgb)}alpha(e){return this._rgb.a=Pn(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Cr(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Xr(this._rgb,2,e),this}darken(e){return Xr(this._rgb,2,-e),this}saturate(e){return Xr(this._rgb,1,e),this}desaturate(e){return Xr(this._rgb,1,-e),this}rotate(e){return hw(this._rgb,e),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Bt(){}const bw=(()=>{let t=0;return()=>t++})();function le(t){return t==null}function ke(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Y(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Be(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Mt(t,e){return Be(t)?t:e}function H(t,e){return typeof t>"u"?e:t}const ww=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Hm=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function ue(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function se(t,e,n,s){let i,r,o;if(ke(t))for(r=t.length,i=0;i<r;i++)e.call(n,t[i],i);else if(Y(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(n,t[o[i]],o[i])}function ta(t,e){let n,s,i,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(i=t[n],r=e[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function na(t){if(ke(t))return t.map(na);if(Y(t)){const e=Object.create(null),n=Object.keys(t),s=n.length;let i=0;for(;i<s;++i)e[n[i]]=na(t[n[i]]);return e}return t}function Wm(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function kw(t,e,n,s){if(!Wm(t))return;const i=e[t],r=n[t];Y(i)&&Y(r)?hr(i,r,s):e[t]=na(r)}function hr(t,e,n){const s=ke(e)?e:[e],i=s.length;if(!Y(t))return t;n=n||{};const r=n.merger||kw;let o;for(let a=0;a<i;++a){if(o=s[a],!Y(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,n)}return t}function Bi(t,e){return hr(t,e,{merger:Sw})}function Sw(t,e,n){if(!Wm(t))return;const s=e[t],i=n[t];Y(s)&&Y(i)?Bi(s,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=na(i))}const $h={"":t=>t,x:t=>t.x,y:t=>t.y};function jw(t){const e=t.split("."),n=[];let s="";for(const i of e)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Cw(t){const e=jw(t);return n=>{for(const s of e){if(s==="")break;n=n&&n[s]}return n}}function rs(t,e){return($h[e]||($h[e]=Cw(e)))(t)}function Ku(t){return t.charAt(0).toUpperCase()+t.slice(1)}const fr=t=>typeof t<"u",On=t=>typeof t=="function",Fh=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function Nw(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ve=Math.PI,pe=2*ve,Ew=pe+ve,sa=Number.POSITIVE_INFINITY,Pw=ve/180,Ce=ve/2,In=ve/4,Bh=ve*2/3,Oc=Math.log10,Ft=Math.sign;function Ui(t,e,n){return Math.abs(t-e)<n}function Uh(t){const e=Math.round(t);t=Ui(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Oc(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function Tw(t){const e=[],n=Math.sqrt(t);let s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((i,r)=>i-r).pop(),e}function pr(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Mw(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Ow(t,e,n){let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s][n],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Qt(t){return t*(ve/180)}function Aw(t){return t*(180/ve)}function Vh(t){if(!Be(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Km(t,e){const n=e.x-t.x,s=e.y-t.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*ve&&(r+=pe),{angle:r,distance:i}}function Ac(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Rw(t,e){return(t-e+Ew)%pe-ve}function Lt(t){return(t%pe+pe)%pe}function gr(t,e,n,s){const i=Lt(t),r=Lt(e),o=Lt(n),a=Lt(r-i),l=Lt(o-i),c=Lt(i-r),u=Lt(i-o);return i===r||i===o||s&&r===o||a>l&&c<u}function ze(t,e,n){return Math.max(e,Math.min(n,t))}function Dw(t){return ze(t,-32768,32767)}function Xt(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Yu(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const Gn=(t,e,n,s)=>Yu(t,n,s?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),Lw=(t,e,n)=>Yu(t,n,s=>t[s][e]>=n);function Iw(t,e,n){let s=0,i=t.length;for(;s<i&&t[s]<e;)s++;for(;i>s&&t[i-1]>n;)i--;return s>0||i<t.length?t.slice(s,i):t}const Ym=["push","pop","shift","splice","unshift"];function zw(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ym.forEach(n=>{const s="_onData"+Ku(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function Hh(t,e){const n=t._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(e);i!==-1&&s.splice(i,1),!(s.length>0)&&(Ym.forEach(r=>{delete t[r]}),delete t._chartjs)}function qm(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Gm=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Qm(t,e){let n=[],s=!1;return function(...i){n=i,s||(s=!0,Gm.call(window,()=>{s=!1,t.apply(e,n)}))}}function $w(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}const qu=t=>t==="start"?"left":t==="end"?"right":"center",Le=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,Fw=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function Bw(t,e,n){const s=e.length;let i=0,r=s;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(i=ze(Math.min(Gn(a,l,c).lo,n?s:Gn(e,l,o.getPixelForValue(c)).lo),0,s-1)),f?r=ze(Math.max(Gn(a,o.axis,u,!0).hi+1,n?0:Gn(e,l,o.getPixelForValue(u),!0).hi+1),i,s)-i:r=s-i}return{start:i,count:r}}function Uw(t){const{xScale:e,yScale:n,_scaleRanges:s}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=i,!0;const r=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),r}const Jr=t=>t===0||t===1,Wh=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*pe/n)),Kh=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*pe/n)+1,Vi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ce)+1,easeOutSine:t=>Math.sin(t*Ce),easeInOutSine:t=>-.5*(Math.cos(ve*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Jr(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Jr(t)?t:Wh(t,.075,.3),easeOutElastic:t=>Jr(t)?t:Kh(t,.075,.3),easeInOutElastic(t){return Jr(t)?t:t<.5?.5*Wh(t*2,.1125,.45):.5+.5*Kh(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Vi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Vi.easeInBounce(t*2)*.5:Vi.easeOutBounce(t*2-1)*.5+.5};function Gu(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Yh(t){return Gu(t)?t:new dr(t)}function vl(t){return Gu(t)?t:new dr(t).saturate(.5).darken(.1).hexString()}const Vw=["x","y","borderWidth","radius","tension"],Hw=["color","borderColor","backgroundColor"];function Ww(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Hw},numbers:{type:"number",properties:Vw}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Kw(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const qh=new Map;function Yw(t,e){e=e||{};const n=t+JSON.stringify(e);let s=qh.get(n);return s||(s=new Intl.NumberFormat(t,e),qh.set(n,s)),s}function Qu(t,e,n){return Yw(e,n).format(t)}const Xm={values(t){return ke(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const s=this.chart.options.locale;let i,r=t;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=qw(t,n)}const o=Oc(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Qu(t,s,l)},logarithmic(t,e,n){if(t===0)return"0";const s=n[e].significand||t/Math.pow(10,Math.floor(Oc(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?Xm.numeric.call(this,t,e,n):""}};function qw(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Jm={formatters:Xm};function Gw(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Jm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const os=Object.create(null),Rc=Object.create(null);function Hi(t,e){if(!e)return t;const n=e.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];t=t[r]||(t[r]=Object.create(null))}return t}function xl(t,e,n){return typeof e=="string"?hr(Hi(t,e),n):hr(Hi(t,""),e)}class Qw{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>vl(i.backgroundColor),this.hoverBorderColor=(s,i)=>vl(i.borderColor),this.hoverColor=(s,i)=>vl(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return xl(this,e,n)}get(e){return Hi(this,e)}describe(e,n){return xl(Rc,e,n)}override(e,n){return xl(os,e,n)}route(e,n,s,i){const r=Hi(this,e),o=Hi(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return Y(l)?Object.assign({},c,l):H(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var be=new Qw({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ww,Kw,Gw]);function Xw(t){return!t||le(t.size)||le(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Gh(t,e,n,s,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,n.push(i)),r>s&&(s=r),s}function zn(t,e,n){const s=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*s)/s+i}function Qh(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Dc(t,e,n,s){Zm(t,e,n,s,null)}function Zm(t,e,n,s,i){let r,o,a,l,c,u,h,f;const p=e.pointStyle,m=e.rotation,v=e.radius;let x=(m||0)*Pw;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(x),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(v)||v<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,s,i/2,v,0,0,pe):t.arc(n,s,v,0,pe),t.closePath();break;case"triangle":u=i?i/2:v,t.moveTo(n+Math.sin(x)*u,s-Math.cos(x)*v),x+=Bh,t.lineTo(n+Math.sin(x)*u,s-Math.cos(x)*v),x+=Bh,t.lineTo(n+Math.sin(x)*u,s-Math.cos(x)*v),t.closePath();break;case"rectRounded":c=v*.516,l=v-c,o=Math.cos(x+In)*l,h=Math.cos(x+In)*(i?i/2-c:l),a=Math.sin(x+In)*l,f=Math.sin(x+In)*(i?i/2-c:l),t.arc(n-h,s-a,c,x-ve,x-Ce),t.arc(n+f,s-o,c,x-Ce,x),t.arc(n+h,s+a,c,x,x+Ce),t.arc(n-f,s+o,c,x+Ce,x+ve),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*v,u=i?i/2:l,t.rect(n-u,s-l,2*u,2*l);break}x+=In;case"rectRot":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,f=Math.sin(x)*(i?i/2:v),t.moveTo(n-h,s-a),t.lineTo(n+f,s-o),t.lineTo(n+h,s+a),t.lineTo(n-f,s+o),t.closePath();break;case"crossRot":x+=In;case"cross":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,f=Math.sin(x)*(i?i/2:v),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"star":h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,f=Math.sin(x)*(i?i/2:v),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o),x+=In,h=Math.cos(x)*(i?i/2:v),o=Math.cos(x)*v,a=Math.sin(x)*v,f=Math.sin(x)*(i?i/2:v),t.moveTo(n-h,s-a),t.lineTo(n+h,s+a),t.moveTo(n+f,s-o),t.lineTo(n-f,s+o);break;case"line":o=i?i/2:Math.cos(x)*v,a=Math.sin(x)*v,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(x)*(i?i/2:v),s+Math.sin(x)*v);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function mr(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Da(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function La(t){t.restore()}function Jw(t,e,n,s,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else i==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function Zw(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function e1(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),le(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function t1(t,e,n,s,i){if(i.strikethrough||i.underline){const r=t.measureText(s),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function n1(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function yr(t,e,n,s,i,r={}){const o=ke(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,e1(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&n1(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),le(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,n,s,r.maxWidth)),t.fillText(c,n,s,r.maxWidth),t1(t,n,s,c,r),s+=Number(i.lineHeight);t.restore()}function ia(t,e){const{x:n,y:s,w:i,h:r,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*ve,ve,!0),t.lineTo(n,s+r-o.bottomLeft),t.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,ve,Ce,!0),t.lineTo(n+i-o.bottomRight,s+r),t.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,Ce,0,!0),t.lineTo(n+i,s+o.topRight),t.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-Ce,!0),t.lineTo(n+o.topLeft,s)}const s1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,i1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function r1(t,e){const n=(""+t).match(s1);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const o1=t=>+t||0;function Xu(t,e){const n={},s=Y(e),i=s?Object.keys(e):e,r=Y(t)?s?o=>H(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=o1(r(o));return n}function e0(t){return Xu(t,{top:"y",right:"x",bottom:"y",left:"x"})}function zs(t){return Xu(t,["topLeft","topRight","bottomLeft","bottomRight"])}function _t(t){const e=e0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function $e(t,e){t=t||{},e=e||be.font;let n=H(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=H(t.style,e.style);s&&!(""+s).match(i1)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:H(t.family,e.family),lineHeight:r1(H(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:H(t.weight,e.weight),string:""};return i.string=Xw(i),i}function Zr(t,e,n,s){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function a1(t,e,n){const{min:s,max:i}=t,r=Hm(e,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function ds(t,e){return Object.assign(Object.create(t),e)}function Ju(t,e=[""],n,s,i=()=>t[0]){const r=n||t;typeof s>"u"&&(s=i0("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>Ju([a,...t],e,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return n0(a,l,()=>g1(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Jh(a).includes(l)},ownKeys(a){return Jh(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Qs(t,e,n,s){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:t0(t,s),setContext:r=>Qs(t,r,n,s),override:r=>Qs(t.override(r),e,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return n0(r,o,()=>c1(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function t0(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:s,isScriptable:On(n)?n:()=>n,isIndexable:On(s)?s:()=>s}}const l1=(t,e)=>t?t+Ku(e):e,Zu=(t,e)=>Y(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function n0(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const s=n();return t[e]=s,s}function c1(t,e,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=t;let a=s[e];return On(a)&&o.isScriptable(e)&&(a=u1(e,a,t,n)),ke(a)&&a.length&&(a=d1(e,a,t,o.isIndexable)),Zu(e,a)&&(a=Qs(a,i,r&&r[e],o)),a}function u1(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||s);return a.delete(t),Zu(t,l)&&(l=ed(i._scopes,i,t,l)),l}function d1(t,e,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(t))return e[r.index%e.length];if(Y(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=ed(c,i,t,u);e.push(Qs(h,r,o&&o[t],a))}}return e}function s0(t,e,n){return On(t)?t(e,n):t}const h1=(t,e)=>t===!0?e:typeof t=="string"?rs(e,t):void 0;function f1(t,e,n,s,i){for(const r of e){const o=h1(n,r);if(o){t.add(o);const a=s0(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function ed(t,e,n,s){const i=e._rootScopes,r=s0(e._fallback,n,s),o=[...t,...i],a=new Set;a.add(s);let l=Xh(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=Xh(a,o,r,l,s),l===null)?!1:Ju(Array.from(a),[""],i,r,()=>p1(e,n,s))}function Xh(t,e,n,s,i){for(;n;)n=f1(t,e,n,s,i);return n}function p1(t,e,n){const s=t._getTarget();e in s||(s[e]={});const i=s[e];return ke(i)&&Y(n)?n:i||{}}function g1(t,e,n,s){let i;for(const r of e)if(i=i0(l1(r,t),n),typeof i<"u")return Zu(t,i)?ed(n,s,t,i):i}function i0(t,e){for(const n of e){if(!n)continue;const s=n[t];if(typeof s<"u")return s}}function Jh(t){let e=t._keys;return e||(e=t._keys=m1(t._scopes)),e}function m1(t){const e=new Set;for(const n of t)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(s);return Array.from(e)}const y1=Number.EPSILON||1e-14,Xs=(t,e)=>e<t.length&&!t[e].skip&&t[e],r0=t=>t==="x"?"y":"x";function v1(t,e,n,s){const i=t.skip?e:t,r=e,o=n.skip?e:n,a=Ac(r,i),l=Ac(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=s*c,f=s*u;return{previous:{x:r.x-h*(o.x-i.x),y:r.y-h*(o.y-i.y)},next:{x:r.x+f*(o.x-i.x),y:r.y+f*(o.y-i.y)}}}function x1(t,e,n){const s=t.length;let i,r,o,a,l,c=Xs(t,0);for(let u=0;u<s-1;++u)if(l=c,c=Xs(t,u+1),!(!l||!c)){if(Ui(e[u],0,y1)){n[u]=n[u+1]=0;continue}i=n[u]/e[u],r=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=r*o*e[u])}}function _1(t,e,n="x"){const s=r0(n),i=t.length;let r,o,a,l=Xs(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=Xs(t,c+1),!a)continue;const u=a[n],h=a[s];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${s}`]=h-r*e[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${s}`]=h+r*e[c])}}function b1(t,e="x"){const n=r0(e),s=t.length,i=Array(s).fill(0),r=Array(s);let o,a,l,c=Xs(t,0);for(o=0;o<s;++o)if(a=l,l=c,c=Xs(t,o+1),!!l){if(c){const u=c[e]-l[e];i[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Ft(i[o-1])!==Ft(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}x1(t,i,r),_1(t,r,e)}function eo(t,e,n){return Math.max(Math.min(t,n),e)}function w1(t,e){let n,s,i,r,o,a=mr(t[0],e);for(n=0,s=t.length;n<s;++n)o=r,r=a,a=n<s-1&&mr(t[n+1],e),r&&(i=t[n],o&&(i.cp1x=eo(i.cp1x,e.left,e.right),i.cp1y=eo(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=eo(i.cp2x,e.left,e.right),i.cp2y=eo(i.cp2y,e.top,e.bottom)))}function k1(t,e,n,s,i){let r,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")b1(t,i);else{let c=s?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=v1(c,a,t[Math.min(r+1,o-(s?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&w1(t,n)}function td(){return typeof window<"u"&&typeof document<"u"}function nd(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ra(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}const Ia=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function S1(t,e){return Ia(t).getPropertyValue(e)}const j1=["top","right","bottom","left"];function Jn(t,e,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=j1[i];s[r]=parseFloat(t[e+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const C1=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function N1(t,e){const n=t.touches,s=n&&n.length?n[0]:t,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(C1(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Vn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:s}=e,i=Ia(n),r=i.boxSizing==="border-box",o=Jn(i,"padding"),a=Jn(i,"border","width"),{x:l,y:c,box:u}=N1(t,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:m}=e;return r&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/p*n.width/s),y:Math.round((c-f)/m*n.height/s)}}function E1(t,e,n){let s,i;if(e===void 0||n===void 0){const r=t&&nd(t);if(!r)e=t.clientWidth,n=t.clientHeight;else{const o=r.getBoundingClientRect(),a=Ia(r),l=Jn(a,"border","width"),c=Jn(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,s=ra(a.maxWidth,r,"clientWidth"),i=ra(a.maxHeight,r,"clientHeight")}}return{width:e,height:n,maxWidth:s||sa,maxHeight:i||sa}}const to=t=>Math.round(t*10)/10;function P1(t,e,n,s){const i=Ia(t),r=Jn(i,"margin"),o=ra(i.maxWidth,t,"clientWidth")||sa,a=ra(i.maxHeight,t,"clientHeight")||sa,l=E1(t,e,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=Jn(i,"border","width"),p=Jn(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=to(Math.min(c,o,l.maxWidth)),u=to(Math.min(u,a,l.maxHeight)),c&&!u&&(u=to(c/2)),(e!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=to(Math.floor(u*s))),{width:c,height:u}}function Zh(t,e,n){const s=e||1,i=Math.floor(t.height*s),r=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=s,o.height=i,o.width=r,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}const T1=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};td()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ef(t,e){const n=S1(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Hn(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function M1(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function O1(t,e,n,s){const i={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Hn(t,i,n),a=Hn(i,r,n),l=Hn(r,e,n),c=Hn(o,a,n),u=Hn(a,l,n);return Hn(c,u,n)}const A1=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},R1=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function $s(t,e,n){return t?A1(e,n):R1()}function o0(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function a0(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function l0(t){return t==="angle"?{between:gr,compare:Rw,normalize:Lt}:{between:Xt,compare:(e,n)=>e-n,normalize:e=>e}}function tf({start:t,end:e,count:n,loop:s,style:i}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:i}}function D1(t,e,n){const{property:s,start:i,end:r}=n,{between:o,normalize:a}=l0(s),l=e.length;let{start:c,end:u,loop:h}=t,f,p;if(h){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][s]),i,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:t.style}}function c0(t,e,n){if(!n)return[t];const{property:s,start:i,end:r}=n,o=e.length,{compare:a,between:l,normalize:c}=l0(s),{start:u,end:h,loop:f,style:p}=D1(t,e,n),m=[];let v=!1,x=null,g,y,_;const w=()=>l(i,_,g)&&a(i,_)!==0,b=()=>a(r,g)===0||l(r,_,g),k=()=>v||w(),S=()=>!v||b();for(let j=u,M=u;j<=h;++j)y=e[j%o],!y.skip&&(g=c(y[s]),g!==_&&(v=l(g,i,r),x===null&&k()&&(x=a(g,i)===0?j:M),x!==null&&S()&&(m.push(tf({start:x,end:j,loop:f,count:o,style:p})),x=null),M=j,_=g));return x!==null&&m.push(tf({start:x,end:h,loop:f,count:o,style:p})),m}function u0(t,e){const n=[],s=t.segments;for(let i=0;i<s.length;i++){const r=c0(s[i],t.points,e);r.length&&n.push(...r)}return n}function L1(t,e,n,s){let i=0,r=e-1;if(n&&!s)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(r+=i);r>i&&t[r%e].skip;)r--;return r%=e,{start:i,end:r}}function I1(t,e,n,s){const i=t.length,r=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const c=t[l%i];c.skip||c.stop?a.skip||(s=!1,r.push({start:e%i,end:(l-1)%i,loop:s}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&r.push({start:e%i,end:o%i,loop:s}),r}function z1(t,e){const n=t.points,s=t.options.spanGaps,i=n.length;if(!i)return[];const r=!!t._loop,{start:o,end:a}=L1(n,i,r,s);if(s===!0)return nf(t,[{start:o,end:a,loop:r}],n,e);const l=a<o?a+i:a,c=!!t._fullLoop&&o===0&&a===i-1;return nf(t,I1(n,o,l,c),n,e)}function nf(t,e,n,s){return!s||!s.setContext||!n?e:$1(t,e,n,s)}function $1(t,e,n,s){const i=t._chart.getContext(),r=sf(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=r,h=e[0].start,f=h;function p(m,v,x,g){const y=a?-1:1;if(m!==v){for(m+=l;n[m%l].skip;)m-=y;for(;n[v%l].skip;)v+=y;m%l!==v%l&&(c.push({start:m%l,end:v%l,loop:x,style:g}),u=g,h=v%l)}}for(const m of e){h=a?h:m.start;let v=n[h%l],x;for(f=h+1;f<=m.end;f++){const g=n[f%l];x=sf(s.setContext(ds(i,{type:"segment",p0:v,p1:g,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),F1(x,u)&&p(h,f-1,m.loop,u),v=g,u=x}h<f-1&&p(h,f-1,m.loop,u)}return c}function sf(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function F1(t,e){if(!e)return!1;const n=[],s=function(i,r){return Gu(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(t,s)!==JSON.stringify(e,s)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class B1{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Gm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,e,"progress")),r.length||(s.running=!1,this._notify(i,s,e,"complete"),s.initial=!1),n+=r.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ut=new B1;const rf="transparent",U1={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const s=Yh(t||rf),i=s.valid&&Yh(e||rf);return i&&i.valid?i.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class V1{constructor(e,n,s,i){const r=n[s];i=Zr([e.to,i,r,e.from]);const o=Zr([e.from,r,i]);this._active=!0,this._fn=e.fn||U1[e.type||typeof o],this._easing=Vi[e.easing]||Vi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Zr([e.to,n,i,e.from]),this._from=Zr([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){const n=e?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class d0{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Y(e))return;const n=Object.keys(be.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!Y(r))return;const o={};for(const a of n)o[a]=r[a];(ke(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){const s=n.options,i=W1(e,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&H1(e.options.$animations,s).then(()=>{e.options=s},()=>{}),r}_createAnimations(e,n){const s=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,n));continue}const u=n[c];let h=r[c];const f=s.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=h=new V1(f,e,c,u),i.push(h)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const s=this._createAnimations(e,n);if(s.length)return Ut.add(this._chart,s),!0}}function H1(t,e){const n=[],s=Object.keys(e);for(let i=0;i<s.length;i++){const r=t[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function W1(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function of(t,e){const n=t&&t.options||{},s=n.reverse,i=n.min===void 0?e:0,r=n.max===void 0?e:0;return{start:s?r:i,end:s?i:r}}function K1(t,e,n){if(n===!1)return!1;const s=of(t,n),i=of(e,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function Y1(t){let e,n,s,i;return Y(t)?(e=t.top,n=t.right,s=t.bottom,i=t.left):e=n=s=i=t,{top:e,right:n,bottom:s,left:i,disabled:t===!1}}function h0(t,e){const n=[],s=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function af(t,e,n,s={}){const i=t.keys,r=s.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=t.values[l],Be(c)&&(r||e===0||Ft(e)===Ft(c))&&(e+=c)}return!u&&!s.all?0:e}function q1(t,e){const{iScale:n,vScale:s}=e,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function _l(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function G1(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Q1(t){const{min:e,max:n,minDefined:s,maxDefined:i}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function X1(t,e,n){const s=t[e]||(t[e]={});return s[n]||(s[n]={})}function lf(t,e,n,s){for(const i of e.getMatchingVisibleMetas(s).reverse()){const r=t[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function cf(t,e){const{chart:n,_cachedMeta:s}=t,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=G1(r,o,s),h=e.length;let f;for(let p=0;p<h;++p){const m=e[p],{[l]:v,[c]:x}=m,g=m._stacks||(m._stacks={});f=g[c]=X1(i,u,v),f[a]=x,f._top=lf(f,o,!0,s.type),f._bottom=lf(f,o,!1,s.type);const y=f._visualValues||(f._visualValues={});y[a]=x}}function bl(t,e){const n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function J1(t,e){return ds(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Z1(t,e,n){return ds(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function gi(t,e){const n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const wl=t=>t==="reset"||t==="none",uf=(t,e)=>e?t:Object.assign({},t),ek=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:h0(n,!0),values:null};class Zn{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=_l(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&gi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,r=n.xAxisID=H(s.xAxisID,bl(e,"x")),o=n.yAxisID=H(s.yAxisID,bl(e,"y")),a=n.rAxisID=H(s.rAxisID,bl(e,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Hh(this._data,this),e._stacked&&gi(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),s=this._data;if(Y(n)){const i=this._cachedMeta;this._data=q1(n,i)}else if(s!==n){if(s){Hh(s,this);const i=this._cachedMeta;gi(i),i._parsed=[]}n&&Object.isExtensible(n)&&zw(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=_l(n.vScale,n),n.stack!==s.stack&&(i=!0,gi(n),n.stack=s.stack),this._resyncElements(e),(i||r!==n._stacked)&&(cf(this,n._parsed),n._stacked=_l(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=e===0&&n===i.length?!0:s._sorted,c=e>0&&s._parsed[e-1],u,h,f;if(this._parsing===!1)s._parsed=i,s._sorted=!0,f=i;else{ke(i[e])?f=this.parseArrayData(s,i,e,n):Y(i[e])?f=this.parseObjectData(s,i,e,n):f=this.parsePrimitiveData(s,i,e,n);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+e]=h=f[u],l&&(p()&&(l=!1),c=h);s._sorted=l}o&&cf(this,f)}parsePrimitiveData(e,n,s,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let f,p,m;for(f=0,p=i;f<p;++f)m=f+s,h[f]={[a]:u||r.parse(c[m],m),[l]:o.parse(n[m],m)};return h}parseArrayData(e,n,s,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,n,s,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,f,p;for(u=0,h=i;u<h;++u)f=u+s,p=n[f],c[u]={x:r.parse(rs(p,a),f),y:o.parse(rs(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,s){const i=this.chart,r=this._cachedMeta,o=n[e.axis],a={keys:h0(i,!0),values:n._stacks[e.axis]._visualValues};return af(a,o,r.index,{mode:s})}updateRangeFromParsed(e,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=af(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&e===s.iScale,o=i.length,a=this._getOtherScale(e),l=ek(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Q1(a);let f,p;function m(){p=i[f];const v=p[a.axis];return!Be(p[e.axis])||u>v||h<v}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][e.axis],Be(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(e);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Y1(H(this.options.clip,K1(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,n){const s=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,n,s){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=Z1(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=J1(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=e+"-"+n,a=r[o],l=this.enableOptionSharing&&fr(s);if(a)return uf(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(be.elements[e]),m=()=>this.getContext(s,i,n),v=c.resolveNamedOptions(f,p,m,h);return v.$shared&&(v.$shared=l,r[o]=Object.freeze(uf(v,l))),v}_resolveAnimations(e,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(e,s,n))}const c=new d0(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||wl(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const s=this.resolveDataElementOptions(e,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(e,n,s,i){wl(i)?Object.assign(e,s):this._resolveAnimations(n,i).update(e,s)}updateSharedOptions(e,n,s){e&&!wl(n)&&this._resolveAnimations(void 0,n).update(e,s)}_setStyle(e,n,s,i){e.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,n,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,n,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,n,s=!0){const i=this._cachedMeta,r=i.data,o=e+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),s&&this.updateElements(r,e,n,"reset")}updateElements(e,n,s,i){}_removeElements(e,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(e,n);s._stacked&&gi(s,i)}s.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,s,i]=e;this[n](s,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}I(Zn,"defaults",{}),I(Zn,"datasetElementType",null),I(Zn,"dataElementType",null);function tk(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=qm(s.sort((i,r)=>i-r))}return t._cache.$bar}function nk(t){const e=t.iScale,n=tk(e,t.type);let s=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(fr(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=e.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return s}function sk(t,e,n,s){const i=n.barThickness;let r,o;return le(i)?(r=e.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:e.pixels[t]-r/2}}function ik(t,e,n,s){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function rk(t,e,n,s){const i=n.parse(t[0],s),r=n.parse(t[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function f0(t,e,n,s){return ke(t)?rk(t,e,n,s):e[n.axis]=n.parse(t,s),e}function df(t,e,n,s){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,f;for(c=n,u=n+s;c<u;++c)f=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(f0(f,h,r,c));return l}function kl(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function ok(t,e,n){return t!==0?Ft(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function ak(t){let e,n,s,i,r;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:e,top:i,bottom:r}}function lk(t,e,n,s){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=ak(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[hf(u,o,a,l)]=!0,i=c)),r[hf(i,o,a,l)]=!0,t.borderSkipped=r}function hf(t,e,n,s){return s?(t=ck(t,e,n),t=ff(t,n,e)):t=ff(t,e,n),t}function ck(t,e,n){return t===e?n:t===n?e:t}function ff(t,e,n){return t==="start"?e:t==="end"?n:t}function uk(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class ko extends Zn{parsePrimitiveData(e,n,s,i){return df(e,n,s,i)}parseArrayData(e,n,s,i){return df(e,n,s,i)}parseObjectData(e,n,s,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,p,m,v;for(f=s,p=s+i;f<p;++f)v=n[f],m={},m[r.axis]=r.parse(rs(v,c),f),h.push(f0(rs(v,u),m,o,f));return h}updateRangeFromParsed(e,n,s,i){super.updateRangeFromParsed(e,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(e),o=r._custom,a=kl(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,i);for(let p=n;p<n+s;p++){const m=this.getParsed(p),v=r||le(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),x=this._calculateBarIndexPixels(p,u),g=(m._stacks||{})[a.axis],y={horizontal:c,base:v.base,enableBorderRadius:!g||kl(m._custom)||o===g._top||o===g._bottom,x:c?v.head:x.center,y:c?x.center:v.head,height:c?x.size:Math.abs(v.size),width:c?Math.abs(v.size):x.size};f&&(y.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));const _=y.options||e[p].options;lk(y,_,g,o),uk(y,_,u.ratio),this.updateElement(e[p],p,y,i)}}_getStacks(e,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(p=>p[s.axis]===l),f=h&&h[u.vScale.axis];if(le(f)||isNaN(f))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,s){const i=this._getStacks(e,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=e.barThickness;return{min:a||nk(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=kl(c);let h=l[n.axis],f=0,p=s?this.applyStack(n,l,s):h,m,v;p!==h&&(f=p-h,p=h),u&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&Ft(h)!==Ft(c.barEnd)&&(f=0),f+=h);const x=!le(r)&&!u?r:f;let g=n.getPixelForValue(x);if(this.chart.getDataVisibility(e)?m=n.getPixelForValue(f+p):m=g,v=m-g,Math.abs(v)<o){v=ok(v,n,a)*o,h===a&&(g-=v/2);const y=n.getPixelForDecimal(0),_=n.getPixelForDecimal(1),w=Math.min(y,_),b=Math.max(y,_);g=Math.max(Math.min(g,b),w),m=g+v,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(g))}if(g===n.getPixelForValue(a)){const y=Ft(v)*n.getLineWidthForValue(a)/2;g+=y,v-=y}return{size:v,base:g,head:m,center:m+v/2}}_calculateBarIndexPixels(e,n){const s=n.scale,i=this.options,r=i.skipNull,o=H(i.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(e):n.stackCount,u=i.barThickness==="flex"?ik(e,n,i,c):sk(e,n,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=s.getPixelForValue(this.getParsed(e)[s.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,s=e.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}I(ko,"id","bar"),I(ko,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),I(ko,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function dk(t,e,n){let s=1,i=1,r=0,o=0;if(e<pe){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(_,w,b)=>gr(_,a,l,!0)?1:Math.max(w,w*n,b,b*n),m=(_,w,b)=>gr(_,a,l,!0)?-1:Math.min(w,w*n,b,b*n),v=p(0,c,h),x=p(Ce,u,f),g=m(ve,c,h),y=m(ve+Ce,u,f);s=(v-g)/2,i=(x-y)/2,r=-(v+g)/2,o=-(x+y)/2}return{ratioX:s,ratioY:i,offsetX:r,offsetY:o}}class Ci extends Zn{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const s=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=s;else{let r=l=>+s[l];if(Y(s[e])){const{key:l="value"}=this._parsing;r=c=>+rs(s[c],l)}let o,a;for(o=e,a=e+n;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return Qt(this.options.rotation-90)}_getCircumference(){return Qt(this.options.circumference)}_getRotationExtents(){let e=pe,n=-pe;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const i=this.chart.getDatasetMeta(s).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),n=Math.max(n,r+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:s}=n,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(s.width,s.height)-o)/2,0),l=Math.min(ww(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:v}=dk(h,u,l),x=(s.width-o)/f,g=(s.height-o)/p,y=Math.max(Math.min(x,g)/2,0),_=Hm(this.options.radius,y),w=Math.max(_*l,0),b=(_-w)/this._getVisibleDatasetWeightTotal();this.offsetX=m*_,this.offsetY=v*_,i.total=this.calculateTotal(),this.outerRadius=_-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,n){const s=this.options,i=this._cachedMeta,r=this._getCircumference();return n&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/pe)}updateElements(e,n,s,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:v,includeOptions:x}=this._getSharedOptions(n,i);let g=this._getRotation(),y;for(y=0;y<n;++y)g+=this._circumference(y,r);for(y=n;y<n+s;++y){const _=this._circumference(y,r),w=e[y],b={x:u+this.offsetX,y:h+this.offsetY,startAngle:g,endAngle:g+_,circumference:_,outerRadius:m,innerRadius:p};x&&(b.options=v||this.resolveDataElementOptions(y,w.active?"active":i)),g+=_,this.updateElement(w,y,b,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s=0,i;for(i=0;i<n.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?pe*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,s=this.chart,i=s.data.labels||[],r=Qu(n._parsed[e],s.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let n=0;const s=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=s.data.datasets.length;i<r;++i)if(s.isDatasetVisible(i)){o=s.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let s=0,i=e.length;s<i;++s){const r=this.resolveDataElementOptions(s);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(n+=this._getRingWeight(s));return n}_getRingWeight(e){return Math.max(H(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}I(Ci,"id","doughnut"),I(Ci,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),I(Ci,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),I(Ci,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:s,color:i}}=e.legend.options;return n.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:s,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,s){s.chart.toggleDataVisibility(n.index),s.chart.update()}}}});class So extends Zn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:s,data:i=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Bw(n,i,o);this._drawStart=a,this._drawCount=l,Uw(n)&&(a=0,l=i.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(s,void 0,{animated:!o,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,n,s,i){const r=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:m,segment:v}=this.options,x=pr(m)?m:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||r||i==="none",y=n+s,_=e.length;let w=n>0&&this.getParsed(n-1);for(let b=0;b<_;++b){const k=e[b],S=g?k:{};if(b<n||b>=y){S.skip=!0;continue}const j=this.getParsed(b),M=le(j[p]),O=S[f]=o.getPixelForValue(j[f],b),z=S[p]=r||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[p],b);S.skip=isNaN(O)||isNaN(z)||M,S.stop=b>0&&Math.abs(j[f]-w[f])>x,v&&(S.parsed=j,S.raw=c.data[b]),h&&(S.options=u||this.resolveDataElementOptions(b,k.active?"active":i)),g||this.updateElement(k,b,S,i),w=j}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,s=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return s;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}I(So,"id","line"),I(So,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),I(So,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function $n(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class sd{constructor(e){I(this,"options");this.options=e||{}}static override(e){Object.assign(sd.prototype,e)}init(){}formats(){return $n()}parse(){return $n()}format(){return $n()}add(){return $n()}diff(){return $n()}startOf(){return $n()}endOf(){return $n()}}var hk={_date:sd};function fk(t,e,n,s){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const l=a._reversePixels?Lw:Gn;if(s){if(i._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const h=l(r,e,n-u),f=l(r,e,n+u);return{lo:h.lo,hi:f.hi}}}}else return l(r,e,n)}return{lo:0,hi:r.length-1}}function Nr(t,e,n,s,i){const r=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=fk(r[a],e,o,i);for(let p=h;p<=f;++p){const m=u[p];m.skip||s(m,c,p)}}}function pk(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,i){const r=e?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Sl(t,e,n,s,i){const r=[];return!i&&!t.isPointInArea(e)||Nr(t,n,e,function(a,l,c){!i&&!mr(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function gk(t,e,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=Km(o,{x:e.x,y:e.y});gr(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return Nr(t,n,e,r),i}function mk(t,e,n,s,i,r){let o=[];const a=pk(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const p=u.inRange(e.x,e.y,i);if(s&&!p)return;const m=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(m))&&!p)return;const x=a(e,m);x<l?(o=[{element:u,datasetIndex:h,index:f}],l=x):x===l&&o.push({element:u,datasetIndex:h,index:f})}return Nr(t,n,e,c),o}function jl(t,e,n,s,i,r){return!r&&!t.isPointInArea(e)?[]:n==="r"&&!s?gk(t,e,n,i):mk(t,e,n,s,i,r)}function pf(t,e,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Nr(t,n,e,(l,c,u)=>{l[o]&&l[o](e[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),s&&!a?[]:r}var yk={evaluateInteractionItems:Nr,modes:{index(t,e,n,s){const i=Vn(e,t),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Sl(t,i,r,s,o):jl(t,i,r,!1,s,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,s){const i=Vn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Sl(t,i,r,s,o):jl(t,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,s){const i=Vn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return Sl(t,i,r,s,o)},nearest(t,e,n,s){const i=Vn(e,t),r=n.axis||"xy",o=n.includeInvisible||!1;return jl(t,i,r,n.intersect,s,o)},x(t,e,n,s){const i=Vn(e,t);return pf(t,i,"x",n.intersect,s)},y(t,e,n,s){const i=Vn(e,t);return pf(t,i,"y",n.intersect,s)}}};const p0=["left","top","right","bottom"];function mi(t,e){return t.filter(n=>n.pos===e)}function gf(t,e){return t.filter(n=>p0.indexOf(n.pos)===-1&&n.box.axis===e)}function yi(t,e){return t.sort((n,s)=>{const i=e?s:n,r=e?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function vk(t){const e=[];let n,s,i,r,o,a;for(n=0,s=(t||[]).length;n<s;++n)i=t[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function xk(t){const e={};for(const n of t){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!p0.includes(i))continue;const o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function _k(t,e){const n=xk(t),{vBoxMaxWidth:s,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&e.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&e.availableHeight)}return n}function bk(t){const e=vk(t),n=yi(e.filter(c=>c.box.fullSize),!0),s=yi(mi(e,"left"),!0),i=yi(mi(e,"right")),r=yi(mi(e,"top"),!0),o=yi(mi(e,"bottom")),a=gf(e,"x"),l=gf(e,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:mi(e,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function mf(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function g0(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function wk(t,e,n,s){const{pos:i,box:r}=n,o=t.maxPadding;if(!Y(i)){n.size&&(t[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,t[i]+=n.size}r.getPadding&&g0(o,r.getPadding());const a=Math.max(0,e.outerWidth-mf(o,t,"left","right")),l=Math.max(0,e.outerHeight-mf(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function kk(t){const e=t.maxPadding;function n(s){const i=Math.max(e[s]-t[s],0);return t[s]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Sk(t,e){const n=e.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],n[o])}),r}return s(t?["left","right"]:["top","bottom"])}function Ni(t,e,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,Sk(a.horizontal,e));const{same:h,other:f}=wk(e,n,a,s);c|=h&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&Ni(i,e,n,s)||u}function no(t,e,n,s,i){t.top=n,t.left=e,t.right=e+s,t.bottom=n+i,t.width=s,t.height=i}function yf(t,e,n,s){const i=n.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,f=c.size||l.height;fr(c.start)&&(o=c.start),l.fullSize?no(l,i.left,o,n.outerWidth-i.right-i.left,f):no(l,e.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,f=c.size||l.width;fr(c.start)&&(r=c.start),l.fullSize?no(l,r,i.top,f,n.outerHeight-i.bottom-i.top):no(l,r,e.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var gt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;const i=_t(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=bk(t.boxes),l=a.vertical,c=a.horizontal;se(t.boxes,v=>{typeof v.beforeLayout=="function"&&v.beforeLayout()});const u=l.reduce((v,x)=>x.box.options&&x.box.options.display===!1?v:v+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);g0(f,_t(s));const p=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),m=_k(l.concat(c),h);Ni(a.fullSize,p,h,m),Ni(l,p,h,m),Ni(c,p,h,m)&&Ni(l,p,h,m),kk(p),yf(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,yf(a.rightAndBottom,p,h,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},se(a.chartArea,v=>{const x=v.box;Object.assign(x,t.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class m0{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,i){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(e){return!0}updateConfig(e){}}class jk extends m0{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const jo="$chartjs",Ck={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vf=t=>t===null||t==="";function Nk(t,e){const n=t.style,s=t.getAttribute("height"),i=t.getAttribute("width");if(t[jo]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",vf(i)){const r=ef(t,"width");r!==void 0&&(t.width=r)}if(vf(s))if(t.style.height==="")t.height=t.width/(e||2);else{const r=ef(t,"height");r!==void 0&&(t.height=r)}return t}const y0=T1?{passive:!0}:!1;function Ek(t,e,n){t&&t.addEventListener(e,n,y0)}function Pk(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,y0)}function Tk(t,e){const n=Ck[t.type]||t.type,{x:s,y:i}=Vn(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:i!==void 0?i:null}}function oa(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function Mk(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||oa(a.addedNodes,s),o=o&&!oa(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function Ok(t,e,n){const s=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||oa(a.removedNodes,s),o=o&&!oa(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const vr=new Map;let xf=0;function v0(){const t=window.devicePixelRatio;t!==xf&&(xf=t,vr.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function Ak(t,e){vr.size||window.addEventListener("resize",v0),vr.set(t,e)}function Rk(t){vr.delete(t),vr.size||window.removeEventListener("resize",v0)}function Dk(t,e,n){const s=t.canvas,i=s&&nd(s);if(!i)return;const r=Qm((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),Ak(t,r),o}function Cl(t,e,n){n&&n.disconnect(),e==="resize"&&Rk(t)}function Lk(t,e,n){const s=t.canvas,i=Qm(r=>{t.ctx!==null&&n(Tk(r,t))},t);return Ek(s,e,i),i}class Ik extends m0{acquireContext(e,n){const s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(Nk(e,n),s):null}releaseContext(e){const n=e.canvas;if(!n[jo])return!1;const s=n[jo].initial;["height","width"].forEach(r=>{const o=s[r];le(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[jo],!0}addEventListener(e,n,s){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:Mk,detach:Ok,resize:Dk}[n]||Lk;i[n]=o(e,n,s)}removeEventListener(e,n){const s=e.$proxies||(e.$proxies={}),i=s[n];if(!i)return;({attach:Cl,detach:Cl,resize:Cl}[n]||Pk)(e,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,i){return P1(e,n,s,i)}isAttached(e){const n=e&&nd(e);return!!(n&&n.isConnected)}}function zk(t){return!td()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?jk:Ik}class Pt{constructor(){I(this,"x");I(this,"y");I(this,"active",!1);I(this,"options");I(this,"$animations")}tooltipPosition(e){const{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return pr(this.x)&&pr(this.y)}getProps(e,n){const s=this.$animations;if(!n||!s)return this;const i={};return e.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}}I(Pt,"defaults",{}),I(Pt,"defaultRoutes");function $k(t,e){const n=t.options.ticks,s=Fk(t),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?Uk(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return Vk(e,c,r,o/i),c;const u=Bk(r,e,i);if(o>0){let h,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(so(e,c,u,le(p)?0:a-p,a),h=0,f=o-1;h<f;h++)so(e,c,u,r[h],r[h+1]);return so(e,c,u,l,le(p)?e.length:l+p),c}return so(e,c,u),c}function Fk(t){const e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(s,i))}function Bk(t,e,n){const s=Hk(t),i=e.length/n;if(!s)return Math.max(i,1);const r=Tw(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function Uk(t){const e=[];let n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function Vk(t,e,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=n[i*s])}function so(t,e,n,s,i){const r=H(s,0),o=Math.min(H(i,t.length),t.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*n))}function Hk(t){const e=t.length;let n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}const Wk=t=>t==="left"?"right":t==="right"?"left":t,_f=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,bf=(t,e)=>Math.min(e||t,t);function wf(t,e){const n=[],s=t.length/e,i=t.length;let r=0;for(;r<i;r+=s)n.push(t[Math.floor(r)]);return n}function Kk(t,e,n){const s=t.ticks.length,i=Math.min(e,s-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function Yk(t,e){se(t,n=>{const s=n.gc,i=s.length/2;let r;if(i>e){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function vi(t){return t.drawTicks?t.tickLength:0}function kf(t,e){if(!t.display)return 0;const n=$e(t.font,e),s=_t(t.padding);return(ke(t.text)?t.text.length:1)*n.lineHeight+s.height}function qk(t,e){return ds(t,{scale:e,type:"scale"})}function Gk(t,e,n){return ds(t,{tick:n,index:e,type:"tick"})}function Qk(t,e,n){let s=qu(t);return(n&&e!=="right"||!n&&e==="right")&&(s=Wk(s)),s}function Xk(t,e,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,f,p,m;const v=o-i,x=a-r;if(t.isHorizontal()){if(p=Le(s,r,a),Y(n)){const g=Object.keys(n)[0],y=n[g];m=u[g].getPixelForValue(y)+v-e}else n==="center"?m=(c.bottom+c.top)/2+v-e:m=_f(t,n,e);f=a-r}else{if(Y(n)){const g=Object.keys(n)[0],y=n[g];p=u[g].getPixelForValue(y)-x+e}else n==="center"?p=(c.left+c.right)/2-x+e:p=_f(t,n,e);m=Le(s,o,i),h=n==="left"?-Ce:Ce}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class si extends Pt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return e=Mt(e,Number.POSITIVE_INFINITY),n=Mt(n,Number.NEGATIVE_INFINITY),s=Mt(s,Number.POSITIVE_INFINITY),i=Mt(i,Number.NEGATIVE_INFINITY),{min:Mt(e,s),max:Mt(n,i),minDefined:Be(e),maxDefined:Be(n)}}getMinMax(e){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:Mt(n,Mt(s,n)),max:Mt(s,Mt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(e,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=a1(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?wf(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=$k(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),ue(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s],r.label=ue(n.callback,[r.value,s,e],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,s=bf(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,p=ze(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(e.offset?.5:1)),l=this.maxHeight-vi(e.grid)-n.padding-kf(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=Aw(Math.min(Math.asin(ze((u.highest.height+6)/a,-1,1)),Math.asin(ze(l/c,-1,1))-Math.asin(ze(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=kf(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=vi(r)+l):(e.height=this.maxHeight,e.width=vi(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),p=s.padding*2,m=Qt(this.labelRotation),v=Math.cos(m),x=Math.sin(m);if(a){const g=s.mirror?0:x*h.width+v*f.height;e.height=Math.min(this.maxHeight,e.height+g+p)}else{const g=s.mirror?0:v*h.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+g+p)}this._calculatePadding(c,u,x,v)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=s*n.height):(f=s*e.height,p=i*n.width):r==="start"?p=n.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)le(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=wf(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/bf(n,s));let c=0,u=0,h,f,p,m,v,x,g,y,_,w,b;for(h=0;h<n;h+=l){if(m=e[h].label,v=this._resolveTickFontOptions(h),i.font=x=v.string,g=r[x]=r[x]||{data:{},gc:[]},y=v.lineHeight,_=w=0,!le(m)&&!ke(m))_=Gh(i,g.data,g.gc,_,m),w=y;else if(ke(m))for(f=0,p=m.length;f<p;++f)b=m[f],!le(b)&&!ke(b)&&(_=Gh(i,g.data,g.gc,_,b),w+=y);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}Yk(r,n);const k=o.indexOf(c),S=a.indexOf(u),j=M=>({width:o[M]||0,height:a[M]||0});return{first:j(0),last:j(n-1),widest:j(k),highest:j(S),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Dw(this._alignToPixels?zn(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const s=n[e];return s.$context||(s.$context=Gk(this.getContext(),e,s))}return this.$context||(this.$context=qk(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Qt(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=vi(r),p=[],m=a.setContext(this.getContext()),v=m.display?m.width:0,x=v/2,g=function(G){return zn(s,G,v)};let y,_,w,b,k,S,j,M,O,z,$,re;if(o==="top")y=g(this.bottom),S=this.bottom-f,M=y-x,z=g(e.top)+x,re=e.bottom;else if(o==="bottom")y=g(this.top),z=e.top,re=g(e.bottom)-x,S=y+x,M=this.top+f;else if(o==="left")y=g(this.right),k=this.right-f,j=y-x,O=g(e.left)+x,$=e.right;else if(o==="right")y=g(this.left),O=e.left,$=g(e.right)-x,k=y+x,j=this.left+f;else if(n==="x"){if(o==="center")y=g((e.top+e.bottom)/2+.5);else if(Y(o)){const G=Object.keys(o)[0],ee=o[G];y=g(this.chart.scales[G].getPixelForValue(ee))}z=e.top,re=e.bottom,S=y+x,M=S+f}else if(n==="y"){if(o==="center")y=g((e.left+e.right)/2);else if(Y(o)){const G=Object.keys(o)[0],ee=o[G];y=g(this.chart.scales[G].getPixelForValue(ee))}k=y-x,j=k-f,O=e.left,$=e.right}const xe=H(i.ticks.maxTicksLimit,h),q=Math.max(1,Math.ceil(h/xe));for(_=0;_<h;_+=q){const G=this.getContext(_),ee=r.setContext(G),T=a.setContext(G),D=ee.lineWidth,C=ee.color,A=T.dash||[],F=T.dashOffset,te=ee.tickWidth,U=ee.tickColor,Ue=ee.tickBorderDash||[],Te=ee.tickBorderDashOffset;w=Kk(this,_,l),w!==void 0&&(b=zn(s,w,D),c?k=j=O=$=b:S=M=z=re=b,p.push({tx1:k,ty1:S,tx2:j,ty2:M,x1:O,y1:z,x2:$,y2:re,width:D,color:C,borderDash:A,borderDashOffset:F,tickWidth:te,tickColor:U,tickBorderDash:Ue,tickBorderDashOffset:Te}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(e){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=vi(s.grid),p=f+u,m=h?-u:p,v=-Qt(this.labelRotation),x=[];let g,y,_,w,b,k,S,j,M,O,z,$,re="middle";if(i==="top")k=this.bottom-m,S=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+m,S=this._getXAxisLabelAlignment();else if(i==="left"){const q=this._getYAxisLabelAlignment(f);S=q.textAlign,b=q.x}else if(i==="right"){const q=this._getYAxisLabelAlignment(f);S=q.textAlign,b=q.x}else if(n==="x"){if(i==="center")k=(e.top+e.bottom)/2+p;else if(Y(i)){const q=Object.keys(i)[0],G=i[q];k=this.chart.scales[q].getPixelForValue(G)+p}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")b=(e.left+e.right)/2-p;else if(Y(i)){const q=Object.keys(i)[0],G=i[q];b=this.chart.scales[q].getPixelForValue(G)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?re="top":l==="end"&&(re="bottom"));const xe=this._getLabelSizes();for(g=0,y=a.length;g<y;++g){_=a[g],w=_.label;const q=r.setContext(this.getContext(g));j=this.getPixelForTick(g)+r.labelOffset,M=this._resolveTickFontOptions(g),O=M.lineHeight,z=ke(w)?w.length:1;const G=z/2,ee=q.color,T=q.textStrokeColor,D=q.textStrokeWidth;let C=S;o?(b=j,S==="inner"&&(g===y-1?C=this.options.reverse?"left":"right":g===0?C=this.options.reverse?"right":"left":C="center"),i==="top"?c==="near"||v!==0?$=-z*O+O/2:c==="center"?$=-xe.highest.height/2-G*O+O:$=-xe.highest.height+O/2:c==="near"||v!==0?$=O/2:c==="center"?$=xe.highest.height/2-G*O:$=xe.highest.height-z*O,h&&($*=-1),v!==0&&!q.showLabelBackdrop&&(b+=O/2*Math.sin(v))):(k=j,$=(1-z)*O/2);let A;if(q.showLabelBackdrop){const F=_t(q.backdropPadding),te=xe.heights[g],U=xe.widths[g];let Ue=$-F.top,Te=0-F.left;switch(re){case"middle":Ue-=te/2;break;case"bottom":Ue-=te;break}switch(S){case"center":Te-=U/2;break;case"right":Te-=U;break;case"inner":g===y-1?Te-=U:g>0&&(Te-=U/2);break}A={left:Te,top:Ue,width:U+F.width,height:te+F.height,color:q.backdropColor}}x.push({label:w,font:M,textOffset:$,options:{rotation:v,color:ee,strokeColor:T,strokeWidth:D,textAlign:C,textBaseline:re,translation:[b,k],backdrop:A}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Qt(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,i,r,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=zn(e,this.left,o)-o/2,u=zn(e,this.right,a)+a/2,h=f=l):(h=zn(e,this.top,o)-o/2,f=zn(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&Da(s,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;yr(s,c,0,u,l,a)}i&&La(s)}drawTitle(){const{ctx:e,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=$e(s.font),o=_t(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||Y(n)?(l+=o.bottom,ke(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=Xk(this,l,n,a);yr(e,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:f,textAlign:Qk(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,s=H(e.grid&&e.grid.z,-1),i=H(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==si.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return $e(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class io{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let s;e2(n)&&(s=this.register(n));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,Jk(e,o,s),this.override&&be.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,s=e.id,i=this.scope;s in n&&delete n[s],i&&s in be[i]&&(delete be[i][s],this.override&&delete os[s])}}function Jk(t,e,n){const s=hr(Object.create(null),[n?be.get(n):{},be.get(e),t.defaults]);be.set(e,s),t.defaultRoutes&&Zk(e,t.defaultRoutes),t.descriptors&&be.describe(e,t.descriptors)}function Zk(t,e){Object.keys(e).forEach(n=>{const s=n.split("."),i=s.pop(),r=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");be.route(r,i,l,a)})}function e2(t){return"id"in t&&"defaults"in t}class t2{constructor(){this.controllers=new io(Zn,"datasets",!0),this.elements=new io(Pt,"elements"),this.plugins=new io(Object,"plugins"),this.scales=new io(si,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):se(i,o=>{const a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){const i=Ku(e);ue(s["before"+i],[],s),n[e](s),ue(s["after"+i],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return i}}var Dt=new t2;class n2{constructor(){this._init=[]}notify(e,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,n,s);return n==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,i){i=i||{};for(const r of e){const o=r.plugin,a=o[s],l=[n,i,r.options];if(ue(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const s=e&&e.config,i=H(s.options&&s.options.plugins,{}),r=s2(s);return i===!1&&!n?[]:r2(e,r,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),e,"stop"),this._notify(i(s,n),e,"start")}}function s2(t){const e={},n=[],s=Object.keys(Dt.plugins.items);for(let r=0;r<s.length;r++)n.push(Dt.getPlugin(s[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function i2(t,e){return!e&&t===!1?null:t===!0?{}:t}function r2(t,{plugins:e,localIds:n},s,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=i2(s[l],i);c!==null&&r.push({plugin:a,options:o2(t.config,{plugin:a,local:n[l]},c,o)})}return r}function o2(t,{plugin:e,local:n},s,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(s,r);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Lc(t,e){const n=be.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function a2(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function l2(t,e){return t===e?"_index_":"_value_"}function Sf(t){if(t==="x"||t==="y"||t==="r")return t}function c2(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ic(t,...e){if(Sf(t))return t;for(const n of e){const s=n.axis||c2(n.position)||t.length>1&&Sf(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function jf(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function u2(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return jf(t,"x",n[0])||jf(t,"y",n[0])}return{}}function d2(t,e){const n=os[t.type]||{scales:{}},s=e.scales||{},i=Lc(t.type,e),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!Y(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Ic(o,a,u2(o,t),be.scales[a.type]),c=l2(l,i),u=n.scales||{};r[o]=Bi(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Lc(a,e),u=(os[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=a2(h,l),p=o[f+"AxisID"]||f;r[p]=r[p]||Object.create(null),Bi(r[p],[{axis:f},s[p],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Bi(a,[be.scales[a.type],be.scale])}),r}function x0(t){const e=t.options||(t.options={});e.plugins=H(e.plugins,{}),e.scales=d2(t,e)}function _0(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function h2(t){return t=t||{},t.data=_0(t.data),x0(t),t}const Cf=new Map,b0=new Set;function ro(t,e){let n=Cf.get(t);return n||(n=e(),Cf.set(t,n),b0.add(n)),n}const xi=(t,e,n)=>{const s=rs(e,n);s!==void 0&&t.add(s)};class f2{constructor(e){this._config=h2(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=_0(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),x0(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ro(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return ro(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return ro(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,s=this.type;return ro(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const s=this._scopeCache;let i=s.get(e);return(!i||n)&&(i=new Map,s.set(e,i)),i}getOptionScopes(e,n,s){const{options:i,type:r}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(h=>xi(l,e,h))),u.forEach(h=>xi(l,i,h)),u.forEach(h=>xi(l,os[r]||{},h)),u.forEach(h=>xi(l,be,h)),u.forEach(h=>xi(l,Rc,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),b0.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:e,type:n}=this;return[e,os[n]||{},be.datasets[n]||{},{type:n},be,Rc]}resolveNamedOptions(e,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Nf(this._resolverCache,e,i);let l=o;if(g2(o,n)){r.$shared=!1,s=On(s)?s():s;const c=this.createResolver(e,s,a);l=Qs(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(e,n,s=[""],i){const{resolver:r}=Nf(this._resolverCache,e,s);return Y(n)?Qs(r,n,void 0,i):r}}function Nf(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));const i=n.join();let r=s.get(i);return r||(r={resolver:Ju(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const p2=t=>Y(t)&&Object.getOwnPropertyNames(t).some(e=>On(t[e]));function g2(t,e){const{isScriptable:n,isIndexable:s}=t0(t);for(const i of e){const r=n(i),o=s(i),a=(o||r)&&t[i];if(r&&(On(a)||p2(a))||o&&ke(a))return!0}return!1}var m2="4.4.7";const y2=["top","bottom","left","right","chartArea"];function Ef(t,e){return t==="top"||t==="bottom"||y2.indexOf(t)===-1&&e==="x"}function Pf(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function Tf(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),ue(n&&n.onComplete,[t],e)}function v2(t){const e=t.chart,n=e.options.animation;ue(n&&n.onProgress,[t],e)}function w0(t){return td()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Co={},Mf=t=>{const e=w0(t);return Object.values(Co).filter(n=>n.canvas===e).pop()};function x2(t,e,n){const s=Object.keys(t);for(const i of s){const r=+i;if(r>=e){const o=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=o)}}}function _2(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function oo(t,e,n){return t.options.clip?t[n]:e[n]}function b2(t,e){const{xScale:n,yScale:s}=t;return n&&s?{left:oo(n,e,"left"),right:oo(n,e,"right"),top:oo(s,e,"top"),bottom:oo(s,e,"bottom")}:e}var an;let ii=(an=class{static register(...e){Dt.add(...e),Of()}static unregister(...e){Dt.remove(...e),Of()}constructor(e,n){const s=this.config=new f2(n),i=w0(e),r=Mf(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||zk(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=bw(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n2,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=$w(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Co[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ut.listen(this,"complete",Tf),Ut.listen(this,"progress",v2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return le(e)?n&&r?r:i?s/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Dt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zh(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Qh(this.canvas,this.ctx),this}stop(){return Ut.stop(this),this}resize(e,n){Ut.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Zh(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),ue(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};se(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Ic(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),se(r,o=>{const a=o.options,l=a.id,c=Ic(l,a),u=H(a.type,o.dtype);(a.position===void 0||Ef(a.position,c)!==Ef(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const f=Dt.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,e)}),se(i,(o,a)=>{o||delete s[a]}),se(s,o=>{gt.configure(this,o,o.options),gt.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,s=e.length;if(e.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);e.splice(n,s-n)}this._sortedMetasets=e.slice(0).sort(Pf("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Lc(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=Dt.getController(a),{datasetElementType:c,dataElementType:u}=be.datasets[a];Object.assign(l,{dataElementType:Dt.getElement(u),datasetElementType:c&&Dt.getElement(c)}),o.controller=new l(this,s),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){se(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||se(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Pf("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){se(this.scales,e=>{gt.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(e.events);(!Fh(n,s)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;x2(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!Fh(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gt.update(this,this.width,this.height,e);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],se(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,On(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const s=this.getDatasetMeta(e),i={meta:s,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ut.has(this)?this.attached&&!Ut.running(this)&&Ut.start(this):(this.draw(),Tf({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!e||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,s=e._clip,i=!s.disabled,r=b2(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(i&&Da(n,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),e.controller.draw(),i&&La(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return mr(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,s,i){const r=yk.modes[n];return typeof r=="function"?r(this,e,s,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=ds(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const s=this.getDatasetMeta(e);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(e,n){const s=this.getDatasetMeta(e);s.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);fr(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(e,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Ut.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Qh(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Co[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};se(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(n.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){se(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},se(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],s=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!ta(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(e,n,s){return this._plugins.notify(this,e,n,s)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,e),a=s?e:r(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const s={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(e,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(e,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(e,i,s,o),l=Nw(e),c=_2(e,this._lastEvent,s,l);s&&(this._lastEvent=null,ue(r.onHover,[e,a,this],this),l&&ue(r.onClick,[e,a,this],this));const u=!ta(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(e,n,s,i){if(e.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},I(an,"defaults",be),I(an,"instances",Co),I(an,"overrides",os),I(an,"registry",Dt),I(an,"version",m2),I(an,"getChart",Mf),an);function Of(){return se(ii.instances,t=>t._plugins.invalidate())}function w2(t,e,n){const{startAngle:s,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,s-c,n+c),l>i?(c=i/l,t.arc(r,o,l,n+c,s-c,!0)):t.arc(r,o,i,n+Ce,s-Ce),t.closePath(),t.clip()}function k2(t){return Xu(t,["outerStart","outerEnd","innerStart","innerEnd"])}function S2(t,e,n,s){const i=k2(t.options.borderRadius),r=(n-e)/2,o=Math.min(r,s*e/2),a=l=>{const c=(n-Math.min(r,l))*s/2;return ze(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:ze(i.innerStart,0,o),innerEnd:ze(i.innerEnd,0,o)}}function vs(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function aa(t,e,n,s,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+s+n-c,0),f=u>0?u+s+n+c:0;let p=0;const m=i-l;if(s){const q=u>0?u-s:0,G=h>0?h-s:0,ee=(q+G)/2,T=ee!==0?m*ee/(ee+s):m;p=(m-T)/2}const v=Math.max(.001,m*h-n/ve)/h,x=(m-v)/2,g=l+x+p,y=i-x-p,{outerStart:_,outerEnd:w,innerStart:b,innerEnd:k}=S2(e,f,h,y-g),S=h-_,j=h-w,M=g+_/S,O=y-w/j,z=f+b,$=f+k,re=g+b/z,xe=y-k/$;if(t.beginPath(),r){const q=(M+O)/2;if(t.arc(o,a,h,M,q),t.arc(o,a,h,q,O),w>0){const D=vs(j,O,o,a);t.arc(D.x,D.y,w,O,y+Ce)}const G=vs($,y,o,a);if(t.lineTo(G.x,G.y),k>0){const D=vs($,xe,o,a);t.arc(D.x,D.y,k,y+Ce,xe+Math.PI)}const ee=(y-k/f+(g+b/f))/2;if(t.arc(o,a,f,y-k/f,ee,!0),t.arc(o,a,f,ee,g+b/f,!0),b>0){const D=vs(z,re,o,a);t.arc(D.x,D.y,b,re+Math.PI,g-Ce)}const T=vs(S,g,o,a);if(t.lineTo(T.x,T.y),_>0){const D=vs(S,M,o,a);t.arc(D.x,D.y,_,g-Ce,M)}}else{t.moveTo(o,a);const q=Math.cos(M)*h+o,G=Math.sin(M)*h+a;t.lineTo(q,G);const ee=Math.cos(O)*h+o,T=Math.sin(O)*h+a;t.lineTo(ee,T)}t.closePath()}function j2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){aa(t,e,n,s,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%pe||pe))}return aa(t,e,n,s,l,i),t.fill(),l}function C2(t,e,n,s,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let m=e.endAngle;if(r){aa(t,e,n,s,m,i);for(let v=0;v<r;++v)t.stroke();isNaN(a)||(m=o+(a%pe||pe))}p&&w2(t,e,m),r||(aa(t,e,n,s,m,i),t.stroke())}class Ei extends Pt{constructor(n){super();I(this,"circumference");I(this,"endAngle");I(this,"fullCircles");I(this,"innerRadius");I(this,"outerRadius");I(this,"pixelMargin");I(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=Km(r,{x:n,y:s}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=H(f,c-l),v=gr(o,l,c)&&l!==c,x=m>=pe||v,g=Xt(a,u+p,h+p);return x&&g}getCenterPoint(n){const{x:s,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:s+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:s,circumference:i}=this,r=(s.offset||0)/4,o=(s.spacing||0)/2,a=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=i>pe?Math.floor(i/pe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(ve,i||0)),u=r*c;n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,j2(n,this,u,o,a),C2(n,this,u,o,a),n.restore()}}I(Ei,"id","arc"),I(Ei,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),I(Ei,"defaultRoutes",{backgroundColor:"backgroundColor"}),I(Ei,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function k0(t,e,n=e){t.lineCap=H(n.borderCapStyle,e.borderCapStyle),t.setLineDash(H(n.borderDash,e.borderDash)),t.lineDashOffset=H(n.borderDashOffset,e.borderDashOffset),t.lineJoin=H(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=H(n.borderWidth,e.borderWidth),t.strokeStyle=H(n.borderColor,e.borderColor)}function N2(t,e,n){t.lineTo(n.x,n.y)}function E2(t){return t.stepped?Jw:t.tension||t.cubicInterpolationMode==="monotone"?Zw:N2}function S0(t,e,n={}){const s=t.length,{start:i=0,end:r=s-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(r,a),u=i<o&&r<o||i>a&&r>a;return{count:s,start:l,loop:e.loop,ilen:c<l&&!u?s+c-l:c-l}}function P2(t,e,n,s){const{points:i,options:r}=e,{count:o,start:a,loop:l,ilen:c}=S0(i,n,s),u=E2(r);let{move:h=!0,reverse:f}=s||{},p,m,v;for(p=0;p<=c;++p)m=i[(a+(f?c-p:p))%o],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):u(t,v,m,f,r.stepped),v=m);return l&&(m=i[(a+(f?c:0))%o],u(t,v,m,f,r.stepped)),!!l}function T2(t,e,n,s){const i=e.points,{count:r,start:o,ilen:a}=S0(i,n,s),{move:l=!0,reverse:c}=s||{};let u=0,h=0,f,p,m,v,x,g;const y=w=>(o+(c?a-w:w))%r,_=()=>{v!==x&&(t.lineTo(u,x),t.lineTo(u,v),t.lineTo(u,g))};for(l&&(p=i[y(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[y(f)],p.skip)continue;const w=p.x,b=p.y,k=w|0;k===m?(b<v?v=b:b>x&&(x=b),u=(h*u+w)/++h):(_(),t.lineTo(w,b),m=k,h=0,v=x=b),g=b}_()}function zc(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?T2:P2}function M2(t){return t.stepped?M1:t.tension||t.cubicInterpolationMode==="monotone"?O1:Hn}function O2(t,e,n,s){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,s)&&i.closePath()),k0(t,e.options),t.stroke(i)}function A2(t,e,n,s){const{segments:i,options:r}=e,o=zc(e);for(const a of i)k0(t,r,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}const R2=typeof Path2D=="function";function D2(t,e,n,s){R2&&!e.options.segment?O2(t,e,n,s):A2(t,e,n,s)}class xn extends Pt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const i=s.spanGaps?this._loop:this._fullLoop;k1(this._points,s,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=z1(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,s=e.length;return s&&n[e[s-1].end]}interpolate(e,n){const s=this.options,i=e[n],r=this.points,o=u0(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=M2(s);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],p=r[h],m=r[f];if(p===m){a.push(p);continue}const v=Math.abs((i-p[n])/(m[n]-p[n])),x=l(p,m,v,s.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,s){return zc(this)(e,this,n,s)}path(e,n,s){const i=this.segments,r=zc(this);let o=this._loop;n=n||0,s=s||this.points.length-n;for(const a of i)o&=r(e,this,a,{start:n,end:n+s-1});return!!o}draw(e,n,s,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),D2(e,this,s,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}I(xn,"id","line"),I(xn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),I(xn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),I(xn,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Af(t,e,n,s){const i=t.options,{[n]:r}=t.getProps([n],s);return Math.abs(e-r)<i.radius+i.hitRadius}class No extends Pt{constructor(n){super();I(this,"parsed");I(this,"skip");I(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,i){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,s){return Af(this,n,"x",s)}inYRange(n,s){return Af(this,n,"y",s)}getCenterPoint(n){const{x:s,y:i}=this.getProps(["x","y"],n);return{x:s,y:i}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);const i=s&&n.borderWidth||0;return(s+i)*2}draw(n,s){const i=this.options;this.skip||i.radius<.1||!mr(this,s,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Dc(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}I(No,"id","point"),I(No,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),I(No,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function j0(t,e){const{x:n,y:s,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-h,u=s+h):(h=r/2,a=n-h,l=n+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function _n(t,e,n,s){return t?0:ze(e,n,s)}function L2(t,e,n){const s=t.options.borderWidth,i=t.borderSkipped,r=e0(s);return{t:_n(i.top,r.top,0,n),r:_n(i.right,r.right,0,e),b:_n(i.bottom,r.bottom,0,n),l:_n(i.left,r.left,0,e)}}function I2(t,e,n){const{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=zs(i),o=Math.min(e,n),a=t.borderSkipped,l=s||Y(i);return{topLeft:_n(!l||a.top||a.left,r.topLeft,0,o),topRight:_n(!l||a.top||a.right,r.topRight,0,o),bottomLeft:_n(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:_n(!l||a.bottom||a.right,r.bottomRight,0,o)}}function z2(t){const e=j0(t),n=e.right-e.left,s=e.bottom-e.top,i=L2(t,n/2,s/2),r=I2(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Nl(t,e,n,s){const i=e===null,r=n===null,a=t&&!(i&&r)&&j0(t,s);return a&&(i||Xt(e,a.left,a.right))&&(r||Xt(n,a.top,a.bottom))}function $2(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function F2(t,e){t.rect(e.x,e.y,e.w,e.h)}function El(t,e,n={}){const s=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,r=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+s,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class Eo extends Pt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=z2(this),a=$2(o.radius)?ia:F2;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,El(o,n,r)),e.clip(),a(e,El(r,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,El(r,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,s){return Nl(this,e,n,s)}inXRange(e,n){return Nl(this,e,null,n)}inYRange(e,n){return Nl(this,null,e,n)}getCenterPoint(e){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}I(Eo,"id","bar"),I(Eo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),I(Eo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function B2(t,e,n){const s=t.segments,i=t.points,r=e.points,o=[];for(const a of s){let{start:l,end:c}=a;c=id(l,c,i);const u=$c(n,i[l],i[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:i[l],end:i[c]});continue}const h=u0(e,u);for(const f of h){const p=$c(n,r[f.start],r[f.end],f.loop),m=c0(a,i,p);for(const v of m)o.push({source:v,target:f,start:{[n]:Rf(u,p,"start",Math.max)},end:{[n]:Rf(u,p,"end",Math.min)}})}}return o}function $c(t,e,n,s){if(s)return;let i=e[t],r=n[t];return t==="angle"&&(i=Lt(i),r=Lt(r)),{property:t,start:i,end:r}}function U2(t,e){const{x:n=null,y:s=null}=t||{},i=e.points,r=[];return e.segments.forEach(({start:o,end:a})=>{a=id(o,a,i);const l=i[o],c=i[a];s!==null?(r.push({x:l.x,y:s}),r.push({x:c.x,y:s})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function id(t,e,n){for(;e>t;e--){const s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function Rf(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function C0(t,e){let n=[],s=!1;return ke(t)?(s=!0,n=t):n=U2(t,e),n.length?new xn({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function Df(t){return t&&t.fill!==!1}function V2(t,e,n){let i=t[e].fill;const r=[e];let o;if(!n)return i;for(;i!==!1&&r.indexOf(i)===-1;){if(!Be(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function H2(t,e,n){const s=q2(t);if(Y(s))return isNaN(s.value)?!1:s;let i=parseFloat(s);return Be(i)&&Math.floor(i)===i?W2(s[0],e,i,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function W2(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function K2(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:Y(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Y2(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:Y(t)?s=t.value:s=e.getBaseValue(),s}function q2(t){const e=t.options,n=e.fill;let s=H(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function G2(t){const{scale:e,index:n,line:s}=t,i=[],r=s.segments,o=s.points,a=Q2(e,n);a.push(C0({x:null,y:e.bottom},s));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)X2(i,o[u],a)}return new xn({points:i,options:{}})}function Q2(t,e){const n=[],s=t.getMatchingVisibleMetas("line");for(let i=0;i<s.length;i++){const r=s[i];if(r.index===e)break;r.hidden||n.unshift(r.dataset)}return n}function X2(t,e,n){const s=[];for(let i=0;i<n.length;i++){const r=n[i],{first:o,last:a,point:l}=J2(r,e,"x");if(!(!l||o&&a)){if(o)s.unshift(l);else if(t.push(l),!a)break}}t.push(...s)}function J2(t,e,n){const s=t.interpolate(e,n);if(!s)return{};const i=s[n],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if(Xt(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:s}}class N0{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){const{x:i,y:r,radius:o}=this;return n=n||{start:0,end:pe},e.arc(i,r,o,n.end,n.start,!0),!s.bounds}interpolate(e){const{x:n,y:s,radius:i}=this,r=e.angle;return{x:n+Math.cos(r)*i,y:s+Math.sin(r)*i,angle:r}}}function Z2(t){const{chart:e,fill:n,line:s}=t;if(Be(n))return eS(e,n);if(n==="stack")return G2(t);if(n==="shape")return!0;const i=tS(t);return i instanceof N0?i:C0(i,s)}function eS(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function tS(t){return(t.scale||{}).getPointPositionForValue?sS(t):nS(t)}function nS(t){const{scale:e={},fill:n}=t,s=K2(n,e);if(Be(s)){const i=e.isHorizontal();return{x:i?s:null,y:i?null:s}}return null}function sS(t){const{scale:e,fill:n}=t,s=e.options,i=e.getLabels().length,r=s.reverse?e.max:e.min,o=Y2(n,e,r),a=[];if(s.grid.circular){const l=e.getPointPositionForValue(0,r);return new N0({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function Pl(t,e,n){const s=Z2(e),{line:i,scale:r,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};s&&i.points.length&&(Da(t,n),iS(t,{line:i,target:s,above:u,below:h,area:n,scale:r,axis:o}),La(t))}function iS(t,e){const{line:n,target:s,above:i,below:r,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&r!==i&&(Lf(t,s,o.top),If(t,{line:n,target:s,color:i,scale:a,property:l}),t.restore(),t.save(),Lf(t,s,o.bottom)),If(t,{line:n,target:s,color:r,scale:a,property:l}),t.restore()}function Lf(t,e,n){const{segments:s,points:i}=e;let r=!0,o=!1;t.beginPath();for(const a of s){const{start:l,end:c}=a,u=i[l],h=i[id(l,c,i)];r?(t.moveTo(u.x,u.y),r=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(h.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function If(t,e){const{line:n,target:s,property:i,color:r,scale:o}=e,a=B2(n,s,i);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=r}={}}=l,p=s!==!0;t.save(),t.fillStyle=f,rS(t,o,p&&$c(i,u,h)),t.beginPath();const m=!!n.pathSegment(t,l);let v;if(p){m?t.closePath():zf(t,s,h,i);const x=!!s.pathSegment(t,c,{move:m,reverse:!0});v=m&&x,v||zf(t,s,u,i)}t.closePath(),t.fill(v?"evenodd":"nonzero"),t.restore()}}function rS(t,e,n){const{top:s,bottom:i}=e.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(t.beginPath(),t.rect(o,s,a-o,i-s),t.clip())}function zf(t,e,n,s){const i=e.interpolate(n,s);i&&t.lineTo(i.x,i.y)}var oS={id:"filler",afterDatasetsUpdate(t,e,n){const s=(t.data.datasets||[]).length,i=[];let r,o,a,l;for(o=0;o<s;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof xn&&(l={visible:t.isDatasetVisible(o),index:o,fill:H2(a,o,s),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,i.push(l);for(o=0;o<s;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=V2(i,o,n.propagate))},beforeDraw(t,e,n){const s=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),s&&a.fill&&Pl(t.ctx,a,r))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const s=t.getSortedVisibleDatasetMetas();for(let i=s.length-1;i>=0;--i){const r=s[i].$filler;Df(r)&&Pl(t.ctx,r,t.chartArea)}},beforeDatasetDraw(t,e,n){const s=e.meta.$filler;!Df(s)||n.drawTime!=="beforeDatasetDraw"||Pl(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $f=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},aS=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Ff extends Pt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=ue(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,i)=>e.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const s=e.labels,i=$e(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=$f(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=e;r.textAlign="left",r.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((m,v)=>{const x=s+n/2+r.measureText(m.text).width;(v===0||c[c.length-1]+x+2*a>o)&&(h+=u,c[c.length-(v>0?0:1)]=0,p+=u,f++),l[v]={left:0,top:p,row:f,width:x,height:i},c[c.length-1]+=x+a}),h}_fitCols(e,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,f=0,p=0,m=0,v=0;return this.legendItems.forEach((x,g)=>{const{itemWidth:y,itemHeight:_}=lS(s,n,r,x,i);g>0&&p+_+2*a>u&&(h+=f+a,c.push({width:f,height:p}),m+=f+a,v++,f=p=0),l[g]={left:m,top:p,col:v,width:y,height:_},f=Math.max(f,y),p+=_+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=$s(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Le(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Le(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=Le(s,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Le(s,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Da(e,this),this._draw(),La(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=e,a=be.color,l=$s(e.rtl,this.left,this.width),c=$e(o.font),{padding:u}=o,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:v,itemHeight:x}=$f(o,h),g=function(k,S,j){if(isNaN(m)||m<=0||isNaN(v)||v<0)return;i.save();const M=H(j.lineWidth,1);if(i.fillStyle=H(j.fillStyle,a),i.lineCap=H(j.lineCap,"butt"),i.lineDashOffset=H(j.lineDashOffset,0),i.lineJoin=H(j.lineJoin,"miter"),i.lineWidth=M,i.strokeStyle=H(j.strokeStyle,a),i.setLineDash(H(j.lineDash,[])),o.usePointStyle){const O={radius:v*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:M},z=l.xPlus(k,m/2),$=S+f;Zm(i,O,z,$,o.pointStyleWidth&&m)}else{const O=S+Math.max((h-v)/2,0),z=l.leftForLtr(k,m),$=zs(j.borderRadius);i.beginPath(),Object.values($).some(re=>re!==0)?ia(i,{x:z,y:O,w:m,h:v,radius:$}):i.rect(z,O,m,v),i.fill(),M!==0&&i.stroke()}i.restore()},y=function(k,S,j){yr(i,j.text,k,S+x/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},_=this.isHorizontal(),w=this._computeTitleHeight();_?p={x:Le(r,this.left+u,this.right-s[0]),y:this.top+u+w,line:0}:p={x:this.left+u,y:Le(r,this.top+w+u,this.bottom-n[0].height),line:0},o0(this.ctx,e.textDirection);const b=x+u;this.legendItems.forEach((k,S)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const j=i.measureText(k.text).width,M=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),O=m+f+j;let z=p.x,$=p.y;l.setWidth(this.width),_?S>0&&z+O+u>this.right&&($=p.y+=b,p.line++,z=p.x=Le(r,this.left+u,this.right-s[p.line])):S>0&&$+b>this.bottom&&(z=p.x=z+n[p.line].width+u,p.line++,$=p.y=Le(r,this.top+w+u,this.bottom-n[p.line].height));const re=l.x(z);if(g(re,$,k),z=Fw(M,z+m+f,_?z+O:this.right,e.rtl),y(l.x(z),$,k),_)p.x+=O+u;else if(typeof k.text!="string"){const xe=c.lineHeight;p.y+=E0(k,xe)+u}else p.y+=b}),a0(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,s=$e(n.font),i=_t(n.padding);if(!n.display)return;const r=$s(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Le(e.align,h,this.right-f);else{const m=this.columnSizes.reduce((v,x)=>Math.max(v,x.height),0);u=c+Le(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=Le(a,h,h+f);o.textAlign=r.textAlign(qu(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,yr(o,n.text,p,u,s)}_computeTitleHeight(){const e=this.options.title,n=$e(e.font),s=_t(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,i,r;if(Xt(e,this.left,this.right)&&Xt(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],Xt(e,i.left,i.left+i.width)&&Xt(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(e){const n=this.options;if(!dS(e.type,n))return;const s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=aS(i,s);i&&!r&&ue(n.onLeave,[e,i,this],this),this._hoveredItem=s,s&&!r&&ue(n.onHover,[e,s,this],this)}else s&&ue(n.onClick,[e,s,this],this)}}function lS(t,e,n,s,i){const r=cS(s,t,e,n),o=uS(i,s,e.lineHeight);return{itemWidth:r,itemHeight:o}}function cS(t,e,n,s){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+n.size/2+s.measureText(i).width}function uS(t,e,n){let s=t;return typeof e.text!="string"&&(s=E0(e,n)),s}function E0(t,e){const n=t.text?t.text.length:0;return e*n}function dS(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var rd={id:"legend",_element:Ff,start(t,e,n){const s=t.legend=new Ff({ctx:t.ctx,options:n,chart:t});gt.configure(t,s,n),gt.addBox(t,s)},stop(t){gt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const s=t.legend;gt.configure(t,s,n),s.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const s=e.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),e.hidden=!0):(i.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=_t(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class P0 extends Pt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=ke(s.text)?s.text.length:1;this._padding=_t(s.padding);const r=i*$e(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:s,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Le(a,s,r),h=n+e,c=r-s):(o.position==="left"?(u=s+e,h=Le(a,i,n),l=ve*-.5):(u=r-e,h=Le(a,n,i),l=ve*.5),c=i-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const s=$e(n.font),r=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);yr(e,n.text,0,0,s,{color:n.color,maxWidth:l,rotation:c,textAlign:qu(n.align),textBaseline:"middle",translation:[o,a]})}}function hS(t,e){const n=new P0({ctx:t.ctx,options:e,chart:t});gt.configure(t,n,e),gt.addBox(t,n),t.titleBlock=n}var T0={id:"title",_element:P0,start(t,e,n){hS(t,n)},stop(t){const e=t.titleBlock;gt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const s=t.titleBlock;gt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Pi={average(t){if(!t.length)return!1;let e,n,s=new Set,i=0,r=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Ac(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function At(t,e){return e&&(ke(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Vt(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function fS(t,e){const{element:n,datasetIndex:s,index:i}=e,r=t.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Bf(t,e){const n=t.chart.ctx,{body:s,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=$e(e.bodyFont),c=$e(e.titleFont),u=$e(e.footerFont),h=r.length,f=i.length,p=s.length,m=_t(e.padding);let v=m.height,x=0,g=s.reduce((w,b)=>w+b.before.length+b.lines.length+b.after.length,0);if(g+=t.beforeBody.length+t.afterBody.length,h&&(v+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),g){const w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;v+=p*w+(g-p)*l.lineHeight+(g-1)*e.bodySpacing}f&&(v+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let y=0;const _=function(w){x=Math.max(x,n.measureText(w).width+y)};return n.save(),n.font=c.string,se(t.title,_),n.font=l.string,se(t.beforeBody.concat(t.afterBody),_),y=e.displayColors?o+2+e.boxPadding:0,se(s,w=>{se(w.before,_),se(w.lines,_),se(w.after,_)}),y=0,n.font=u.string,se(t.footer,_),n.restore(),x+=m.width,{width:x,height:v}}function pS(t,e){const{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function gS(t,e,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function mS(t,e,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),gS(c,t,e,n)&&(c="center"),c}function Uf(t,e,n){const s=n.yAlign||e.yAlign||pS(t,n);return{xAlign:n.xAlign||e.xAlign||mS(t,e,n,s),yAlign:s}}function yS(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function vS(t,e,n){let{y:s,height:i}=t;return e==="top"?s+=n:e==="bottom"?s-=i+n:s-=i/2,s}function Vf(t,e,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:p}=zs(o);let m=yS(e,a);const v=vS(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+i:a==="right"&&(m+=Math.max(h,p)+i),{x:ze(m,0,s.width-e.width),y:ze(v,0,s.height-e.height)}}function ao(t,e,n){const s=_t(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function Hf(t){return At([],Vt(t))}function xS(t,e,n){return ds(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Wf(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const M0={beforeTitle:Bt,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Bt,beforeBody:Bt,beforeLabel:Bt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return le(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bt,afterBody:Bt,beforeFooter:Bt,footer:Bt,afterFooter:Bt};function Ge(t,e,n,s){const i=t[e].call(n,s);return typeof i>"u"?M0[e].call(n,s):i}class Fc extends Pt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new d0(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=xS(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:s}=n,i=Ge(s,"beforeTitle",this,e),r=Ge(s,"title",this,e),o=Ge(s,"afterTitle",this,e);let a=[];return a=At(a,Vt(i)),a=At(a,Vt(r)),a=At(a,Vt(o)),a}getBeforeBody(e,n){return Hf(Ge(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:s}=n,i=[];return se(e,r=>{const o={before:[],lines:[],after:[]},a=Wf(s,r);At(o.before,Vt(Ge(a,"beforeLabel",this,r))),At(o.lines,Ge(a,"label",this,r)),At(o.after,Vt(Ge(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,n){return Hf(Ge(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:s}=n,i=Ge(s,"beforeFooter",this,e),r=Ge(s,"footer",this,e),o=Ge(s,"afterFooter",this,e);let a=[];return a=At(a,Vt(i)),a=At(a,Vt(r)),a=At(a,Vt(o)),a}_createItems(e){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(fS(this.chart,n[l]));return e.filter&&(a=a.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,s))),se(a,u=>{const h=Wf(e.callbacks,u);i.push(Ge(h,"labelColor",this,u)),r.push(Ge(h,"labelPointStyle",this,u)),o.push(Ge(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=Pi[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=Bf(this,s),c=Object.assign({},a,l),u=Uf(this.chart,s,c),h=Vf(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,s,i){const r=this.getCaretPosition(e,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(e,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=zs(a),{x:f,y:p}=e,{width:m,height:v}=n;let x,g,y,_,w,b;return r==="center"?(w=p+v/2,i==="left"?(x=f,g=x-o,_=w+o,b=w-o):(x=f+m,g=x+o,_=w-o,b=w+o),y=x):(i==="left"?g=f+Math.max(l,u)+o:i==="right"?g=f+m-Math.max(c,h)-o:g=this.caretX,r==="top"?(_=p,w=_-o,x=g-o,y=g+o):(_=p+v,w=_+o,x=g+o,y=g-o),b=_),{x1:x,x2:g,x3:y,y1:_,y2:w,y3:b}}drawTitle(e,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=$s(s.rtl,this.x,this.width);for(e.x=ao(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=$e(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=s.titleMarginBottom-a)}}_drawColorBox(e,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=$e(r.bodyFont),h=ao(this,"left",r),f=i.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,m=n.y+p;if(r.usePointStyle){const v={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(f,c)+c/2,g=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,Dc(e,v,x,g),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,Dc(e,v,x,g)}else{e.lineWidth=Y(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const v=i.leftForLtr(f,c),x=i.leftForLtr(i.xPlus(f,1),c-2),g=zs(o.borderRadius);Object.values(g).some(y=>y!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ia(e,{x:v,y:m,w:c,h:l,radius:g}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ia(e,{x,y:m+1,w:c-2,h:l-2,radius:g}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(v,m,c,l),e.strokeRect(v,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(x,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=$e(s.bodyFont);let f=h.lineHeight,p=0;const m=$s(s.rtl,this.x,this.width),v=function(j){n.fillText(j,m.x(e.x+p),e.y+f/2),e.y+=f+r},x=m.textAlign(o);let g,y,_,w,b,k,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,e.x=ao(this,x,s),n.fillStyle=s.bodyColor,se(this.beforeBody,v),p=a&&x!=="right"?o==="center"?c/2+u:c+2+u:0,w=0,k=i.length;w<k;++w){for(g=i[w],y=this.labelTextColors[w],n.fillStyle=y,se(g.before,v),_=g.lines,a&&_.length&&(this._drawColorBox(n,e,w,m,s),f=Math.max(h.lineHeight,l)),b=0,S=_.length;b<S;++b)v(_[b]),f=h.lineHeight;se(g.after,v)}p=0,f=h.lineHeight,se(this.afterBody,v),e.y-=r}drawFooter(e,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=$s(s.rtl,this.x,this.width);for(e.x=ao(this,s.footerAlign,s),e.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=$e(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s.footerSpacing}}drawBackground(e,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=zs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(e,n,s,i),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,n,s,i),n.lineTo(a+c,l+u-m),n.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,n,s,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&r==="left"&&this.drawCaret(e,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=Pi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Bf(this,e),l=Object.assign({},o,this._size),c=Uf(n,e,l),u=Vf(e,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=_t(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=s,this.drawBackground(r,e,i,n),o0(e,n.textDirection),r.y+=o.top,this.drawTitle(r,e,n),this.drawBody(r,e,n),this.drawFooter(r,e,n),a0(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const s=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!ta(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,n,s),a=this._positionChanged(o,e),l=n||!ta(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,s,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:s,caretY:i,options:r}=this,o=Pi[r.position].call(this,e,n);return o!==!1&&(s!==o.x||i!==o.y)}}I(Fc,"positioners",Pi);var od={id:"tooltip",_element:Fc,positioners:Pi,afterInit(t,e,n){n&&(t.tooltip=new Fc({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:M0},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _S=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function bS(t,e,n,s){const i=t.indexOf(e);if(i===-1)return _S(t,e,n,s);const r=t.lastIndexOf(e);return i!==r?n:i}const wS=(t,e)=>t===null?null:ze(Math.round(t),0,e);function Kf(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class la extends si{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(le(e))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===e?n:bS(s,e,H(n,e),this._addedLabels),wS(n,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const e=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=e===0&&n===r.length-1?r:r.slice(e,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return Kf.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}I(la,"id","category"),I(la,"defaults",{ticks:{callback:Kf}});function kS(t,e){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=t,p=r||1,m=u-1,{min:v,max:x}=e,g=!le(o),y=!le(a),_=!le(c),w=(x-v)/(h+1);let b=Uh((x-v)/m/p)*p,k,S,j,M;if(b<1e-14&&!g&&!y)return[{value:v},{value:x}];M=Math.ceil(x/b)-Math.floor(v/b),M>m&&(b=Uh(M*b/m/p)*p),le(l)||(k=Math.pow(10,l),b=Math.ceil(b*k)/k),i==="ticks"?(S=Math.floor(v/b)*b,j=Math.ceil(x/b)*b):(S=v,j=x),g&&y&&r&&Mw((a-o)/r,b/1e3)?(M=Math.round(Math.min((a-o)/b,u)),b=(a-o)/M,S=o,j=a):_?(S=g?o:S,j=y?a:j,M=c-1,b=(j-S)/M):(M=(j-S)/b,Ui(M,Math.round(M),b/1e3)?M=Math.round(M):M=Math.ceil(M));const O=Math.max(Vh(b),Vh(S));k=Math.pow(10,le(l)?O:l),S=Math.round(S*k)/k,j=Math.round(j*k)/k;let z=0;for(g&&(f&&S!==o?(n.push({value:o}),S<o&&z++,Ui(Math.round((S+z*b)*k)/k,o,Yf(o,w,t))&&z++):S<o&&z++);z<M;++z){const $=Math.round((S+z*b)*k)/k;if(y&&$>a)break;n.push({value:$})}return y&&f&&j!==a?n.length&&Ui(n[n.length-1].value,a,Yf(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!y||j===a)&&n.push({value:j}),n}function Yf(t,e,{horizontal:n,minRotation:s}){const i=Qt(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class SS extends si{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return le(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(e){const l=Ft(i),c=Ft(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=e,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=kS(i,r);return e.bounds==="ticks"&&Ow(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){const i=(s-n)/Math.max(e.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return Qu(e,this.chart.options.locale,this.options.ticks.format)}}class ca extends SS{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Be(e)?e:0,this.max=Be(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,s=Qt(this.options.ticks.minRotation),i=(e?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}I(ca,"id","linear"),I(ca,"defaults",{ticks:{callback:Jm.formatters.numeric}});const za={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Je=Object.keys(za);function qf(t,e){return t-e}function Gf(t,e){if(le(e))return null;const n=t._adapter,{parser:s,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof s=="function"&&(o=s(o)),Be(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(pr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function Qf(t,e,n,s){const i=Je.length;for(let r=Je.indexOf(t);r<i-1;++r){const o=za[Je[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Je[r]}return Je[i-1]}function jS(t,e,n,s,i){for(let r=Je.length-1;r>=Je.indexOf(n);r--){const o=Je[r];if(za[o].common&&t._adapter.diff(i,s,o)>=e-1)return o}return Je[n?Je.indexOf(n):0]}function CS(t){for(let e=Je.indexOf(t)+1,n=Je.length;e<n;++e)if(za[Je[e]].common)return Je[e]}function Xf(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:s,hi:i}=Yu(n,e),r=n[s]>=e?n[s]:n[i];t[r]=!0}}function NS(t,e,n,s){const i=t._adapter,r=+i.startOf(e[0].value,s),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(e[l].major=!0);return e}function Jf(t,e,n){const s=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:NS(t,s,i,n)}class ua extends si{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const s=e.time||(e.time={}),i=this._adapter=new hk._date(e.adapters.date);i.init(n),Bi(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:Gf(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,s=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Be(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Be(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],s=e[e.length-1]),{min:n,max:s}}buildTicks(){const e=this.options,n=e.time,s=e.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=Iw(i,r,o);return this._unit=n.unit||(s.autoSkip?Qf(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):jS(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:CS(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),Jf(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,s=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?s=r:s=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=ze(n,0,o),s=ze(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const e=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||Qf(r.minUnit,n,s,this._getLabelCapacity(n)),a=H(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=pr(l)||l===!0,u={};let h=n,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+e.add(f,a,o),p++)Xf(u,f,m);return(f===s||i.bounds==="ticks"||p===1)&&Xf(u,f,m),Object.keys(u).sort(qf).map(v=>+v)}getLabelForValue(e){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(e,s.tooltipFormat):n.format(e,s.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return ue(o,[e,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=s[n],p=c&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:u))}generateTickLabels(e){let n,s,i;for(n=0,s=e.length;n<s;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,s=this.ctx.measureText(e).width,i=Qt(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(e){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(e,0,Jf(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,s;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,s;if(e.length)return e;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)e.push(Gf(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return qm(e.sort(qf))}}I(ua,"id","time"),I(ua,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function lo(t,e,n){let s=0,i=t.length-1,r,o,a,l;n?(e>=t[s].pos&&e<=t[i].pos&&({lo:s,hi:i}=Gn(t,"pos",e)),{pos:r,time:a}=t[s],{pos:o,time:l}=t[i]):(e>=t[s].time&&e<=t[i].time&&({lo:s,hi:i}=Gn(t,"time",e)),{time:r,pos:a}=t[s],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class Zf extends ua{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=lo(n,this.min),this._tableRange=lo(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(lo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return lo(this._table,s*this._tableRange+this._minPos,!0)}}I(Zf,"id","timeseries"),I(Zf,"defaults",ua.defaults);const O0="label";function ep(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function ES(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function A0(t,e){t.labels=e}function R0(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O0;const s=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[n]===i[n]);return!r||!i.data||s.includes(r)?{...i}:(s.push(r),Object.assign(r,i),r)})}function PS(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O0;const n={labels:[],datasets:[]};return A0(n,t.labels),R0(n,t.datasets,e),n}function TS(t,e){const{height:n=150,width:s=300,redraw:i=!1,datasetIdKey:r,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:h,...f}=t,p=N.useRef(null),m=N.useRef(null),v=()=>{p.current&&(m.current=new ii(p.current,{type:o,data:PS(a,r),options:l&&{...l},plugins:c}),ep(e,m.current))},x=()=>{ep(e,null),m.current&&(m.current.destroy(),m.current=null)};return N.useEffect(()=>{!i&&m.current&&l&&ES(m.current,l)},[i,l]),N.useEffect(()=>{!i&&m.current&&A0(m.current.config.data,a.labels)},[i,a.labels]),N.useEffect(()=>{!i&&m.current&&a.datasets&&R0(m.current.config.data,a.datasets,r)},[i,a.datasets]),N.useEffect(()=>{m.current&&(i?(x(),setTimeout(v)):m.current.update(h))},[i,l,a.labels,a.datasets,h]),N.useEffect(()=>{m.current&&(x(),setTimeout(v))},[o]),N.useEffect(()=>(v(),()=>x()),[]),dp.createElement("canvas",{ref:p,role:"img",height:n,width:s,...f},u)}const MS=N.forwardRef(TS);function ad(t,e){return ii.register(e),N.forwardRef((n,s)=>dp.createElement(MS,{...n,ref:s,type:t}))}const OS=ad("line",So),AS=ad("bar",ko),RS=ad("doughnut",Ci);ii.register(la,ca,Eo,T0,od,rd);const DS={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}},LS=["DC Morgan","DS Thompson","DC Chen","DC Patel","DCI Rodriguez"],IS={labels:LS,datasets:[{label:"Cases Solved",data:[65,59,80,81,56],backgroundColor:"rgba(37, 99, 235, 0.8)"},{label:"Active Cases",data:[28,32,25,29,35],backgroundColor:"rgba(59, 130, 246, 0.5)"}]};function zS(){return d.jsx(AS,{options:DS,data:IS})}ii.register(la,ca,No,xn,T0,od,rd,oS);const $S={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"}},x:{grid:{display:!1}}}},FS=["Week 1","Week 2","Week 3","Week 4"],BS={labels:FS,datasets:[{label:"Violent Crimes",data:[12,19,15,17],borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4},{label:"Property Crimes",data:[32,29,35,28],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4}]};function US(){return d.jsx(OS,{options:$S,data:BS})}ii.register(Ei,od,rd);const VS={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}},HS={labels:["Patrol","Investigation","Community","Special Ops","Admin"],datasets:[{data:[35,25,20,15,5],backgroundColor:["rgba(37, 99, 235, 0.8)","rgba(59, 130, 246, 0.8)","rgba(96, 165, 250, 0.8)","rgba(147, 197, 253, 0.8)","rgba(191, 219, 254, 0.8)"],borderWidth:1}]};function WS(){return d.jsx(RS,{options:VS,data:HS})}function D0({appointments:t,onContactClick:e,onCancel:n,onReschedule:s}){const[i,r]=N.useState(null),[o,a]=N.useState(null),[l,c]=N.useState(null),u=()=>{i&&(s(i.id,i.date,i.time),a({appointmentId:i.id,date:i.date,time:i.time}),r(null),setTimeout(()=>{a(null)},5e3))},h=f=>{n(f),c(null)};return d.jsxs("div",{className:"px-4 space-y-4",children:[l&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex items-start mb-4",children:[d.jsx("div",{className:"mr-3 mt-0.5",children:d.jsx(wc,{className:"w-6 h-6 text-red-500"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cancel Appointment"}),d.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Are you sure you want to cancel this appointment? This action cannot be undone."})]})]}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{onClick:()=>c(null),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Keep Appointment"}),d.jsx("button",{onClick:()=>h(l),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Yes, Cancel"})]})]})}),i&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Reschedule Appointment"}),d.jsx("button",{onClick:()=>r(null),className:"p-1 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Date"}),d.jsx("input",{type:"date",value:i.date,onChange:f=>r(p=>({...p,date:f.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Time"}),d.jsx("input",{type:"time",value:i.time,onChange:f=>r(p=>({...p,time:f.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[d.jsx("button",{onClick:()=>r(null),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),d.jsx("button",{onClick:u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Confirm"})]})]})]})}),t.map(f=>d.jsxs("div",{className:`bg-white rounded-lg p-4 shadow-sm ${f.status==="cancelled"?"opacity-75":""}`,children:[f.status==="cancelled"&&d.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-100 rounded-lg flex items-center text-red-700",children:[d.jsx(wc,{className:"w-5 h-5 mr-2 text-red-500"}),d.jsx("span",{children:"This appointment has been cancelled"})]}),o&&o.appointmentId===f.id&&d.jsxs("div",{className:"mb-4 p-3 bg-green-50 border border-green-100 rounded-lg flex items-center text-green-700",children:[d.jsx(xx,{className:"w-5 h-5 mr-2 text-green-500"}),d.jsxs("span",{children:["Appointment rescheduled to"," ",new Date(o.date).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",o.time]})]}),d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-lg",children:f.title}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Case: ",f.caseNumber]})]}),d.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${f.typeColor}`,children:f.type})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx(kc,{className:"w-5 h-5 mr-2"}),d.jsx("span",{children:new Date(f.date).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx(kx,{className:"w-5 h-5 mr-2"}),d.jsx("span",{children:f.time})]}),d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx(Du,{className:"w-5 h-5 mr-2"}),d.jsx("span",{children:f.location})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Victim"}),d.jsx("p",{className:"font-medium",children:f.victimName})]}),f.status!=="cancelled"&&d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"p-2 hover:bg-gray-50 rounded-full",onClick:()=>e("video",f),children:d.jsx(Na,{className:"w-5 h-5 text-gray-600"})}),d.jsx("button",{className:"p-2 hover:bg-gray-50 rounded-full",onClick:()=>e("message",f),children:d.jsx(Zt,{className:"w-5 h-5 text-gray-600"})}),d.jsx("button",{className:"p-2 hover:bg-gray-50 rounded-full",onClick:()=>e("phone",f),children:d.jsx(cr,{className:"w-5 h-5 text-gray-600"})})]})]}),f.status!=="cancelled"&&d.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[d.jsx("button",{onClick:()=>r({id:f.id,date:f.date,time:f.time}),className:"px-4 py-2 text-blue-600 hover:bg-blue-50 rounded-lg",children:"Reschedule"}),d.jsx("button",{onClick:()=>c(f.id),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg",children:"Cancel"})]})]})]},f.id))]})}function KS({onBack:t,onSendMessage:e,messages:n}){const[s,i]=N.useState(!1),[r,o]=N.useState("inbox"),[a,l]=N.useState("dashboard"),[c,u]=N.useState("performance"),[h,f]=N.useState([]),[p,m]=N.useState(!0),[v,x]=N.useState("officers"),[g,y]=N.useState([]),[_,w]=N.useState(!0),[b,k]=N.useState(null),[S,j]=N.useState({inbox:[],outbox:[]}),[M,O]=N.useState("");N.useEffect(()=>{(async()=>{try{const{data:A,error:F}=await ne.from("officers").select("*").order("name",{ascending:!0});if(F)throw F;A&&f(A)}catch(A){console.error("Error fetching officers:",A)}finally{m(!1)}})()},[]),N.useEffect(()=>{(async()=>{try{const{data:A,error:F}=await ne.from("meetings").select("*").order("date",{ascending:!0});if(F)throw F;if(A){const te=A.map(U=>({id:U.id,title:U.title,caseNumber:U.case_number,victimName:U.victim_name,date:U.date,time:U.time,location:U.location,type:U.type,typeColor:U.type_color,status:U.status||"active"}));y(te)}}catch(A){console.error("Error fetching appointments:",A)}finally{w(!1)}})()},[]),N.useEffect(()=>{(async()=>{try{const{data:A,error:F}=await ne.from("tasks").select("*").order("created_at",{ascending:!1});if(F)throw F;if(A){const te=A.map(U=>({...U,date:new Date(U.created_at).toLocaleDateString("en-GB"),crimeNumber:U.crime_number,officerInCharge:U.officer_in_charge,assignedTo:U.assigned_to||"Pending"}));j({inbox:te.filter(U=>!U.completed),outbox:te.filter(U=>U.completed)})}}catch(A){console.error("Error fetching tasks:",A)}})()},[]);const z=async C=>{if(b)try{const{error:A}=await ne.from("tasks").update({assigned_to:C}).eq("crime_number",b.crimeNumber);if(A)throw A;j(F=>({...F,inbox:F.inbox.map(te=>te.crime_number===b.crimeNumber?{...te,assignedTo:C}:te)})),k(null)}catch(A){console.error("Error assigning task:",A),alert("Failed to assign task. Please try again.")}},$=async C=>{try{const{error:A}=await ne.from("meetings").update({status:"cancelled"}).eq("id",C);if(A)throw A;y(F=>F.map(te=>te.id===C?{...te,status:"cancelled"}:te))}catch(A){console.error("Error cancelling appointment:",A),alert("Failed to cancel appointment. Please try again.")}},re=async(C,A,F)=>{try{const{error:te}=await ne.from("meetings").update({date:A,time:F}).eq("id",C);if(te)throw te;y(U=>U.map(Ue=>Ue.id===C?{...Ue,date:A,time:F}:Ue))}catch(te){console.error("Error rescheduling appointment:",te),alert("Failed to reschedule appointment. Please try again.")}},xe=(C,A)=>{console.log("Contact clicked:",C,A)},q=C=>{e&&window.dispatchEvent(new CustomEvent("openChat",{detail:{officerId:C.officer_id,officerName:C.name}}))},G=h.filter(C=>M?C.name.toLowerCase().includes(M.toLowerCase())||C.officer_id.toLowerCase().includes(M.toLowerCase())||C.rank.toLowerCase().includes(M.toLowerCase())||C.division.toLowerCase().includes(M.toLowerCase()):!0),ee=C=>{const A=C.rank==="Detective Chief Inspector";return d.jsxs("div",{className:`flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg cursor-pointer ${A?"bg-blue-50 border-2 border-blue-200":""}`,onClick:()=>q(C),children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:C.image_url,alt:C.name,className:"w-10 h-10 rounded-full"}),A&&d.jsx("div",{className:"absolute -top-1 -right-1 bg-blue-600 rounded-full p-1",children:d.jsx(zx,{className:"w-3 h-3 text-white"})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("h3",{className:"font-medium text-sm",children:C.name}),A&&d.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Chief"})]}),d.jsx("p",{className:"text-xs text-gray-500",children:C.officer_id}),d.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-400",children:[d.jsx(Ix,{className:"w-3 h-3"}),d.jsx("span",{children:C.rank})]})]})]}),d.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${C.status==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.status})]},C.id)},T=()=>d.jsx("div",{className:"p-6",children:d.jsxs("div",{className:"flex gap-6",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"bg-white rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase mb-2",children:"Active Cases"}),d.jsxs("div",{className:"flex items-baseline",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"32"}),d.jsx("span",{className:"ml-2 text-sm text-green-500",children:"+4"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase mb-2",children:"Response"}),d.jsxs("div",{className:"flex items-baseline",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"18"}),d.jsx("span",{className:"ml-2 text-sm",children:"min"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase mb-2",children:"Resolution"}),d.jsxs("div",{className:"flex items-baseline",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"87%"}),d.jsx("span",{className:"ml-2 text-sm text-green-500",children:"5%"})]})]}),d.jsxs("div",{className:"bg-white rounded-lg p-4",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-500 uppercase mb-2",children:"Officers"}),d.jsxs("div",{className:"flex items-baseline",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:"24"}),d.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"/30"})]})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("div",{className:"flex space-x-2 mb-6",children:[d.jsx("button",{onClick:()=>o("inbox"),className:`px-4 py-2 rounded-lg ${r==="inbox"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:"Task Inbox (12)"}),d.jsx("button",{onClick:()=>o("outbox"),className:`px-4 py-2 rounded-lg ${r==="outbox"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:"Task Outbox (6)"})]}),d.jsx("div",{className:"bg-white rounded-lg",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"text-left border-b",children:[d.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Date"}),d.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Summary"}),d.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Offence"}),d.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Crime Number"}),d.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Officer in Charge"}),d.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-500",children:"Assigned to"}),d.jsx("th",{className:"px-3 py-2 text-sm font-medium text-gray-500"})]})}),d.jsx("tbody",{children:S[r].map((C,A)=>d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"px-3 py-2 text-sm",children:C.date}),d.jsx("td",{className:"px-3 py-2 text-sm",children:C.summary}),d.jsx("td",{className:"px-3 py-2",children:d.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded text-xs",children:C.offence})}),d.jsx("td",{className:"px-3 py-2",children:d.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:underline",children:C.crimeNumber})}),d.jsx("td",{className:"px-3 py-2",children:d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-sm",children:C.officerInCharge}),d.jsx(Zt,{className:"w-4 h-4 text-blue-600"})]})}),d.jsx("td",{className:"px-3 py-2 text-sm",children:C.assignedTo}),d.jsx("td",{className:"px-3 py-2",children:d.jsx("button",{onClick:()=>k({crimeNumber:C.crimeNumber,summary:C.summary}),className:`px-3 py-1 text-xs font-medium rounded-full ${C.assignedTo!=="Pending"?"text-yellow-600 border border-yellow-600 hover:bg-yellow-50":"text-blue-600 border border-blue-600 hover:bg-blue-50"}`,children:C.assignedTo!=="Pending"?"Reassign":"Assign"})})]},A))})]})})]})]}),d.jsx("div",{className:"w-80",children:d.jsxs("div",{className:"bg-white rounded-lg flex flex-col h-[700px]",children:[d.jsxs("div",{className:"flex border-b shrink-0",children:[d.jsx("button",{onClick:()=>x("officers"),className:`flex-1 px-4 py-3 text-sm font-medium ${v==="officers"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Officers"}),d.jsx("button",{onClick:()=>x("appointments"),className:`flex-1 px-4 py-3 text-sm font-medium ${v==="appointments"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:"Appointments"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsx("div",{className:"p-4",children:v==="officers"?d.jsx("div",{className:"space-y-3",children:p?d.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading officers..."}):G.length===0?d.jsx("div",{className:"text-center py-4 text-gray-500",children:"No officers found"}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search officers...",value:M,onChange:C=>O(C.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx(Ys,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]})}),d.jsx("div",{className:"space-y-2",children:G.sort((C,A)=>C.rank==="Detective Chief Inspector"?-1:A.rank==="Detective Chief Inspector"?1:C.name.localeCompare(A.name)).map(ee)})]})}):d.jsx("div",{className:"space-y-3",children:_?d.jsx("div",{className:"text-center py-4 text-gray-500",children:"Loading appointments..."}):g.length===0?d.jsx("div",{className:"text-center py-4 text-gray-500",children:"No appointments found"}):d.jsx(D0,{appointments:g,onContactClick:xe,onCancel:$,onReschedule:re})})})})]})})]})}),D=()=>d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex space-x-4 mb-6",children:[d.jsx("button",{onClick:()=>u("performance"),className:`px-4 py-2 rounded-lg ${c==="performance"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:"Performance Reports"}),d.jsx("button",{onClick:()=>u("crime"),className:`px-4 py-2 rounded-lg ${c==="crime"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:"Crime Statistics"}),d.jsx("button",{onClick:()=>u("resource"),className:`px-4 py-2 rounded-lg ${c==="resource"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:"Resource Allocation"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-lg shadow-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold",children:[c==="performance"&&"Officer Performance Metrics",c==="crime"&&"Crime Rate Trends",c==="resource"&&"Resource Utilization"]}),d.jsx("p",{className:"text-sm text-gray-500",children:"Last 30 days"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:d.jsx(mm,{className:"w-5 h-5 text-gray-600"})}),d.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-lg",children:d.jsx(jx,{className:"w-5 h-5 text-gray-600"})})]})]}),d.jsxs("div",{className:"h-80",children:[c==="performance"&&d.jsx(zS,{}),c==="crime"&&d.jsx(US,{}),c==="resource"&&d.jsx(WS,{})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Key Statistics"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Total Cases"}),d.jsx("p",{className:"text-2xl font-bold",children:"248"})]}),d.jsx("span",{className:"text-green-500 text-sm",children:"+12% "})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Resolution Rate"}),d.jsx("p",{className:"text-2xl font-bold",children:"76%"})]}),d.jsx("span",{className:"text-green-500 text-sm",children:"+5% "})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Active Officers"}),d.jsx("p",{className:"text-2xl font-bold",children:"28"})]}),d.jsx("span",{className:"text-red-500 text-sm",children:"-2% "})]})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),d.jsx("div",{className:"space-y-4",children:[{action:"Case Assigned",details:"DC Morgan assigned to robbery case",time:"2 hours ago"},{action:"Report Filed",details:"New evidence submitted for Case #4589",time:"4 hours ago"},{action:"Status Update",details:"Burglary investigation completed",time:"6 hours ago"}].map((C,A)=>d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(lr,{className:"w-4 h-4 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:C.action}),d.jsx("p",{className:"text-sm text-gray-500",children:C.details}),d.jsx("p",{className:"text-xs text-gray-400",children:C.time})]})]},A))})]})]})]});return d.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[d.jsxs("div",{className:`fixed top-0 left-0 h-full bg-white shadow-lg transition-all duration-300 group hover:w-64 ${s?"w-64":"w-20"}`,onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[d.jsx("div",{className:"p-4",children:d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg",children:d.jsx(Lu,{className:"w-6 h-6"})})}),d.jsx("nav",{className:"mt-8 px-4",children:d.jsxs("ul",{className:"space-y-2",children:[d.jsx("li",{children:d.jsxs("button",{onClick:()=>l("dashboard"),className:`w-full flex items-center p-3 rounded-lg ${a==="dashboard"?"text-blue-600 bg-blue-50":"text-gray-700 hover:bg-gray-100"}`,children:[d.jsx(Tx,{className:"w-6 h-6 flex-shrink-0"}),d.jsx("span",{className:`ml-3 whitespace-nowrap ${s?"opacity-100":"opacity-0 w-0"} transition-all duration-300 group-hover:opacity-100 group-hover:w-auto`,children:"Dashboard"})]})}),d.jsx("li",{children:d.jsxs("button",{onClick:()=>l("reports"),className:`w-full flex items-center p-3 rounded-lg ${a==="reports"?"text-blue-600 bg-blue-50":"text-gray-700 hover:bg-gray-100"}`,children:[d.jsx(lr,{className:"w-6 h-6 flex-shrink-0"}),d.jsx("span",{className:`ml-3 whitespace-nowrap ${s?"opacity-100":"opacity-0 w-0"} transition-all duration-300 group-hover:opacity-100 group-hover:w-auto`,children:"Reports"})]})}),d.jsx("li",{children:d.jsxs("a",{href:"#",className:"flex items-center p-3 text-gray-700 hover:bg-gray-100 rounded-lg",children:[d.jsx(Nx,{className:"w-6 h-6 flex-shrink-0"}),d.jsx("span",{className:`ml-3 whitespace-nowrap ${s?"opacity-100":"opacity-0 w-0"} transition-all duration-300 group-hover:opacity-100 group-hover:w-auto`,children:"FAQ"})]})}),d.jsx("li",{children:d.jsxs("a",{href:"#",className:"flex items-center p-3 text-gray-700 hover:bg-gray-100 rounded-lg",children:[d.jsx(Lx,{className:"w-6 h-6 flex-shrink-0"}),d.jsx("span",{className:`ml-3 whitespace-nowrap ${s?"opacity-100":"opacity-0 w-0"} transition-all duration-300 group-hover:opacity-100 group-hover:w-auto`,children:"Settings"})]})})]})})]}),d.jsxs("div",{className:`flex-1 ${s?"ml-64":"ml-20"} transition-all duration-300`,children:[d.jsxs("header",{className:"bg-white p-4 flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center space-x-4",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search crimes numbers, officers etc",className:"w-96 pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx(Ys,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("button",{className:"relative",children:[d.jsx(vx,{className:"w-6 h-6 text-gray-600"}),d.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:"3"})]}),d.jsx("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:"Admin",className:"w-10 h-10 rounded-full"})]})," "]}),a==="dashboard"?T():D()]}),b&&d.jsx(Jb,{onClose:()=>k(null),onAssign:z,officers:h,taskSummary:b.summary,crimeNumber:b.crimeNumber})]})}function YS({onClose:t,caseNumber:e}){const[n,s]=N.useState(""),[i]=N.useState([{id:"1",name:"Victim Statement.pdf",type:"pdf",size:"2.4 MB",lastModified:"2025-02-07T14:30:00",caseNumber:e},{id:"2",name:"Crime Scene Photo 1.jpg",type:"image",size:"3.1 MB",lastModified:"2025-02-07T14:32:00",thumbnail:"https://images.unsplash.com/photo-1590856029826-c7a73142bbf1",caseNumber:e},{id:"3",name:"Investigation Report.docx",type:"document",size:"1.8 MB",lastModified:"2025-02-07T15:00:00",caseNumber:e}]),r=l=>{switch(l){case"pdf":return d.jsx(yx,{className:"w-8 h-8 text-red-500"});case"image":return d.jsx(Ex,{className:"w-8 h-8 text-blue-500"});case"document":return d.jsx(lr,{className:"w-8 h-8 text-blue-600"});default:return d.jsx(Sx,{className:"w-8 h-8 text-gray-500"})}},o=i.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())),a=l=>{const c=l.target.files;c&&c.length>0&&console.log("Files to upload:",c)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl mx-4 max-h-[90vh] flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold",children:"Documents"}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Case: ",e]})]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"p-4 border-b flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx("input",{type:"text",placeholder:"Search documents...",value:n,onChange:l=>s(l.target.value),className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx(Ys,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),d.jsxs("label",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 cursor-pointer flex items-center gap-2",children:[d.jsx(Bx,{className:"w-4 h-4"}),d.jsx("span",{children:"Upload"}),d.jsx("input",{type:"file",multiple:!0,className:"hidden",onChange:a})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(l=>d.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[l.thumbnail?d.jsx("img",{src:l.thumbnail,alt:l.name,className:"w-12 h-12 rounded object-cover"}):r(l.type),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-full",title:"Download",children:d.jsx(mm,{className:"w-4 h-4 text-gray-600"})}),d.jsx("button",{className:"p-1.5 hover:bg-gray-100 rounded-full",title:"Delete",children:d.jsx(Fx,{className:"w-4 h-4 text-red-500"})})]})]}),d.jsx("h3",{className:"font-medium text-gray-900 mb-1 truncate",title:l.name,children:l.name}),d.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[d.jsx("span",{children:l.size}),d.jsx("span",{children:new Date(l.lastModified).toLocaleDateString()})]})]},l.id))})})]})})}function qS({onClose:t,onSubmit:e,caseNumber:n,victimName:s}){const[i,r]=N.useState({title:"",date:"",time:"",location:"",type:"Statement"}),o=[{label:"Statement",color:"bg-purple-100 text-purple-800"},{label:"Court",color:"bg-blue-100 text-blue-800"},{label:"Meeting",color:"bg-green-100 text-green-800"},{label:"Interview",color:"bg-yellow-100 text-yellow-800"}],a=async()=>{if(!i.title||!i.date||!i.time||!i.location){alert("Please fill in all fields");return}try{e({...i,caseNumber:n,victimName:s}),t()}catch(l){console.error("Error scheduling meeting:",l),alert("Error scheduling meeting. Please try again.")}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Schedule Meeting"}),d.jsxs("p",{className:"text-sm text-gray-500",children:["Case: ",n]})]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Title"}),d.jsx("input",{type:"text",value:i.title,onChange:l=>r(c=>({...c,title:l.target.value})),placeholder:"Enter meeting title",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),d.jsx("input",{type:"date",value:i.date,onChange:l=>r(c=>({...c,date:l.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none",style:{colorScheme:"light"}})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Time"}),d.jsx("input",{type:"time",value:i.time,onChange:l=>r(c=>({...c,time:l.target.value})),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 appearance-none",style:{colorScheme:"light"}})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),d.jsxs("div",{className:"relative flex items-center",children:[d.jsx(Du,{className:"absolute left-3 w-5 h-5 text-gray-400 pointer-events-none"}),d.jsx("input",{type:"text",value:i.location,onChange:l=>r(c=>({...c,location:l.target.value})),placeholder:"Enter meeting location",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Meeting Type"}),d.jsx("select",{value:i.type,onChange:l=>r(c=>({...c,type:l.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:o.map(l=>d.jsx("option",{value:l.label,children:l.label},l.label))})]}),d.jsx("div",{className:"mt-2",children:d.jsxs("p",{className:"text-sm text-gray-500",children:["Meeting with: ",d.jsx("span",{className:"font-medium",children:s})]})})]}),d.jsxs("div",{className:"p-4 border-t flex justify-end space-x-3",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),d.jsx("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Schedule Meeting"})]})]})})}function GS({onClose:t,onSubmit:e}){const[n,s]=N.useState({victimName:"",dateOfBirth:"",address:"",type:"ASSAULT WOUNDING"}),[i,r]=N.useState(""),[o,a]=N.useState([]),[l,c]=N.useState([]),[u,h]=N.useState(!1),f=[{label:"ASSAULT WOUNDING",color:"bg-orange-100 text-orange-800"},{label:"SEC 47 ASSAULT",color:"bg-red-100 text-red-800"},{label:"BURGLARY OTD",color:"bg-yellow-100 text-yellow-800"},{label:"ROBBERY",color:"bg-purple-100 text-purple-800"},{label:"THEFT",color:"bg-blue-100 text-blue-800"}];N.useEffect(()=>{p()},[]),N.useEffect(()=>{if(i){const x=o.filter(g=>g.victim_name.toLowerCase().includes(i.toLowerCase())||g.crime_number.toLowerCase().includes(i.toLowerCase()));c(x),h(!0)}else h(!1)},[i,o]);const p=async()=>{try{const{data:x,error:g}=await ne.from("cases").select("*").order("created_at",{ascending:!1});if(g)throw g;x&&a(x)}catch(x){console.error("Error fetching cases:",x)}},m=()=>{if(!n.victimName||!n.dateOfBirth||!n.address){alert("Please fill in all required fields");return}e(n),t()},v=x=>{s({victimName:x.victim_name,dateOfBirth:x.date_of_birth,address:x.address,type:x.type}),r(""),h(!1)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[d.jsx("h3",{className:"font-semibold text-lg",children:"Create New Case"}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:i,onChange:x=>r(x.target.value),placeholder:"Search existing cases...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx(Ys,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),u&&l.length>0&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg max-h-60 overflow-y-auto",children:l.map(x=>d.jsxs("button",{onClick:()=>v(x),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:x.victim_name}),d.jsx("div",{className:"text-sm text-gray-500",children:x.crime_number})]}),d.jsx(Zo,{className:"w-4 h-4 text-gray-400"})]},x.id))})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"flex-grow border-t border-gray-200"}),d.jsx("span",{className:"px-3 text-sm text-gray-500",children:"or create new case"}),d.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Victim Name"}),d.jsx("input",{type:"text",value:n.victimName,onChange:x=>s(g=>({...g,victimName:x.target.value.toUpperCase()})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter victim name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),d.jsx("input",{type:"date",value:n.dateOfBirth,onChange:x=>s(g=>({...g,dateOfBirth:x.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),d.jsx("input",{type:"text",value:n.address,onChange:x=>s(g=>({...g,address:x.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter address"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crime Type"}),d.jsx("select",{value:n.type,onChange:x=>s(g=>({...g,type:x.target.value})),className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:f.map(x=>d.jsx("option",{value:x.label,children:x.label},x.label))})]})]}),d.jsxs("div",{className:"p-4 border-t flex justify-end space-x-3",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),d.jsxs("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center space-x-2",children:[d.jsx(ym,{className:"w-4 h-4"}),d.jsx("span",{children:"Create Case"})]})]})]})})}function QS({messages:t,caseNumber:e,senderId:n,onClose:s,onSendMessage:i,newMessage:r,setNewMessage:o}){const[a,l]=N.useState("text"),[c,u]=N.useState(!1),[h,f]=N.useState(!1),p=N.useRef(null),m=N.useRef(null),v=N.useRef(null),x=()=>{var b;(b=p.current)==null||b.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{x()},[t]),N.useEffect(()=>{const b=()=>{if(v.current){const k=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${k}px`)}};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const g=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),i(r))},y=b=>{a!==b&&(b==="video"?_():w(),l(b))},_=async()=>{try{const b=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});m.current&&(m.current.srcObject=b)}catch(b){console.error("Error accessing camera:",b)}},w=()=>{m.current&&m.current.srcObject&&(m.current.srcObject.getTracks().forEach(k=>k.stop()),m.current.srcObject=null)};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{ref:v,className:"bg-white rounded-lg w-full h-full sm:h-auto sm:w-[95%] md:w-[32rem] max-w-lg mx-auto flex flex-col",style:{height:"calc(var(--vh, 1vh) * 100)",maxHeight:"calc(var(--vh, 1vh) * 100)"},children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b shrink-0",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"Case Communication"}),d.jsx("p",{className:"text-sm text-gray-500",children:e})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{onClick:()=>y("text"),className:`p-2 rounded-full ${a==="text"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,title:"Text Chat",children:d.jsx(Zt,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>y("video"),className:`p-2 rounded-full ${a==="video"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,title:"Video Call",children:d.jsx(Na,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>y("phone"),className:`p-2 rounded-full ${a==="phone"?"bg-blue-100 text-blue-600":"hover:bg-gray-100"}`,title:"Phone Call",children:d.jsx(cr,{className:"w-5 h-5"})}),d.jsx("div",{className:"w-px h-6 bg-gray-200 mx-1"}),d.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]})]}),d.jsx("div",{className:"flex-1 overflow-hidden",children:a==="text"?d.jsxs("div",{className:"h-full p-4 overflow-y-auto space-y-4",children:[t.map(b=>d.jsx("div",{className:`flex ${b.sender_id===n?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-[85%] rounded-lg px-4 py-2 ${b.sender_id===n?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[d.jsx("p",{className:"whitespace-pre-wrap break-words text-sm sm:text-base",children:b.text}),d.jsx("p",{className:`text-xs mt-1 ${b.sender_id===n?"text-blue-100":"text-gray-500"}`,children:new Date(b.created_at).toLocaleTimeString()})]})},b.id)),d.jsx("div",{ref:p})]}):d.jsxs("div",{className:"h-full bg-gray-900 relative",children:[a==="video"&&d.jsx("video",{ref:m,autoPlay:!0,playsInline:!0,muted:c,className:"w-full h-full object-cover"}),a==="phone"&&d.jsx("div",{className:"h-full flex items-center justify-center text-white",children:d.jsxs("div",{className:"text-center",children:[d.jsx(cr,{className:"w-16 h-16 mx-auto mb-4"}),d.jsx("p",{className:"text-lg",children:"Phone call in progress..."})]})}),d.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>u(!c),className:`p-3 rounded-full ${c?"bg-red-500":"bg-gray-800"} text-white hover:opacity-90`,children:d.jsx(Ox,{className:"w-5 h-5"})}),a==="video"&&d.jsx("button",{onClick:()=>f(!h),className:`p-3 rounded-full ${h?"bg-red-500":"bg-gray-800"} text-white hover:opacity-90`,children:d.jsx(Ux,{className:"w-5 h-5"})}),d.jsx("button",{className:"p-3 rounded-full bg-red-500 text-white hover:opacity-90",onClick:()=>y("text"),children:d.jsx(st,{className:"w-5 h-5"})})]})]})}),a==="text"&&d.jsx("div",{className:"p-4 border-t shrink-0",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("textarea",{value:r,onChange:b=>o(b.target.value),onKeyPress:g,placeholder:"Type your message...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500 resize-none text-sm sm:text-base",rows:1,style:{minHeight:"42px",maxHeight:"120px"}}),d.jsx("button",{onClick:()=>i(r),disabled:!r.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed shrink-0",children:d.jsx(Iu,{className:"w-5 h-5"})})]})})]})})}function XS({crimeNumber:t,onClose:e}){const n=[{name:"Zam Rahman",messageCount:2},{name:"Zaina Rahman",messageCount:2},{name:"Srikanth Raj",messageCount:2}];return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"Crime Details"}),d.jsx("p",{className:"text-sm text-gray-500",children:t})]}),d.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"max-h-[calc(100vh-200px)] overflow-y-auto",children:[d.jsxs("div",{className:"p-4",children:[d.jsx("h2",{className:"text-lg font-semibold mb-3",children:"MO- Crime Summary"}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[d.jsx("p",{className:"text-gray-800 mb-4",children:"Known male offender following an argument punches the victim in the face repeatedly causing a black eye and bloody nose."}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[d.jsx("p",{children:"Date of Offence : 12/05/2021 13:12:00hrs"}),d.jsx("p",{children:"Place of Offence : 12 Winston Rd, London NW1 9LN"})]})]})]}),d.jsxs("div",{className:"px-4 pb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Witnesses"}),d.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Witness"})]}),n.map((s,i)=>d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:[d.jsxs("div",{className:"mb-3",children:[d.jsx("span",{className:"text-sm text-gray-500",children:"Witness"}),d.jsx("h3",{className:"font-medium",children:s.name})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex space-x-4",children:[d.jsxs("button",{className:"relative p-2 bg-blue-50 rounded-full",children:[d.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),d.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs w-4 h-4 flex items-center justify-center rounded-full",children:s.messageCount})]}),d.jsx("button",{className:"p-2 bg-blue-50 rounded-full",children:d.jsx(cr,{className:"w-5 h-5 text-blue-600"})}),d.jsx("button",{className:"p-2 bg-blue-50 rounded-full",children:d.jsx(Na,{className:"w-5 h-5 text-blue-600"})}),d.jsx("button",{className:"p-2 bg-yellow-50 rounded-full",children:d.jsx(Zo,{className:"w-5 h-5 text-yellow-500"})})]}),d.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600",children:d.jsx(gm,{className:"w-5 h-5"})})]})]},i))]})]})]})})}function JS({onBack:t,messages:e,officerId:n}){var ud;const[s,i]=N.useState(e||[]),[r,o]=N.useState("cases"),[a,l]=N.useState(!1),[c,u]=N.useState([]),[h,f]=N.useState(null),[p,m]=N.useState(""),[v,x]=N.useState([]),[g,y]=N.useState(!1),[_,w]=N.useState(null),[b,k]=N.useState(null),[S,j]=N.useState(null),[M,O]=N.useState({}),[z,$]=N.useState(""),[re,xe]=N.useState(null),[q,G]=N.useState([]),[ee,T]=N.useState([]),[D,C]=N.useState(!0);N.useEffect(()=>{(async()=>{try{const{data:L,error:Z}=await ne.from("meetings").select("*").eq("officer_id",n).order("date",{ascending:!0});if(Z)throw Z;if(L){const X=L.map(K=>({id:K.id,title:K.title,caseNumber:K.case_number,victimName:K.victim_name,date:K.date,time:K.time,location:K.location,type:K.type,typeColor:K.type_color,status:K.status||"active"}));T(X)}}catch(L){console.error("Error fetching appointments:",L)}finally{C(!1)}})()},[n]),N.useEffect(()=>{const P=s.filter(L=>L.receiver_id===n&&!L.read);u(P)},[s,n]),N.useEffect(()=>{(async()=>{const{data:X,error:K}=await ne.from("messages").select("*").or(`sender_id.eq.${n},receiver_id.eq.${n}`).order("created_at",{ascending:!0});if(K){console.error("Error fetching messages:",K);return}X&&i(X)})();const L=ne.channel("police-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`sender_id=eq.${n},receiver_id=eq.${n}`},X=>{const K=X.new;i(Ve=>[...Ve,K])}).subscribe();return(async()=>{const{error:X}=await ne.from("messages").update({read:!0}).eq("receiver_id",n).eq("read",!1);X&&console.error("Error marking messages as read:",X)})(),()=>{ne.removeChannel(L)}},[n]);const A=()=>{const P=new Date().getFullYear().toString().slice(-2);return`CRI${Math.floor(Math.random()*9e4)+1e4}/${P}`},F=P=>({"ASSAULT WOUNDING":"bg-orange-100 text-orange-800","SEC 47 ASSAULT":"bg-red-100 text-red-800","BURGLARY OTD":"bg-yellow-100 text-yellow-800",ROBBERY:"bg-purple-100 text-purple-800",THEFT:"bg-blue-100 text-blue-800"})[P]||"bg-gray-100 text-gray-800",te=async P=>{const L=A(),Z=F(P.type),X={...P,crimeNumber:L,typeColor:Z,created_at:new Date,isNew:!0};try{const{data:K,error:Ve}=await ne.from("cases").insert([{victim_name:P.victimName,crime_number:L,date_of_birth:P.dateOfBirth,address:P.address,type:P.type,type_color:Z,officer_id:n}]).select();if(Ve)throw Ve;G($a=>[X,...$a]),y(!1),setTimeout(()=>{G($a=>$a.map(Fa=>Fa.crimeNumber===X.crimeNumber?{...Fa,isNew:!1}:Fa))},5e3)}catch(K){console.error("Error creating case:",K),alert("Failed to create case. Please try again.")}};N.useEffect(()=>{(async()=>{try{const{data:L,error:Z}=await ne.from("cases").select("*").eq("officer_id",n).order("created_at",{ascending:!1});if(Z)throw Z;if(L){const X=L.map(K=>({victimName:K.victim_name,crimeNumber:K.crime_number,dateOfBirth:new Date(K.date_of_birth).toLocaleDateString("en-GB"),address:K.address,type:K.type,typeColor:K.type_color}));G(X)}}catch(L){console.error("Error fetching cases:",L)}})()},[n]),N.useEffect(()=>{(async()=>{try{const{data:L,error:Z}=await ne.from("notes").select("*").eq("officer_id",n).order("created_at",{ascending:!1});if(Z)throw Z;if(L){const X=L.reduce((K,Ve)=>(K[Ve.case_number]||(K[Ve.case_number]=[]),K[Ve.case_number].push(Ve),K),{});O(X)}}catch(L){console.error("Error fetching notes:",L)}})()},[n]);const U=async P=>{const L={Statement:"bg-purple-100 text-purple-800",Court:"bg-blue-100 text-blue-800",Meeting:"bg-green-100 text-green-800",Interview:"bg-yellow-100 text-yellow-800"};try{const{data:Z,error:X}=await ne.from("meetings").insert([{title:P.title,date:P.date,time:P.time,location:P.location,type:P.type,type_color:L[P.type],case_number:P.caseNumber,victim_name:P.victimName,officer_id:n}]).select();if(X)throw X;if(Z){const K={id:Z[0].id,...P,typeColor:L[P.type],status:"active"};T(Ve=>[K,...Ve])}}catch(Z){console.error("Error scheduling meeting:",Z),alert("Failed to schedule meeting. Please try again.")}},Ue=async P=>{try{const{error:L}=await ne.from("meetings").update({status:"cancelled"}).eq("id",P);if(L)throw L;T(Z=>Z.map(X=>X.id===P?{...X,status:"cancelled"}:X))}catch(L){console.error("Error cancelling appointment:",L),alert("Failed to cancel appointment. Please try again.")}},Te=async(P,L,Z)=>{try{const{error:X}=await ne.from("meetings").update({date:L,time:Z}).eq("id",P);if(X)throw X;T(K=>K.map(Ve=>Ve.id===P?{...Ve,date:L,time:Z}:Ve))}catch(X){console.error("Error rescheduling appointment:",X),alert("Failed to reschedule appointment. Please try again.")}},hs=(P,L)=>{f(L.caseNumber)},L0=P=>{x(L=>L.includes(P)?L.filter(Z=>Z!==P):[...L,P])},I0=async P=>{if(!(!P.trim()||!h))try{const L={sender_id:n,receiver_id:`victim-${h}`,text:P,case_number:h,read:!1},{data:Z,error:X}=await ne.from("messages").insert([L]).select();if(X)throw X;Z&&(i(K=>[...K,Z[0]]),m(""))}catch(L){console.error("Error sending message:",L)}},ld=async P=>{if(z.trim())try{const{data:L,error:Z}=await ne.from("notes").insert([{case_number:P,text:z,officer_id:n}]).select();if(Z)throw Z;L&&(O(X=>({...X,[P]:[...X[P]||[],L[0]]})),$(""))}catch(L){console.error("Error adding note:",L),alert("Failed to add note. Please try again.")}},z0=P=>s.filter(L=>L.case_number===P&&(L.sender_id===n||L.receiver_id===n||L.sender_id===`victim-${P}`||L.receiver_id===`victim-${P}`)),cd=P=>s.filter(L=>L.case_number===P&&L.receiver_id===n&&!L.read).length;return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsxs("header",{className:"bg-white p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:t,children:d.jsx(Lu,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("img",{src:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80",alt:"S.Morgan",className:"w-12 h-12 rounded-full"}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-semibold",children:"S.Morgan"}),d.jsx("p",{className:"text-sm text-gray-500",children:"DCI 12321"})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("button",{className:"relative",onClick:()=>l(!a),children:[d.jsx(Zt,{className:"w-6 h-6 text-gray-600"}),c.length>0&&d.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs flex items-center justify-center",children:c.length})]}),d.jsx("button",{onClick:()=>y(!0),className:"w-6 h-6 text-blue-600 hover:text-blue-700 transition-colors",children:d.jsx(ym,{className:"w-6 h-6"})})]}),a&&d.jsxs("div",{className:"absolute right-4 top-20 w-96 bg-white rounded-lg shadow-lg border z-50",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"font-semibold",children:"Messages"}),d.jsx("button",{onClick:()=>l(!1),className:"p-1 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]})}),d.jsx("div",{className:"max-h-96 overflow-y-auto",children:c.length>0?c.map(P=>d.jsx("div",{className:"p-4 border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{f(P.case_number||""),l(!1)},children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(Zt,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("p",{className:"font-medium",children:["Case: ",P.case_number||"N/A"]}),d.jsx("span",{className:"text-xs text-gray-500",children:new Date(P.created_at).toLocaleTimeString()})]}),d.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:P.text})]})]})},P.id)):d.jsx("div",{className:"p-8 text-center text-gray-500",children:"No unread messages"})})]})]}),g&&d.jsx(GS,{onClose:()=>y(!1),onSubmit:te}),_&&d.jsx(qS,{onClose:()=>w(null),onSubmit:U,caseNumber:_.caseNumber,victimName:_.victimName}),h&&d.jsx(QS,{messages:z0(h),caseNumber:h,senderId:n,onClose:()=>f(null),onSendMessage:I0,newMessage:p,setNewMessage:m}),b&&d.jsx(YS,{onClose:()=>k(null),caseNumber:b}),re&&d.jsx(XS,{crimeNumber:re,onClose:()=>xe(null)}),S&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"Case Notes"}),d.jsx("p",{className:"text-sm text-gray-500",children:S})]}),d.jsx("button",{onClick:()=>j(null),className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",value:z,onChange:P=>$(P.target.value),placeholder:"Add a new note...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:P=>P.key==="Enter"&&ld(S)}),d.jsx("button",{onClick:()=>ld(S),disabled:!z.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Add Note"})]}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(ud=M[S])==null?void 0:ud.map(P=>d.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[d.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:P.text}),d.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(P.created_at).toLocaleString()})]},P.id))})]})]})}),d.jsxs("div",{className:"flex p-4 space-x-1",children:[d.jsx("button",{onClick:()=>o("cases"),className:`flex-1 py-3 px-4 rounded-full font-medium ${r==="cases"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:d.jsxs("span",{className:"sm:text-base text-sm",children:["Active Cases (",q.length,")"]})}),d.jsx("button",{onClick:()=>o("appointments"),className:`flex-1 py-3 px-4 rounded-full font-medium ${r==="appointments"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:d.jsxs("span",{className:"sm:text-base text-sm",children:["Appointments (",ee.filter(P=>P.status!=="cancelled").length,")"]})})]}),d.jsx("div",{className:"px-4 mb-4",children:d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",placeholder:"Search victim names or crime numbers",className:"w-full pl-10 pr-4 py-3 bg-white rounded-full border-none shadow-sm"}),d.jsx(Ys,{className:"absolute left-4 top-3.5 w-5 h-5 text-gray-400"})]})}),r==="cases"?d.jsx("div",{className:"px-4 space-y-4",children:q.map((P,L)=>d.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm relative",children:[P.isNew&&d.jsx("div",{className:"absolute -top-2 -right-2 px-2 py-1 bg-green-500 text-white text-xs font-medium rounded-full animate-pulse",children:"New Case"}),d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 uppercase",children:"VICTIM NAME"}),d.jsx("h3",{className:"text-xl font-bold",children:P.victimName})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("a",{href:"#",onClick:Z=>{Z.preventDefault(),xe(P.crimeNumber)},className:"px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors font-medium",children:P.crimeNumber}),d.jsx("button",{children:d.jsx(Rx,{className:"w-5 h-5 text-gray-400"})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 uppercase",children:"DATE OF BIRTH"}),d.jsx("p",{className:"font-medium",children:P.dateOfBirth})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-500 uppercase",children:"ADDRESS"}),d.jsx("p",{className:"font-medium",children:P.address})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("span",{className:`inline-block px-4 py-1 rounded-full text-sm font-medium ${P.typeColor}`,children:P.type}),d.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[d.jsxs("button",{className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-full relative flex items-center justify-center",onClick:()=>f(P.crimeNumber),children:[d.jsx(Zt,{className:"w-5 h-5 text-blue-600"}),cd(P.crimeNumber)>0&&d.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 text-white rounded-full text-xs flex items-center justify-center",children:cd(P.crimeNumber)})]}),d.jsx("button",{className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-full flex items-center justify-center",onClick:()=>w({caseNumber:P.crimeNumber,victimName:P.victimName}),children:d.jsx(kc,{className:"w-5 h-5 text-blue-600"})}),d.jsx("button",{className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-full flex items-center justify-center",onClick:()=>k(P.crimeNumber),children:d.jsx(lr,{className:"w-5 h-5 text-blue-600"})}),d.jsx("button",{className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-full flex items-center justify-center",onClick:()=>j(P.crimeNumber),children:d.jsx($x,{className:"w-5 h-5 text-yellow-500"})}),d.jsx("button",{className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-full flex items-center justify-center",onClick:()=>L0(P.crimeNumber),children:v.includes(P.crimeNumber)?d.jsx(wx,{className:"w-5 h-5 text-blue-600"}):d.jsx(gm,{className:"w-5 h-5 text-blue-600"})})]}),v.includes(P.crimeNumber)&&d.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100 space-y-4",children:d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Next Appointment"}),d.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[d.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[d.jsx(kc,{className:"w-4 h-4 mr-2"}),d.jsx("span",{className:"text-sm",children:"Tomorrow, 10:00 AM"})]}),d.jsxs("div",{className:"flex items-center text-gray-600",children:[d.jsx(Du,{className:"w-4 h-4 mr-2"}),d.jsx("span",{className:"text-sm",children:"Police Station"})]})]})]})})]})]},L))}):D?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("p",{className:"text-gray-500",children:"Loading appointments..."})}):d.jsx(D0,{appointments:ee,onContactClick:hs,onCancel:Ue,onReschedule:Te})]})}function ZS({messages:t,caseNumber:e,senderId:n,onClose:s,onSendMessage:i,newMessage:r,setNewMessage:o}){const a=N.useRef(null),l=()=>{var u;(u=a.current)==null||u.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{l()},[t]);const c=u=>{u.key==="Enter"&&!u.shiftKey&&(u.preventDefault(),i(r))};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium",children:"Case Chat"}),d.jsx("p",{className:"text-sm text-gray-500",children:e})]}),d.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-full",children:d.jsx(st,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"h-96 p-4 overflow-y-auto space-y-4",children:[t.map(u=>d.jsx("div",{className:`flex ${u.sender_id===n?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${u.sender_id===n?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[d.jsx("p",{className:"whitespace-pre-wrap break-words",children:u.text}),d.jsx("p",{className:`text-xs mt-1 ${u.sender_id===n?"text-blue-100":"text-gray-500"}`,children:new Date(u.created_at).toLocaleTimeString()})]})},u.id)),d.jsx("div",{ref:a})]}),d.jsx("div",{className:"p-4 border-t",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("textarea",{value:r,onChange:u=>o(u.target.value),onKeyPress:c,placeholder:"Type your message...",className:"flex-1 px-4 py-2 border rounded-lg focus:outline-none focus:border-blue-500 resize-none",rows:1,style:{minHeight:"42px",maxHeight:"120px"}}),d.jsx("button",{onClick:()=>i(r),disabled:!r.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(Iu,{className:"w-5 h-5"})})]})})]})})}function ej({onBack:t}){const[e,n]=N.useState([]),[s,i]=N.useState(null),[r,o]=N.useState(""),a={name:"S. Khanom",image:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"},l=[{crimeNumber:"CRI12366/21",status:"Ongoing",type:"SEC 47 ASSAULT",typeColor:"bg-red-100 text-red-800",officer:{name:"DC S. Morgan",status:"Online",role:"VCOP"},hasMessages:!0},{crimeNumber:"CRI10366/19",status:"Closed",type:"BURGLARY",typeColor:"bg-yellow-100 text-yellow-800",officer:{name:"DC S. Michael",status:"Offline",role:"VCOP"}}];N.useEffect(()=>{(async()=>{const{data:m,error:v}=await ne.from("messages").select("*").order("created_at",{ascending:!0});if(v){console.error("Error fetching messages:",v);return}m&&n(m)})();const p=ne.channel("victim-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},m=>{const v=m.new;n(x=>[...x,v])}).subscribe();return()=>{ne.removeChannel(p)}},[]);const c=async()=>{var f;if(!(!r.trim()||!s))try{const p={sender_id:`victim-${s}`,receiver_id:((f=l.find(x=>x.crimeNumber===s))==null?void 0:f.officer.name.split(" ")[1])||"",text:r,case_number:s,read:!1},{data:m,error:v}=await ne.from("messages").insert([p]).select();if(v)throw v;m&&(n(x=>[...x,m[0]]),o(""))}catch(p){console.error("Error sending message:",p)}},u=f=>e.filter(p=>p.case_number===f&&(p.sender_id===`victim-${f}`||p.receiver_id===`victim-${f}`)),h=f=>e.filter(p=>p.case_number===f&&p.receiver_id===`victim-${f}`&&!p.read).length;return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s&&d.jsx(ZS,{messages:u(s),caseNumber:s,senderId:`victim-${s}`,onClose:()=>i(null),onSendMessage:c,newMessage:r,setNewMessage:o}),d.jsxs("header",{className:"bg-white p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:t,children:d.jsx(Lu,{className:"w-6 h-6"})}),d.jsx("h2",{className:"text-xl font-semibold",children:a.name})]}),d.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-white rounded-full shadow",children:[d.jsx(Cx,{className:"w-5 h-5"}),d.jsx("span",{children:"Help"})]})]}),d.jsxs("div",{className:"m-4 p-4 bg-red-100 rounded-lg relative",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx(Px,{className:"w-6 h-6 text-red-800 flex-shrink-0 mt-1"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-red-800",children:"Community Alert - Burglary"}),d.jsx("p",{className:"text-red-800",children:"A burglary was reported to Charlottesville Police on December 03, 2022 at 4:57 AM."})]})]}),d.jsx("button",{className:"absolute top-4 right-4",children:d.jsx(st,{className:"w-5 h-5 text-red-800"})})]}),d.jsxs("div",{className:"space-y-4 p-4",children:[l.map((f,p)=>d.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("span",{className:`px-4 py-1 rounded-full text-sm ${f.status==="Ongoing"?"bg-green-100 text-green-800":"bg-gray-200 text-gray-600"}`,children:f.status})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("p",{className:"text-sm text-gray-500",children:"Crime no"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-blue-600 font-medium",children:f.crimeNumber}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f.typeColor}`,children:f.type})]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"text-sm text-gray-500",children:["Officer In Charge -",d.jsxs("span",{className:f.officer.status==="Online"?"text-green-600":"text-gray-500",children:[" ",f.officer.status]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-1",children:[d.jsx("span",{className:"font-medium",children:f.officer.name}),d.jsx("span",{className:`px-4 py-1 rounded-full ${f.status==="Ongoing"?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:f.officer.role})]})]}),d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("button",{className:"p-3 hover:bg-gray-50 rounded-full",children:d.jsx(cr,{className:"w-5 h-5 text-gray-600"})}),d.jsxs("button",{className:"p-3 hover:bg-gray-50 rounded-full relative",onClick:()=>i(f.crimeNumber),children:[d.jsx(Zt,{className:"w-5 h-5 text-gray-600"}),h(f.crimeNumber)>0&&d.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 text-white rounded-full text-xs flex items-center justify-center",children:h(f.crimeNumber)})]}),d.jsx("button",{className:"p-3 hover:bg-gray-50 rounded-full",children:d.jsx(Na,{className:"w-5 h-5 text-gray-600"})}),d.jsx("button",{className:"p-3 hover:bg-gray-50 rounded-full",children:d.jsx(lr,{className:"w-5 h-5 text-gray-600"})}),d.jsx("button",{className:"p-3 hover:bg-gray-50 rounded-full",children:d.jsx(Zo,{className:"w-5 h-5 text-gray-600"})})]})})]},p)),d.jsxs("button",{className:"w-full bg-blue-600 text-white rounded-lg p-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Dx,{className:"w-6 h-6"}),d.jsxs("div",{className:"text-left",children:[d.jsx("h3",{className:"font-semibold",children:"What to expect?"}),d.jsx("p",{className:"text-sm text-blue-200",children:"Learn how policing works behind the scenes"})]})]}),d.jsx(Zo,{className:"w-5 h-5"})]})]})]})}function tj({officerName:t,officerId:e,messages:n,onSendMessage:s,onClose:i}){const[r,o]=N.useState(!1),[a,l]=N.useState(""),c=N.useRef(null),u=()=>{var p;(p=c.current)==null||p.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{u()},[n]);const h=()=>{a.trim()&&(s(a),l(""))},f=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),h())};return d.jsxs("div",{className:`fixed bottom-0 right-4 z-50 w-80 bg-white rounded-t-lg shadow-lg border border-gray-200 ${r?"h-12":"h-96"} transition-all duration-300`,children:[d.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-blue-600 text-white rounded-t-lg cursor-pointer",onClick:()=>o(!r),children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Zt,{className:"w-5 h-5"}),d.jsx("span",{className:"font-medium",children:t})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[r?d.jsx(Mx,{className:"w-4 h-4"}):d.jsx(Ax,{className:"w-4 h-4"}),d.jsx("button",{onClick:p=>{p.stopPropagation(),i()},className:"hover:bg-blue-700 rounded p-1",children:d.jsx(st,{className:"w-4 h-4"})})]})]}),!r&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"h-[calc(100%-6rem)] overflow-y-auto p-4 space-y-4",children:[n.map(p=>d.jsx("div",{className:`flex ${p.isOutgoing?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`max-w-[70%] rounded-lg px-4 py-2 ${p.isOutgoing?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[d.jsx("p",{className:"whitespace-pre-wrap break-words",children:p.text}),d.jsx("p",{className:`text-xs mt-1 ${p.isOutgoing?"text-blue-100":"text-gray-500"}`,children:new Date(p.timestamp).toLocaleTimeString()})]})},p.id)),d.jsx("div",{ref:c})]}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 border-t bg-white",children:d.jsxs("div",{className:"flex space-x-2",children:[d.jsx("input",{type:"text",value:a,onChange:p=>l(p.target.value),onKeyPress:f,placeholder:"Type a message...",className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx("button",{onClick:h,disabled:!a.trim(),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d.jsx(Iu,{className:"w-5 h-5"})})]})})]})]})}function nj({message:t,type:e,onClose:n,duration:s=5e3}){return N.useEffect(()=>{const i=setTimeout(()=>{n()},s);return()=>clearTimeout(i)},[s,n]),d.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center space-x-2 px-4 py-3 rounded-lg shadow-lg ${e==="success"?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:[e==="success"?d.jsx(_x,{className:"w-5 h-5 text-green-500"}):d.jsx(wc,{className:"w-5 h-5 text-red-500"}),d.jsx("p",{className:"text-sm font-medium",children:t}),d.jsx("button",{onClick:n,className:"p-1 hover:bg-black hover:bg-opacity-10 rounded-full",children:d.jsx(st,{className:"w-4 h-4"})})]})}function co({toasts:t,onRemove:e}){return d.jsx("div",{className:"fixed top-0 right-0 z-50 p-4 space-y-4",children:t.map(n=>d.jsx(nj,{message:n.message,type:n.type,onClose:()=>e(n.id)},n.id))})}function sj(){const[t,e]=N.useState([]),n=N.useCallback((i,r)=>{const o=Math.random().toString(36).substr(2,9);e(a=>[...a,{id:o,message:i,type:r}])},[]),s=N.useCallback(i=>{e(r=>r.filter(o=>o.id!==i))},[]);return{toasts:t,showToast:n,removeToast:s}}function ij(){const[t,e]=N.useState("landing"),[n,s]=N.useState([]),[i,r]=N.useState(null),{toasts:o,showToast:a,removeToast:l}=sj();N.useEffect(()=>{(async()=>{try{const{data:p,error:m}=await ne.from("messages").select("*").order("created_at",{ascending:!0});if(m)throw m;p&&s(p.map(v=>({...v,timestamp:new Date(v.created_at)})))}catch(p){console.error("Error fetching messages:",p),a("Failed to load messages. Please try again.","error")}})();const f=ne.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},p=>{const m={...p.new,timestamp:new Date(p.new.created_at)};s(v=>[...v,m])}).subscribe();return()=>{ne.removeChannel(f)}},[a]),N.useEffect(()=>{const h=f=>{r(f.detail)};return window.addEventListener("openChat",h),()=>window.removeEventListener("openChat",h)},[]);const c=async(h,f)=>{try{const p={sender_id:t==="admin"?"admin":h,receiver_id:t==="admin"?h:"admin",text:f,created_at:new Date().toISOString()},{data:m,error:v}=await ne.from("messages").insert([p]).select();if(v)throw v;if(m){const x={...m[0],timestamp:new Date(m[0].created_at)};s(g=>[...g,x]),a("Message sent successfully","success")}}catch(p){console.error("Error sending message:",p),a("Failed to send message. Please try again.","error")}},u=h=>n.filter(f=>f.sender_id==="admin"&&f.receiver_id===h||f.sender_id===h&&f.receiver_id==="admin");return t==="admin"?d.jsxs(d.Fragment,{children:[d.jsx(KS,{onBack:()=>e("landing"),onSendMessage:c,messages:n,showToast:a}),i&&d.jsx(tj,{officerName:i.officerName,officerId:i.officerId,messages:u(i.officerId).map(h=>({id:h.id,text:h.text,timestamp:h.timestamp.toISOString(),isOutgoing:h.sender_id==="admin"})),onSendMessage:h=>c(i.officerId,h),onClose:()=>r(null)}),d.jsx(co,{toasts:o,onRemove:l})]}):t==="police"?d.jsxs(d.Fragment,{children:[d.jsx(JS,{onBack:()=>e("landing"),messages:n,officerId:"DCI 12321",showToast:a}),d.jsx(co,{toasts:o,onRemove:l})]}):t==="victim"?d.jsxs(d.Fragment,{children:[d.jsx(ej,{onBack:()=>e("landing"),showToast:a}),d.jsx(co,{toasts:o,onRemove:l})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col items-center justify-center p-6",children:d.jsxs("div",{className:"w-full max-w-md space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-3xl font-bold text-blue-600 mb-2",children:"ESKODE"}),d.jsx("p",{className:"text-gray-600",children:"Police Management System"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("button",{onClick:()=>e("police"),className:"w-full bg-blue-600 text-white rounded-lg px-6 py-4 font-medium hover:bg-blue-700 transition-colors",children:"Police Mobile App"}),d.jsx("button",{onClick:()=>e("admin"),className:"w-full bg-white border-2 border-blue-600 text-blue-600 rounded-lg px-6 py-4 font-medium hover:bg-blue-50 transition-colors",children:"Admin Dashboard"}),d.jsx("button",{onClick:()=>e("victim"),className:"w-full bg-white border-2 border-blue-600 text-blue-600 rounded-lg px-6 py-4 font-medium hover:bg-blue-50 transition-colors",children:"Victim Portal"})]})]})}),d.jsx(co,{toasts:o,onRemove:l})]})}pm(document.getElementById("root")).render(d.jsx(N.StrictMode,{children:d.jsx(ij,{})}));export{B0 as g};
